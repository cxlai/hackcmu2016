/*!
 * jQuery JavaScript Library v1.10.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-24T18:39Z
 */
function createBar(e, t, n, r, s, o, u, a, f, l) {
  if (ie || w3c) {
    var c = '<div id="_xpbar' + ++N + '" style="visibility:visible; position:relative; overflow:hidden; width:' + e + "px; height:" + t + "px; background-color:" + n + "; border-color:" + s + "; border-width:" + r + 'px; border-style:solid; font-size:1px;">';
    c += '<span id="blocks' + N + '" style="left:-' + (t * 2 + 1) + 'px; position:absolute; font-size:1px">';
    for (i = 0; i < a; i++) c += '<span style="background-color:' + o + "; left:-" + (t * i + i) + "px; font-size:1px; position:absolute; width:" + t + "px; height:" + t + "px; ", c += ie ? "filter:alpha(opacity=" + (100 - i * (100 / a)) + ")" : "-Moz-opacity:" + (100 - i * (100 / a)) / 100, c += '"></span>';
    c += "</span></div>", document.write(c);
    var h = ie ? document.all["blocks" + N] : document.getElementById("blocks" + N);
    return h.bar = ie ? document.all["_xpbar" + N] : document.getElementById("_xpbar" + N), h.blocks = a, h.N = N, h.w = e, h.h = t, h.speed = u, h.ctr = 0, h.count = f, h.action = l, h.togglePause = togglePause, h.showBar = function() {
        this.bar.style.visibility = "visible"
    }, h.hideBar = function() {
        this.bar.style.visibility = "hidden"
    }, h.tid = setInterval("startBar(" + N + ")", u), h
  }
}

function startBar(bn) {
    var t = ie ? document.all["blocks" + bn] : document.getElementById("blocks" + bn);
    parseInt(t.style.left) + t.h + 1 - (t.blocks * t.h + t.blocks) > t.w ? (t.style.left = -(t.h * 2 + 1) + "px", t.ctr++, t.ctr >= t.count && (eval(t.action), t.ctr = 0)) : t.style.left = parseInt(t.style.left) + t.h + 1 + "px"
}

function togglePause() {
    this.tid == 0 ? this.tid = setInterval("startBar(" + this.N + ")", this.speed) : (clearInterval(this.tid), this.tid = 0)
}

function togglePause() {
    this.tid == 0 ? this.tid = setInterval("startBar(" + this.N + ")", this.speed) : (clearInterval(this.tid), this.tid = 0)
}

function PolyCluster(e, t) {
    this._ = {
        E: {},
        F: {},
        W: {},
        Z: {}
    }, this.$ = {
        U: {},
        V: {},
        W: {},
        Z: {}
    }, (t = google) && (t = t.maps) && t.OverlayView && (t = this, e && this.setMap(e), e && google.maps.event.addListener(e, "idle", function() {
        t.setCluster()
    })), typeof GOverlay != "undefined" && e && e.addOverlay(this)
}(function(e, t) {
    function H(e) {
        var t = e.length,
            n = w.type(e);
        return w.isWindow(e) ? !1 : e.nodeType === 1 && t ? !0 : n === "array" || n !== "function" && (t === 0 || typeof t == "number" && t > 0 && t - 1 in e)
    }

    function j(e) {
        var t = B[e] = {};
        return w.each(e.match(S) || [], function(e, n) {
            t[n] = !0
        }), t
    }

    function q(e, n, r, i) {
        if (!w.acceptData(e)) return;
        var s, o, u = w.expando,
            a = e.nodeType,
            f = a ? w.cache : e,
            l = a ? e[u] : e[u] && u;
        if ((!l || !f[l] || !i && !f[l].data) && r === t && typeof n == "string") return;
        l || (a ? l = e[u] = c.pop() || w.guid++ : l = u), f[l] || (f[l] = a ? {} : {
            toJSON: w.noop
        });
        if (typeof n == "object" || typeof n == "function") i ? f[l] = w.extend(f[l], n) : f[l].data = w.extend(f[l].data, n);
        return o = f[l], i || (o.data || (o.data = {}), o = o.data), r !== t && (o[w.camelCase(n)] = r), typeof n == "string" ? (s = o[n], s == null && (s = o[w.camelCase(n)])) : s = o, s
    }

    function R(e, t, n) {
        if (!w.acceptData(e)) return;
        var r, i, s = e.nodeType,
            o = s ? w.cache : e,
            u = s ? e[w.expando] : w.expando;
        if (!o[u]) return;
        if (t) {
            r = n ? o[u] : o[u].data;
            if (r) {
                w.isArray(t) ? t = t.concat(w.map(t, w.camelCase)) : t in r ? t = [t] : (t = w.camelCase(t), t in r ? t = [t] : t = t.split(" ")), i = t.length;
                while (i--) delete r[t[i]];
                if (n ? !z(r) : !w.isEmptyObject(r)) return
            }
        }
        if (!n) {
            delete o[u].data;
            if (!z(o[u])) return
        }
        s ? w.cleanData([e], !0) : w.support.deleteExpando || o != o.window ? delete o[u] : o[u] = null
    }

    function U(e, n, r) {
        if (r === t && e.nodeType === 1) {
            var i = "data-" + n.replace(I, "-$1").toLowerCase();
            r = e.getAttribute(i);
            if (typeof r == "string") {
                try {
                    r = r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null : +r + "" === r ? +r : F.test(r) ? w.parseJSON(r) : r
                } catch (s) {}
                w.data(e, n, r)
            } else r = t
        }
        return r
    }

    function z(e) {
        var t;
        for (t in e) {
            if (t === "data" && w.isEmptyObject(e[t])) continue;
            if (t !== "toJSON") return !1
        }
        return !0
    }

    function it() {
        return !0
    }

    function st() {
        return !1
    }

    function ot() {
        try {
            return o.activeElement
        } catch (e) {}
    }

    function ct(e, t) {
        do e = e[t]; while (e && e.nodeType !== 1);
        return e
    }

    function ht(e, t, n) {
        if (w.isFunction(t)) return w.grep(e, function(e, r) {
            return !!t.call(e, r, e) !== n
        });
        if (t.nodeType) return w.grep(e, function(e) {
            return e === t !== n
        });
        if (typeof t == "string") {
            if (ut.test(t)) return w.filter(t, e, n);
            t = w.filter(t, e)
        }
        return w.grep(e, function(e) {
            return w.inArray(e, t) >= 0 !== n
        })
    }

    function pt(e) {
        var t = dt.split("|"),
            n = e.createDocumentFragment();
        if (n.createElement)
            while (t.length) n.createElement(t.pop());
        return n
    }

    function Mt(e, t) {
        return w.nodeName(e, "table") && w.nodeName(t.nodeType === 1 ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function _t(e) {
        return e.type = (w.find.attr(e, "type") !== null) + "/" + e.type, e
    }

    function Dt(e) {
        var t = Ct.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function Pt(e, t) {
        var n, r = 0;
        for (;
            (n = e[r]) != null; r++) w._data(n, "globalEval", !t || w._data(t[r], "globalEval"))
    }

    function Ht(e, t) {
        if (t.nodeType !== 1 || !w.hasData(e)) return;
        var n, r, i, s = w._data(e),
            o = w._data(t, s),
            u = s.events;
        if (u) {
            delete o.handle, o.events = {};
            for (n in u)
                for (r = 0, i = u[n].length; r < i; r++) w.event.add(t, n, u[n][r])
        }
        o.data && (o.data = w.extend({}, o.data))
    }

    function Bt(e, t) {
        var n, r, i;
        if (t.nodeType !== 1) return;
        n = t.nodeName.toLowerCase();
        if (!w.support.noCloneEvent && t[w.expando]) {
            i = w._data(t);
            for (r in i.events) w.removeEvent(t, r, i.handle);
            t.removeAttribute(w.expando)
        }
        if (n === "script" && t.text !== e.text) _t(t).text = e.text, Dt(t);
        else if (n === "object") t.parentNode && (t.outerHTML = e.outerHTML), w.support.html5Clone && e.innerHTML && !w.trim(t.innerHTML) && (t.innerHTML = e.innerHTML);
        else if (n === "input" && xt.test(e.type)) t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value);
        else if (n === "option") t.defaultSelected = t.selected = e.defaultSelected;
        else if (n === "input" || n === "textarea") t.defaultValue = e.defaultValue
    }

    function jt(e, n) {
        var r, s, o = 0,
            u = typeof e.getElementsByTagName !== i ? e.getElementsByTagName(n || "*") : typeof e.querySelectorAll !== i ? e.querySelectorAll(n || "*") : t;
        if (!u)
            for (u = [], r = e.childNodes || e;
                (s = r[o]) != null; o++) !n || w.nodeName(s, n) ? u.push(s) : w.merge(u, jt(s, n));
        return n === t || n && w.nodeName(e, n) ? w.merge([e], u) : u
    }

    function Ft(e) {
        xt.test(e.type) && (e.defaultChecked = e.checked)
    }

    function tn(e, t) {
        if (t in e) return t;
        var n = t.charAt(0).toUpperCase() + t.slice(1),
            r = t,
            i = en.length;
        while (i--) {
            t = en[i] + n;
            if (t in e) return t
        }
        return r
    }

    function nn(e, t) {
        return e = t || e, w.css(e, "display") === "none" || !w.contains(e.ownerDocument, e)
    }

    function rn(e, t) {
        var n, r, i, s = [],
            o = 0,
            u = e.length;
        for (; o < u; o++) {
            r = e[o];
            if (!r.style) continue;
            s[o] = w._data(r, "olddisplay"), n = r.style.display, t ? (!s[o] && n === "none" && (r.style.display = ""), r.style.display === "" && nn(r) && (s[o] = w._data(r, "olddisplay", an(r.nodeName)))) : s[o] || (i = nn(r), (n && n !== "none" || !i) && w._data(r, "olddisplay", i ? n : w.css(r, "display")))
        }
        for (o = 0; o < u; o++) {
            r = e[o];
            if (!r.style) continue;
            if (!t || r.style.display === "none" || r.style.display === "") r.style.display = t ? s[o] || "" : "none"
        }
        return e
    }

    function sn(e, t, n) {
        var r = $t.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }

    function on(e, t, n, r, i) {
        var s = n === (r ? "border" : "content") ? 4 : t === "width" ? 1 : 0,
            o = 0;
        for (; s < 4; s += 2) n === "margin" && (o += w.css(e, n + Zt[s], !0, i)), r ? (n === "content" && (o -= w.css(e, "padding" + Zt[s], !0, i)), n !== "margin" && (o -= w.css(e, "border" + Zt[s] + "Width", !0, i))) : (o += w.css(e, "padding" + Zt[s], !0, i), n !== "padding" && (o += w.css(e, "border" + Zt[s] + "Width", !0, i)));
        return o
    }

    function un(e, t, n) {
        var r = !0,
            i = t === "width" ? e.offsetWidth : e.offsetHeight,
            s = qt(e),
            o = w.support.boxSizing && w.css(e, "boxSizing", !1, s) === "border-box";
        if (i <= 0 || i == null) {
            i = Rt(e, t, s);
            if (i < 0 || i == null) i = e.style[t];
            if (Jt.test(i)) return i;
            r = o && (w.support.boxSizingReliable || i === e.style[t]), i = parseFloat(i) || 0
        }
        return i + on(e, t, n || (o ? "border" : "content"), r, s) + "px"
    }

    function an(e) {
        var t = o,
            n = Qt[e];
        if (!n) {
            n = fn(e, t);
            if (n === "none" || !n) It = (It || w("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement), t = (It[0].contentWindow || It[0].contentDocument).document, t.write("<!doctype html><html><body>"), t.close(), n = fn(e, t), It.detach();
            Qt[e] = n
        }
        return n
    }

    function fn(e, t) {
        var n = w(t.createElement(e)).appendTo(t.body),
            r = w.css(n[0], "display");
        return n.remove(), r
    }

    function vn(e, t, n, r) {
        var i;
        if (w.isArray(t)) w.each(t, function(t, i) {
            n || cn.test(e) ? r(e, i) : vn(e + "[" + (typeof i == "object" ? t : "") + "]", i, n, r)
        });
        else if (!n && w.type(t) === "object")
            for (i in t) vn(e + "[" + i + "]", t[i], n, r);
        else r(e, t)
    }

    function _n(e) {
        return function(t, n) {
            typeof t != "string" && (n = t, t = "*");
            var r, i = 0,
                s = t.toLowerCase().match(S) || [];
            if (w.isFunction(n))
                while (r = s[i++]) r[0] === "+" ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
        }
    }

    function Dn(e, t, n, r) {
        function o(u) {
            var a;
            return i[u] = !0, w.each(e[u] || [], function(e, u) {
                var f = u(t, n, r);
                if (typeof f == "string" && !s && !i[f]) return t.dataTypes.unshift(f), o(f), !1;
                if (s) return !(a = f)
            }), a
        }
        var i = {},
            s = e === An;
        return o(t.dataTypes[0]) || !i["*"] && o("*")
    }

    function Pn(e, n) {
        var r, i, s = w.ajaxSettings.flatOptions || {};
        for (i in n) n[i] !== t && ((s[i] ? e : r || (r = {}))[i] = n[i]);
        return r && w.extend(!0, e, r), e
    }

    function Hn(e, n, r) {
        var i, s, o, u, a = e.contents,
            f = e.dataTypes;
        while (f[0] === "*") f.shift(), s === t && (s = e.mimeType || n.getResponseHeader("Content-Type"));
        if (s)
            for (u in a)
                if (a[u] && a[u].test(s)) {
                    f.unshift(u);
                    break
                }
        if (f[0] in r) o = f[0];
        else {
            for (u in r) {
                if (!f[0] || e.converters[u + " " + f[0]]) {
                    o = u;
                    break
                }
                i || (i = u)
            }
            o = o || i
        }
        if (o) return o !== f[0] && f.unshift(o), r[o]
    }

    function Bn(e, t, n, r) {
        var i, s, o, u, a, f = {},
            l = e.dataTypes.slice();
        if (l[1])
            for (o in e.converters) f[o.toLowerCase()] = e.converters[o];
        s = l.shift();
        while (s) {
            e.responseFields[s] && (n[e.responseFields[s]] = t), !a && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), a = s, s = l.shift();
            if (s)
                if (s === "*") s = a;
                else if (a !== "*" && a !== s) {
                o = f[a + " " + s] || f["* " + s];
                if (!o)
                    for (i in f) {
                        u = i.split(" ");
                        if (u[1] === s) {
                            o = f[a + " " + u[0]] || f["* " + u[0]];
                            if (o) {
                                o === !0 ? o = f[i] : f[i] !== !0 && (s = u[0], l.unshift(u[1]));
                                break
                            }
                        }
                    }
                if (o !== !0)
                    if (o && e["throws"]) t = o(t);
                    else try {
                        t = o(t)
                    } catch (c) {
                        return {
                            state: "parsererror",
                            error: o ? c : "No conversion from " + a + " to " + s
                        }
                    }
            }
        }
        return {
            state: "success",
            data: t
        }
    }

    function zn() {
        try {
            return new e.XMLHttpRequest
        } catch (t) {}
    }

    function Wn() {
        try {
            return new e.ActiveXObject("Microsoft.XMLHTTP")
        } catch (t) {}
    }

    function Yn() {
        return setTimeout(function() {
            Xn = t
        }), Xn = w.now()
    }

    function Zn(e, t, n) {
        var r, i = (Gn[t] || []).concat(Gn["*"]),
            s = 0,
            o = i.length;
        for (; s < o; s++)
            if (r = i[s].call(n, t, e)) return r
    }

    function er(e, t, n) {
        var r, i, s = 0,
            o = Qn.length,
            u = w.Deferred().always(function() {
                delete a.elem
            }),
            a = function() {
                if (i) return !1;
                var t = Xn || Yn(),
                    n = Math.max(0, f.startTime + f.duration - t),
                    r = n / f.duration || 0,
                    s = 1 - r,
                    o = 0,
                    a = f.tweens.length;
                for (; o < a; o++) f.tweens[o].run(s);
                return u.notifyWith(e, [f, s, n]), s < 1 && a ? n : (u.resolveWith(e, [f]), !1)
            },
            f = u.promise({
                elem: e,
                props: w.extend({}, t),
                opts: w.extend(!0, {
                    specialEasing: {}
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Xn || Yn(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = w.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing);
                    return f.tweens.push(r), r
                },
                stop: function(t) {
                    var n = 0,
                        r = t ? f.tweens.length : 0;
                    if (i) return this;
                    i = !0;
                    for (; n < r; n++) f.tweens[n].run(1);
                    return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]), this
                }
            }),
            l = f.props;
        tr(l, f.opts.specialEasing);
        for (; s < o; s++) {
            r = Qn[s].call(f, e, l, f.opts);
            if (r) return r
        }
        return w.map(l, Zn, f), w.isFunction(f.opts.start) && f.opts.start.call(e, f), w.fx.timer(w.extend(a, {
            elem: e,
            anim: f,
            queue: f.opts.queue
        })), f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always)
    }

    function tr(e, t) {
        var n, r, i, s, o;
        for (n in e) {
            r = w.camelCase(n), i = t[r], s = e[n], w.isArray(s) && (i = s[1], s = e[n] = s[0]), n !== r && (e[r] = s, delete e[n]), o = w.cssHooks[r];
            if (o && "expand" in o) {
                s = o.expand(s), delete e[r];
                for (n in s) n in e || (e[n] = s[n], t[n] = i)
            } else t[r] = i
        }
    }

    function nr(e, t, n) {
        var r, i, s, o, u, a, f = this,
            l = {},
            c = e.style,
            h = e.nodeType && nn(e),
            p = w._data(e, "fxshow");
        n.queue || (u = w._queueHooks(e, "fx"), u.unqueued == null && (u.unqueued = 0, a = u.empty.fire, u.empty.fire = function() {
            u.unqueued || a()
        }), u.unqueued++, f.always(function() {
            f.always(function() {
                u.unqueued--, w.queue(e, "fx").length || u.empty.fire()
            })
        })), e.nodeType === 1 && ("height" in t || "width" in t) && (n.overflow = [c.overflow, c.overflowX, c.overflowY], w.css(e, "display") === "inline" && w.css(e, "float") === "none" && (!w.support.inlineBlockNeedsLayout || an(e.nodeName) === "inline" ? c.display = "inline-block" : c.zoom = 1)), n.overflow && (c.overflow = "hidden", w.support.shrinkWrapBlocks || f.always(function() {
            c.overflow = n.overflow[0], c.overflowX = n.overflow[1], c.overflowY = n.overflow[2]
        }));
        for (r in t) {
            i = t[r];
            if ($n.exec(i)) {
                delete t[r], s = s || i === "toggle";
                if (i === (h ? "hide" : "show")) continue;
                l[r] = p && p[r] || w.style(e, r)
            }
        }
        if (!w.isEmptyObject(l)) {
            p ? "hidden" in p && (h = p.hidden) : p = w._data(e, "fxshow", {}), s && (p.hidden = !h), h ? w(e).show() : f.done(function() {
                w(e).hide()
            }), f.done(function() {
                var t;
                w._removeData(e, "fxshow");
                for (t in l) w.style(e, t, l[t])
            });
            for (r in l) o = Zn(h ? p[r] : 0, r, f), r in p || (p[r] = o.start, h && (o.end = o.start, o.start = r === "width" || r === "height" ? 1 : 0))
        }
    }

    function rr(e, t, n, r, i) {
        return new rr.prototype.init(e, t, n, r, i)
    }

    function ir(e, t) {
        var n, r = {
                height: e
            },
            i = 0;
        t = t ? 1 : 0;
        for (; i < 4; i += 2 - t) n = Zt[i], r["margin" + n] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e), r
    }

    function sr(e) {
        return w.isWindow(e) ? e : e.nodeType === 9 ? e.defaultView || e.parentWindow : !1
    }
    var n, r, i = typeof t,
        s = e.location,
        o = e.document,
        u = o.documentElement,
        a = e.jQuery,
        f = e.$,
        l = {},
        c = [],
        h = "1.10.0",
        p = c.concat,
        d = c.push,
        v = c.slice,
        m = c.indexOf,
        g = l.toString,
        y = l.hasOwnProperty,
        b = h.trim,
        w = function(e, t) {
            return new w.fn.init(e, t, r)
        },
        E = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        S = /\S+/g,
        x = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        T = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        N = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        C = /^[\],:{}\s]*$/,
        k = /(?:^|:|,)(?:\s*\[)+/g,
        L = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
        A = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
        O = /^-ms-/,
        M = /-([\da-z])/gi,
        _ = function(e, t) {
            return t.toUpperCase()
        },
        D = function(e) {
            if (o.addEventListener || e.type === "load" || o.readyState === "complete") P(), w.ready()
        },
        P = function() {
            o.addEventListener ? (o.removeEventListener("DOMContentLoaded", D, !1), e.removeEventListener("load", D, !1)) : (o.detachEvent("onreadystatechange", D), e.detachEvent("onload", D))
        };
    w.fn = w.prototype = {
            jquery: h,
            constructor: w,
            init: function(e, n, r) {
                var i, s;
                if (!e) return this;
                if (typeof e == "string") {
                    e.charAt(0) === "<" && e.charAt(e.length - 1) === ">" && e.length >= 3 ? i = [null, e, null] : i = T.exec(e);
                    if (i && (i[1] || !n)) {
                        if (i[1]) {
                            n = n instanceof w ? n[0] : n, w.merge(this, w.parseHTML(i[1], n && n.nodeType ? n.ownerDocument || n : o, !0));
                            if (N.test(i[1]) && w.isPlainObject(n))
                                for (i in n) w.isFunction(this[i]) ? this[i](n[i]) : this.attr(i, n[i]);
                            return this
                        }
                        s = o.getElementById(i[2]);
                        if (s && s.parentNode) {
                            if (s.id !== i[2]) return r.find(e);
                            this.length = 1, this[0] = s
                        }
                        return this.context = o, this.selector = e, this
                    }
                    return !n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e)
                }
                return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : w.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), w.makeArray(e, this))
            },
            selector: "",
            length: 0,
            toArray: function() {
                return v.call(this)
            },
            get: function(e) {
                return e == null ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
            },
            pushStack: function(e) {
                var t = w.merge(this.constructor(), e);
                return t.prevObject = this, t.context = this.context, t
            },
            each: function(e, t) {
                return w.each(this, e, t)
            },
            ready: function(e) {
                return w.ready.promise().done(e), this
            },
            slice: function() {
                return this.pushStack(v.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length,
                    n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            map: function(e) {
                return this.pushStack(w.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: d,
            sort: [].sort,
            splice: [].splice
        }, w.fn.init.prototype = w.fn, w.extend = w.fn.extend = function() {
            var e, n, r, i, s, o, u = arguments[0] || {},
                a = 1,
                f = arguments.length,
                l = !1;
            typeof u == "boolean" && (l = u, u = arguments[1] || {}, a = 2), typeof u != "object" && !w.isFunction(u) && (u = {}), f === a && (u = this, --a);
            for (; a < f; a++)
                if ((s = arguments[a]) != null)
                    for (i in s) {
                        e = u[i], r = s[i];
                        if (u === r) continue;
                        l && r && (w.isPlainObject(r) || (n = w.isArray(r))) ? (n ? (n = !1, o = e && w.isArray(e) ? e : []) : o = e && w.isPlainObject(e) ? e : {}, u[i] = w.extend(l, o, r)) : r !== t && (u[i] = r)
                    }
                return u
        }, w.extend({
            expando: "jQuery" + (h + Math.random()).replace(/\D/g, ""),
            noConflict: function(t) {
                return e.$ === w && (e.$ = f), t && e.jQuery === w && (e.jQuery = a), w
            },
            isReady: !1,
            readyWait: 1,
            holdReady: function(e) {
                e ? w.readyWait++ : w.ready(!0)
            },
            ready: function(e) {
                if (e === !0 ? --w.readyWait : w.isReady) return;
                if (!o.body) return setTimeout(w.ready);
                w.isReady = !0;
                if (e !== !0 && --w.readyWait > 0) return;
                n.resolveWith(o, [w]), w.fn.trigger && w(o).trigger("ready").off("ready")
            },
            isFunction: function(e) {
                return w.type(e) === "function"
            },
            isArray: Array.isArray || function(e) {
                return w.type(e) === "array"
            },
            isWindow: function(e) {
                return e != null && e == e.window
            },
            isNumeric: function(e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            },
            type: function(e) {
                return e == null ? String(e) : typeof e == "object" || typeof e == "function" ? l[g.call(e)] || "object" : typeof e
            },
            isPlainObject: function(e) {
                var n;
                if (!e || w.type(e) !== "object" || e.nodeType || w.isWindow(e)) return !1;
                try {
                    if (e.constructor && !y.call(e, "constructor") && !y.call(e.constructor.prototype, "isPrototypeOf")) return !1
                } catch (r) {
                    return !1
                }
                if (w.support.ownLast)
                    for (n in e) return y.call(e, n);
                for (n in e);
                return n === t || y.call(e, n)
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e) return !1;
                return !0
            },
            error: function(e) {
                throw new Error(e)
            },
            parseHTML: function(e, t, n) {
                if (!e || typeof e != "string") return null;
                typeof t == "boolean" && (n = t, t = !1), t = t || o;
                var r = N.exec(e),
                    i = !n && [];
                return r ? [t.createElement(r[1])] : (r = w.buildFragment([e], t, i), i && w(i).remove(), w.merge([], r.childNodes))
            },
            parseJSON: function(t) {
                if (e.JSON && e.JSON.parse) return e.JSON.parse(t);
                if (t === null) return t;
                if (typeof t == "string") {
                    t = w.trim(t);
                    if (t && C.test(t.replace(L, "@").replace(A, "]").replace(k, ""))) return (new Function("return " + t))()
                }
                w.error("Invalid JSON: " + t)
            },
            parseXML: function(n) {
                var r, i;
                if (!n || typeof n != "string") return null;
                try {
                    e.DOMParser ? (i = new DOMParser, r = i.parseFromString(n, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"), r.async = "false", r.loadXML(n))
                } catch (s) {
                    r = t
                }
                return (!r || !r.documentElement || r.getElementsByTagName("parsererror").length) && w.error("Invalid XML: " + n), r
            },
            noop: function() {},
            globalEval: function(t) {
                t && w.trim(t) && (e.execScript || function(t) {
                    e.eval.call(e, t)
                })(t)
            },
            camelCase: function(e) {
                return e.replace(O, "ms-").replace(M, _)
            },
            nodeName: function(e, t) {
                return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
            },
            each: function(e, t, n) {
                var r, i = 0,
                    s = e.length,
                    o = H(e);
                if (n)
                    if (o)
                        for (; i < s; i++) {
                            r = t.apply(e[i], n);
                            if (r === !1) break
                        } else
                            for (i in e) {
                                r = t.apply(e[i], n);
                                if (r === !1) break
                            } else if (o)
                                for (; i < s; i++) {
                                    r = t.call(e[i], i, e[i]);
                                    if (r === !1) break
                                } else
                                    for (i in e) {
                                        r = t.call(e[i], i, e[i]);
                                        if (r === !1) break
                                    }
                            return e
            },
            trim: b && !b.call("ï»¿Â ") ? function(e) {
                return e == null ? "" : b.call(e)
            } : function(e) {
                return e == null ? "" : (e + "").replace(x, "")
            },
            makeArray: function(e, t) {
                var n = t || [];
                return e != null && (H(Object(e)) ? w.merge(n, typeof e == "string" ? [e] : e) : d.call(n, e)), n
            },
            inArray: function(e, t, n) {
                var r;
                if (t) {
                    if (m) return m.call(t, e, n);
                    r = t.length, n = n ? n < 0 ? Math.max(0, r + n) : n : 0;
                    for (; n < r; n++)
                        if (n in t && t[n] === e) return n
                }
                return -1
            },
            merge: function(e, n) {
                var r = n.length,
                    i = e.length,
                    s = 0;
                if (typeof r == "number")
                    for (; s < r; s++) e[i++] = n[s];
                else
                    while (n[s] !== t) e[i++] = n[s++];
                return e.length = i, e
            },
            grep: function(e, t, n) {
                var r, i = [],
                    s = 0,
                    o = e.length;
                n = !!n;
                for (; s < o; s++) r = !!t(e[s], s), n !== r && i.push(e[s]);
                return i
            },
            map: function(e, t, n) {
                var r, i = 0,
                    s = e.length,
                    o = H(e),
                    u = [];
                if (o)
                    for (; i < s; i++) r = t(e[i], i, n), r != null && (u[u.length] = r);
                else
                    for (i in e) r = t(e[i], i, n), r != null && (u[u.length] = r);
                return p.apply([], u)
            },
            guid: 1,
            proxy: function(e, n) {
                var r, i, s;
                return typeof n == "string" && (s = e[n], n = e, e = s), w.isFunction(e) ? (r = v.call(arguments, 2), i = function() {
                    return e.apply(n || this, r.concat(v.call(arguments)))
                }, i.guid = e.guid = e.guid || w.guid++, i) : t
            },
            access: function(e, n, r, i, s, o, u) {
                var a = 0,
                    f = e.length,
                    l = r == null;
                if (w.type(r) === "object") {
                    s = !0;
                    for (a in r) w.access(e, n, a, r[a], !0, o, u)
                } else if (i !== t) {
                    s = !0, w.isFunction(i) || (u = !0), l && (u ? (n.call(e, i), n = null) : (l = n, n = function(e, t, n) {
                        return l.call(w(e), n)
                    }));
                    if (n)
                        for (; a < f; a++) n(e[a], r, u ? i : i.call(e[a], a, n(e[a], r)))
                }
                return s ? e : l ? n.call(e) : f ? n(e[0], r) : o
            },
            now: function() {
                return (new Date).getTime()
            },
            swap: function(e, t, n, r) {
                var i, s, o = {};
                for (s in t) o[s] = e.style[s], e.style[s] = t[s];
                i = n.apply(e, r || []);
                for (s in t) e.style[s] = o[s];
                return i
            }
        }), w.ready.promise = function(t) {
            if (!n) {
                n = w.Deferred();
                if (o.readyState === "complete") setTimeout(w.ready);
                else if (o.addEventListener) o.addEventListener("DOMContentLoaded", D, !1), e.addEventListener("load", D, !1);
                else {
                    o.attachEvent("onreadystatechange", D), e.attachEvent("onload", D);
                    var r = !1;
                    try {
                        r = e.frameElement == null && o.documentElement
                    } catch (i) {}
                    r && r.doScroll && function s() {
                        if (!w.isReady) {
                            try {
                                r.doScroll("left")
                            } catch (e) {
                                return setTimeout(s, 50)
                            }
                            P(), w.ready()
                        }
                    }()
                }
            }
            return n.promise(t)
        }, w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
            l["[object " + t + "]"] = t.toLowerCase()
        }), r = w(o),
        function(e, t) {
            function ot(e, t, n, i) {
                var s, o, u, a, f, l, p, m, g, w;
                (t ? t.ownerDocument || t : E) !== h && c(t), t = t || h, n = n || [];
                if (!e || typeof e != "string") return n;
                if ((a = t.nodeType) !== 1 && a !== 9) return [];
                if (d && !i) {
                    if (s = Z.exec(e))
                        if (u = s[1]) {
                            if (a === 9) {
                                o = t.getElementById(u);
                                if (!o || !o.parentNode) return n;
                                if (o.id === u) return n.push(o), n
                            } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(u)) && y(t, o) && o.id === u) return n.push(o), n
                        } else {
                            if (s[2]) return H.apply(n, t.getElementsByTagName(e)), n;
                            if ((u = s[3]) && r.getElementsByClassName && t.getElementsByClassName) return H.apply(n, t.getElementsByClassName(u)), n
                        }
                    if (r.qsa && (!v || !v.test(e))) {
                        m = p = b, g = t, w = a === 9 && e;
                        if (a === 1 && t.nodeName.toLowerCase() !== "object") {
                            l = bt(e), (p = t.getAttribute("id")) ? m = p.replace(nt, "\\$&") : t.setAttribute("id", m), m = "[id='" + m + "'] ", f = l.length;
                            while (f--) l[f] = m + wt(l[f]);
                            g = $.test(e) && t.parentNode || t, w = l.join(",")
                        }
                        if (w) try {
                            return H.apply(n, g.querySelectorAll(w)), n
                        } catch (S) {} finally {
                            p || t.removeAttribute("id")
                        }
                    }
                }
                return Lt(e.replace(W, "$1"), t, n, i)
            }

            function ut(e) {
                return Y.test(e + "")
            }

            function at() {
                function t(n, r) {
                    return e.push(n += " ") > s.cacheLength && delete t[e.shift()], t[n] = r
                }
                var e = [];
                return t
            }

            function ft(e) {
                return e[b] = !0, e
            }

            function lt(e) {
                var t = h.createElement("div");
                try {
                    return !!e(t)
                } catch (n) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t), t = null
                }
            }

            function ct(e, t, n) {
                e = e.split("|");
                var r, i = e.length,
                    o = n ? null : t;
                while (i--)
                    if (!(r = s.attrHandle[e[i]]) || r === t) s.attrHandle[e[i]] = o
            }

            function ht(e, t) {
                var n = e.getAttributeNode(t);
                return n && n.specified ? n.value : e[t] === !0 ? t.toLowerCase() : null
            }

            function pt(e, t) {
                return e.getAttribute(t, t.toLowerCase() === "type" ? 1 : 2)
            }

            function dt(e) {
                if (e.nodeName.toLowerCase() === "input") return e.defaultValue
            }

            function vt(e, t) {
                var n = t && e,
                    r = n && e.nodeType === 1 && t.nodeType === 1 && (~t.sourceIndex || O) - (~e.sourceIndex || O);
                if (r) return r;
                if (n)
                    while (n = n.nextSibling)
                        if (n === t) return -1;
                return e ? 1 : -1
            }

            function mt(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return n === "input" && t.type === e
                }
            }

            function gt(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return (n === "input" || n === "button") && t.type === e
                }
            }

            function yt(e) {
                return ft(function(t) {
                    return t = +t, ft(function(n, r) {
                        var i, s = e([], n.length, t),
                            o = s.length;
                        while (o--) n[i = s[o]] && (n[i] = !(r[i] = n[i]))
                    })
                })
            }

            function bt(e, t) {
                var n, r, i, o, u, a, f, l = N[e + " "];
                if (l) return t ? 0 : l.slice(0);
                u = e, a = [], f = s.preFilter;
                while (u) {
                    if (!n || (r = X.exec(u))) r && (u = u.slice(r[0].length) || u), a.push(i = []);
                    n = !1;
                    if (r = V.exec(u)) n = r.shift(), i.push({
                        value: n,
                        type: r[0].replace(W, " ")
                    }), u = u.slice(n.length);
                    for (o in s.filter)(r = G[o].exec(u)) && (!f[o] || (r = f[o](r))) && (n = r.shift(), i.push({
                        value: n,
                        type: o,
                        matches: r
                    }), u = u.slice(n.length));
                    if (!n) break
                }
                return t ? u.length : u ? ot.error(e) : N(e, a).slice(0)
            }

            function wt(e) {
                var t = 0,
                    n = e.length,
                    r = "";
                for (; t < n; t++) r += e[t].value;
                return r
            }

            function Et(e, t, n) {
                var r = t.dir,
                    s = n && r === "parentNode",
                    o = x++;
                return t.first ? function(t, n, i) {
                    while (t = t[r])
                        if (t.nodeType === 1 || s) return e(t, n, i)
                } : function(t, n, u) {
                    var a, f, l, c = S + " " + o;
                    if (u) {
                        while (t = t[r])
                            if (t.nodeType === 1 || s)
                                if (e(t, n, u)) return !0
                    } else
                        while (t = t[r])
                            if (t.nodeType === 1 || s) {
                                l = t[b] || (t[b] = {});
                                if ((f = l[r]) && f[0] === c) {
                                    if ((a = f[1]) === !0 || a === i) return a === !0
                                } else {
                                    f = l[r] = [c], f[1] = e(t, n, u) || i;
                                    if (f[1] === !0) return !0
                                }
                            }
                }
            }

            function St(e) {
                return e.length > 1 ? function(t, n, r) {
                    var i = e.length;
                    while (i--)
                        if (!e[i](t, n, r)) return !1;
                    return !0
                } : e[0]
            }

            function xt(e, t, n, r, i) {
                var s, o = [],
                    u = 0,
                    a = e.length,
                    f = t != null;
                for (; u < a; u++)
                    if (s = e[u])
                        if (!n || n(s, r, i)) o.push(s), f && t.push(u);
                return o
            }

            function Tt(e, t, n, r, i, s) {
                return r && !r[b] && (r = Tt(r)), i && !i[b] && (i = Tt(i, s)), ft(function(s, o, u, a) {
                    var f, l, c, h = [],
                        p = [],
                        d = o.length,
                        v = s || kt(t || "*", u.nodeType ? [u] : u, []),
                        m = e && (s || !t) ? xt(v, h, e, u, a) : v,
                        g = n ? i || (s ? e : d || r) ? [] : o : m;
                    n && n(m, g, u, a);
                    if (r) {
                        f = xt(g, p), r(f, [], u, a), l = f.length;
                        while (l--)
                            if (c = f[l]) g[p[l]] = !(m[p[l]] = c)
                    }
                    if (s) {
                        if (i || e) {
                            if (i) {
                                f = [], l = g.length;
                                while (l--)(c = g[l]) && f.push(m[l] = c);
                                i(null, g = [], f, a)
                            }
                            l = g.length;
                            while (l--)(c = g[l]) && (f = i ? j.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
                        }
                    } else g = xt(g === o ? g.splice(d, g.length) : g), i ? i(null, o, g, a) : H.apply(o, g)
                })
            }

            function Nt(e) {
                var t, n, r, i = e.length,
                    o = s.relative[e[0].type],
                    u = o || s.relative[" "],
                    a = o ? 1 : 0,
                    l = Et(function(e) {
                        return e === t
                    }, u, !0),
                    c = Et(function(e) {
                        return j.call(t, e) > -1
                    }, u, !0),
                    h = [function(e, n, r) {
                        return !o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
                    }];
                for (; a < i; a++)
                    if (n = s.relative[e[a].type]) h = [Et(St(h), n)];
                    else {
                        n = s.filter[e[a].type].apply(null, e[a].matches);
                        if (n[b]) {
                            r = ++a;
                            for (; r < i; r++)
                                if (s.relative[e[r].type]) break;
                            return Tt(a > 1 && St(h), a > 1 && wt(e.slice(0, a - 1).concat({
                                value: e[a - 2].type === " " ? "*" : ""
                            })).replace(W, "$1"), n, a < r && Nt(e.slice(a, r)), r < i && Nt(e = e.slice(r)), r < i && wt(e))
                        }
                        h.push(n)
                    }
                return St(h)
            }

            function Ct(e, t) {
                var n = 0,
                    r = t.length > 0,
                    o = e.length > 0,
                    u = function(u, a, l, c, p) {
                        var d, v, m, g = [],
                            y = 0,
                            b = "0",
                            w = u && [],
                            E = p != null,
                            x = f,
                            T = u || o && s.find.TAG("*", p && a.parentNode || a),
                            N = S += x == null ? 1 : Math.random() || .1;
                        E && (f = a !== h && a, i = n);
                        for (;
                            (d = T[b]) != null; b++) {
                            if (o && d) {
                                v = 0;
                                while (m = e[v++])
                                    if (m(d, a, l)) {
                                        c.push(d);
                                        break
                                    }
                                E && (S = N, i = ++n)
                            }
                            r && ((d = !m && d) && y--, u && w.push(d))
                        }
                        y += b;
                        if (r && b !== y) {
                            v = 0;
                            while (m = t[v++]) m(w, g, a, l);
                            if (u) {
                                if (y > 0)
                                    while (b--) !w[b] && !g[b] && (g[b] = D.call(c));
                                g = xt(g)
                            }
                            H.apply(c, g), E && !u && g.length > 0 && y + t.length > 1 && ot.uniqueSort(c)
                        }
                        return E && (S = N, f = x), w
                    };
                return r ? ft(u) : u
            }

            function kt(e, t, n) {
                var r = 0,
                    i = t.length;
                for (; r < i; r++) ot(e, t[r], n);
                return n
            }

            function Lt(e, t, n, i) {
                var o, u, f, l, c, h = bt(e);
                if (!i && h.length === 1) {
                    u = h[0] = h[0].slice(0);
                    if (u.length > 2 && (f = u[0]).type === "ID" && r.getById && t.nodeType === 9 && d && s.relative[u[1].type]) {
                        t = (s.find.ID(f.matches[0].replace(rt, it), t) || [])[0];
                        if (!t) return n;
                        e = e.slice(u.shift().value.length)
                    }
                    o = G.needsContext.test(e) ? 0 : u.length;
                    while (o--) {
                        f = u[o];
                        if (s.relative[l = f.type]) break;
                        if (c = s.find[l])
                            if (i = c(f.matches[0].replace(rt, it), $.test(u[0].type) && t.parentNode || t)) {
                                u.splice(o, 1), e = i.length && wt(u);
                                if (!e) return H.apply(n, i), n;
                                break
                            }
                    }
                }
                return a(e, h)(i, t, !d, n, $.test(e)), n
            }

            function At() {}
            var n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b = "sizzle" + -(new Date),
                E = e.document,
                S = 0,
                x = 0,
                T = at(),
                N = at(),
                C = at(),
                k = !1,
                L = function() {
                    return 0
                },
                A = typeof t,
                O = 1 << 31,
                M = {}.hasOwnProperty,
                _ = [],
                D = _.pop,
                P = _.push,
                H = _.push,
                B = _.slice,
                j = _.indexOf || function(e) {
                    var t = 0,
                        n = this.length;
                    for (; t < n; t++)
                        if (this[t] === e) return t;
                    return -1
                },
                F = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                I = "[\\x20\\t\\r\\n\\f]",
                q = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                R = q.replace("w", "w#"),
                U = "\\[" + I + "*(" + q + ")" + I + "*(?:([*^$|!~]?=)" + I + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + R + ")|)|)" + I + "*\\]",
                z = ":(" + q + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + U.replace(3, 8) + ")*)|.*)\\)|)",
                W = new RegExp("^" + I + "+|((?:^|[^\\\\])(?:\\\\.)*)" + I + "+$", "g"),
                X = new RegExp("^" + I + "*," + I + "*"),
                V = new RegExp("^" + I + "*([>+~]|" + I + ")" + I + "*"),
                $ = new RegExp(I + "*[+~]"),
                J = new RegExp("=" + I + "*([^\\]'\"]*)" + I + "*\\]", "g"),
                K = new RegExp(z),
                Q = new RegExp("^" + R + "$"),
                G = {
                    ID: new RegExp("^#(" + q + ")"),
                    CLASS: new RegExp("^\\.(" + q + ")"),
                    TAG: new RegExp("^(" + q.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + U),
                    PSEUDO: new RegExp("^" + z),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + I + "*(even|odd|(([+-]|)(\\d*)n|)" + I + "*(?:([+-]|)" + I + "*(\\d+)|))" + I + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + F + ")$", "i"),
                    needsContext: new RegExp("^" + I + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + I + "*((?:-\\d)?\\d*)" + I + "*\\)|)(?=[^-]|$)", "i")
                },
                Y = /^[^{]+\{\s*\[native \w/,
                Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                et = /^(?:input|select|textarea|button)$/i,
                tt = /^h\d$/i,
                nt = /'|\\/g,
                rt = new RegExp("\\\\([\\da-f]{1,6}" + I + "?|(" + I + ")|.)", "ig"),
                it = function(e, t, n) {
                    var r = "0x" + t - 65536;
                    return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, r & 1023 | 56320)
                };
            try {
                H.apply(_ = B.call(E.childNodes), E.childNodes), _[E.childNodes.length].nodeType
            } catch (st) {
                H = {
                    apply: _.length ? function(e, t) {
                        P.apply(e, B.call(t))
                    } : function(e, t) {
                        var n = e.length,
                            r = 0;
                        while (e[n++] = t[r++]);
                        e.length = n - 1
                    }
                }
            }
            u = ot.isXML = function(e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return t ? t.nodeName !== "HTML" : !1
            }, r = ot.support = {}, c = ot.setDocument = function(e) {
                var t = e ? e.ownerDocument || e : E;
                if (t === h || t.nodeType !== 9 || !t.documentElement) return h;
                h = t, p = t.documentElement, d = !u(t), r.attributes = lt(function(e) {
                    return e.innerHTML = "<a href='#'></a>", ct("type|href|height|width", pt, e.firstChild.getAttribute("href") === "#"), ct(F, ht, e.getAttribute("disabled") == null), e.className = "i", !e.getAttribute("className")
                }), r.input = lt(function(e) {
                    return e.innerHTML = "<input>", e.firstChild.setAttribute("value", ""), e.firstChild.getAttribute("value") === ""
                }), ct("value", dt, r.attributes && r.input), r.getElementsByTagName = lt(function(e) {
                    return e.appendChild(t.createComment("")), !e.getElementsByTagName("*").length
                }), r.getElementsByClassName = lt(function(e) {
                    return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", e.getElementsByClassName("i").length === 2
                }), r.getById = lt(function(e) {
                    return p.appendChild(e).id = b, !t.getElementsByName || !t.getElementsByName(b).length
                }), r.getById ? (s.find.ID = function(e, t) {
                    if (typeof t.getElementById !== A && d) {
                        var n = t.getElementById(e);
                        return n && n.parentNode ? [n] : []
                    }
                }, s.filter.ID = function(e) {
                    var t = e.replace(rt, it);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                }) : (delete s.find.ID, s.filter.ID = function(e) {
                    var t = e.replace(rt, it);
                    return function(e) {
                        var n = typeof e.getAttributeNode !== A && e.getAttributeNode("id");
                        return n && n.value === t
                    }
                }), s.find.TAG = r.getElementsByTagName ? function(e, t) {
                    if (typeof t.getElementsByTagName !== A) return t.getElementsByTagName(e)
                } : function(e, t) {
                    var n, r = [],
                        i = 0,
                        s = t.getElementsByTagName(e);
                    if (e === "*") {
                        while (n = s[i++]) n.nodeType === 1 && r.push(n);
                        return r
                    }
                    return s
                }, s.find.CLASS = r.getElementsByClassName && function(e, t) {
                    if (typeof t.getElementsByClassName !== A && d) return t.getElementsByClassName(e)
                }, m = [], v = [];
                if (r.qsa = ut(t.querySelectorAll)) lt(function(e) {
                    e.innerHTML = "<select><option selected=''></option></select>", e.querySelectorAll("[selected]").length || v.push("\\[" + I + "*(?:value|" + F + ")"), e.querySelectorAll(":checked").length || v.push(":checked")
                }), lt(function(e) {
                    var n = t.createElement("input");
                    n.setAttribute("type", "hidden"), e.appendChild(n).setAttribute("t", ""), e.querySelectorAll("[t^='']").length && v.push("[*^$]=" + I + "*(?:''|\"\")"), e.querySelectorAll(":enabled").length || v.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), v.push(",.*:")
                });
                return (r.matchesSelector = ut(g = p.webkitMatchesSelector || p.mozMatchesSelector || p.oMatchesSelector || p.msMatchesSelector)) && lt(function(e) {
                    r.disconnectedMatch = g.call(e, "div"), g.call(e, "[s!='']:x"), m.push("!=", z)
                }), v = v.length && new RegExp(v.join("|")), m = m.length && new RegExp(m.join("|")), y = ut(p.contains) || p.compareDocumentPosition ? function(e, t) {
                    var n = e.nodeType === 9 ? e.documentElement : e,
                        r = t && t.parentNode;
                    return e === r || !!r && r.nodeType === 1 && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16)
                } : function(e, t) {
                    if (t)
                        while (t = t.parentNode)
                            if (t === e) return !0;
                    return !1
                }, r.sortDetached = lt(function(e) {
                    return e.compareDocumentPosition(t.createElement("div")) & 1
                }), L = p.compareDocumentPosition ? function(e, n) {
                    if (e === n) return k = !0, 0;
                    var i = n.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(n);
                    if (i) return i & 1 || !r.sortDetached && n.compareDocumentPosition(e) === i ? e === t || y(E, e) ? -1 : n === t || y(E, n) ? 1 : l ? j.call(l, e) - j.call(l, n) : 0 : i & 4 ? -1 : 1;
                    return e.compareDocumentPosition ? -1 : 1
                } : function(e, n) {
                    var r, i = 0,
                        s = e.parentNode,
                        o = n.parentNode,
                        u = [e],
                        a = [n];
                    if (e === n) return k = !0, 0;
                    if (!s || !o) return e === t ? -1 : n === t ? 1 : s ? -1 : o ? 1 : l ? j.call(l, e) - j.call(l, n) : 0;
                    if (s === o) return vt(e, n);
                    r = e;
                    while (r = r.parentNode) u.unshift(r);
                    r = n;
                    while (r = r.parentNode) a.unshift(r);
                    while (u[i] === a[i]) i++;
                    return i ? vt(u[i], a[i]) : u[i] === E ? -1 : a[i] === E ? 1 : 0
                }, t
            }, ot.matches = function(e, t) {
                return ot(e, null, null, t)
            }, ot.matchesSelector = function(e, t) {
                (e.ownerDocument || e) !== h && c(e), t = t.replace(J, "='$1']");
                if (r.matchesSelector && d && (!m || !m.test(t)) && (!v || !v.test(t))) try {
                    var n = g.call(e, t);
                    if (n || r.disconnectedMatch || e.document && e.document.nodeType !== 11) return n
                } catch (i) {}
                return ot(t, h, null, [e]).length > 0
            }, ot.contains = function(e, t) {
                return (e.ownerDocument || e) !== h && c(e), y(e, t)
            }, ot.attr = function(e, n) {
                (e.ownerDocument || e) !== h && c(e);
                var i = s.attrHandle[n.toLowerCase()],
                    o = i && M.call(s.attrHandle, n.toLowerCase()) ? i(e, n, !d) : t;
                return o === t ? r.attributes || !d ? e.getAttribute(n) : (o = e.getAttributeNode(n)) && o.specified ? o.value : null : o
            }, ot.error = function(e) {
                throw new Error("Syntax error, unrecognized expression: " +
                    e)
            }, ot.uniqueSort = function(e) {
                var t, n = [],
                    i = 0,
                    s = 0;
                k = !r.detectDuplicates, l = !r.sortStable && e.slice(0), e.sort(L);
                if (k) {
                    while (t = e[s++]) t === e[s] && (i = n.push(s));
                    while (i--) e.splice(n[i], 1)
                }
                return e
            }, o = ot.getText = function(e) {
                var t, n = "",
                    r = 0,
                    i = e.nodeType;
                if (!i)
                    for (; t = e[r]; r++) n += o(t);
                else if (i === 1 || i === 9 || i === 11) {
                    if (typeof e.textContent == "string") return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += o(e)
                } else if (i === 3 || i === 4) return e.nodeValue;
                return n
            }, s = ot.selectors = {
                cacheLength: 50,
                createPseudo: ft,
                match: G,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(e) {
                        return e[1] = e[1].replace(rt, it), e[3] = (e[4] || e[5] || "").replace(rt, it), e[2] === "~=" && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                    },
                    CHILD: function(e) {
                        return e[1] = e[1].toLowerCase(), e[1].slice(0, 3) === "nth" ? (e[3] || ot.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd")), e[5] = +(e[7] + e[8] || e[3] === "odd")) : e[3] && ot.error(e[0]), e
                    },
                    PSEUDO: function(e) {
                        var n, r = !e[5] && e[2];
                        return G.CHILD.test(e[0]) ? null : (e[3] && e[4] !== t ? e[2] = e[4] : r && K.test(r) && (n = bt(r, !0)) && (n = r.indexOf(")", r.length - n) - r.length) && (e[0] = e[0].slice(0, n), e[2] = r.slice(0, n)), e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(e) {
                        var t = e.replace(rt, it).toLowerCase();
                        return e === "*" ? function() {
                            return !0
                        } : function(e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(e) {
                        var t = T[e + " "];
                        return t || (t = new RegExp("(^|" + I + ")" + e + "(" + I + "|$)")) && T(e, function(e) {
                            return t.test(typeof e.className == "string" && e.className || typeof e.getAttribute !== A && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(e, t, n) {
                        return function(r) {
                            var i = ot.attr(r, e);
                            return i == null ? t === "!=" : t ? (i += "", t === "=" ? i === n : t === "!=" ? i !== n : t === "^=" ? n && i.indexOf(n) === 0 : t === "*=" ? n && i.indexOf(n) > -1 : t === "$=" ? n && i.slice(-n.length) === n : t === "~=" ? (" " + i + " ").indexOf(n) > -1 : t === "|=" ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0
                        }
                    },
                    CHILD: function(e, t, n, r, i) {
                        var s = e.slice(0, 3) !== "nth",
                            o = e.slice(-4) !== "last",
                            u = t === "of-type";
                        return r === 1 && i === 0 ? function(e) {
                            return !!e.parentNode
                        } : function(t, n, a) {
                            var f, l, c, h, p, d, v = s !== o ? "nextSibling" : "previousSibling",
                                m = t.parentNode,
                                g = u && t.nodeName.toLowerCase(),
                                y = !a && !u;
                            if (m) {
                                if (s) {
                                    while (v) {
                                        c = t;
                                        while (c = c[v])
                                            if (u ? c.nodeName.toLowerCase() === g : c.nodeType === 1) return !1;
                                        d = v = e === "only" && !d && "nextSibling"
                                    }
                                    return !0
                                }
                                d = [o ? m.firstChild : m.lastChild];
                                if (o && y) {
                                    l = m[b] || (m[b] = {}), f = l[e] || [], p = f[0] === S && f[1], h = f[0] === S && f[2], c = p && m.childNodes[p];
                                    while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                        if (c.nodeType === 1 && ++h && c === t) {
                                            l[e] = [S, p, h];
                                            break
                                        }
                                } else if (y && (f = (t[b] || (t[b] = {}))[e]) && f[0] === S) h = f[1];
                                else
                                    while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                        if ((u ? c.nodeName.toLowerCase() === g : c.nodeType === 1) && ++h) {
                                            y && ((c[b] || (c[b] = {}))[e] = [S, h]);
                                            if (c === t) break
                                        } return h -= i, h === r || h % r === 0 && h / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(e, t) {
                        var n, r = s.pseudos[e] || s.setFilters[e.toLowerCase()] || ot.error("unsupported pseudo: " + e);
                        return r[b] ? r(t) : r.length > 1 ? (n = [e, e, "", t], s.setFilters.hasOwnProperty(e.toLowerCase()) ? ft(function(e, n) {
                            var i, s = r(e, t),
                                o = s.length;
                            while (o--) i = j.call(e, s[o]), e[i] = !(n[i] = s[o])
                        }) : function(e) {
                            return r(e, 0, n)
                        }) : r
                    }
                },
                pseudos: {
                    not: ft(function(e) {
                        var t = [],
                            n = [],
                            r = a(e.replace(W, "$1"));
                        return r[b] ? ft(function(e, t, n, i) {
                            var s, o = r(e, null, i, []),
                                u = e.length;
                            while (u--)
                                if (s = o[u]) e[u] = !(t[u] = s)
                        }) : function(e, i, s) {
                            return t[0] = e, r(t, null, s, n), !n.pop()
                        }
                    }),
                    has: ft(function(e) {
                        return function(t) {
                            return ot(e, t).length > 0
                        }
                    }),
                    contains: ft(function(e) {
                        return function(t) {
                            return (t.textContent || t.innerText || o(t)).indexOf(e) > -1
                        }
                    }),
                    lang: ft(function(e) {
                        return Q.test(e || "") || ot.error("unsupported lang: " + e), e = e.replace(rt, it).toLowerCase(),
                            function(t) {
                                var n;
                                do
                                    if (n = d ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || n.indexOf(e + "-") === 0;
                                while ((t = t.parentNode) && t.nodeType === 1);
                                return !1
                            }
                    }),
                    target: function(t) {
                        var n = e.location && e.location.hash;
                        return n && n.slice(1) === t.id
                    },
                    root: function(e) {
                        return e === p
                    },
                    focus: function(e) {
                        return e === h.activeElement && (!h.hasFocus || h.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: function(e) {
                        return e.disabled === !1
                    },
                    disabled: function(e) {
                        return e.disabled === !0
                    },
                    checked: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return t === "input" && !!e.checked || t === "option" && !!e.selected
                    },
                    selected: function(e) {
                        return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                    },
                    empty: function(e) {
                        for (e = e.firstChild; e; e = e.nextSibling)
                            if (e.nodeName > "@" || e.nodeType === 3 || e.nodeType === 4) return !1;
                        return !0
                    },
                    parent: function(e) {
                        return !s.pseudos.empty(e)
                    },
                    header: function(e) {
                        return tt.test(e.nodeName)
                    },
                    input: function(e) {
                        return et.test(e.nodeName)
                    },
                    button: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return t === "input" && e.type === "button" || t === "button"
                    },
                    text: function(e) {
                        var t;
                        return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === e.type)
                    },
                    first: yt(function() {
                        return [0]
                    }),
                    last: yt(function(e, t) {
                        return [t - 1]
                    }),
                    eq: yt(function(e, t, n) {
                        return [n < 0 ? n + t : n]
                    }),
                    even: yt(function(e, t) {
                        var n = 0;
                        for (; n < t; n += 2) e.push(n);
                        return e
                    }),
                    odd: yt(function(e, t) {
                        var n = 1;
                        for (; n < t; n += 2) e.push(n);
                        return e
                    }),
                    lt: yt(function(e, t, n) {
                        var r = n < 0 ? n + t : n;
                        for (; --r >= 0;) e.push(r);
                        return e
                    }),
                    gt: yt(function(e, t, n) {
                        var r = n < 0 ? n + t : n;
                        for (; ++r < t;) e.push(r);
                        return e
                    })
                }
            };
            for (n in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) s.pseudos[n] = mt(n);
            for (n in {
                    submit: !0,
                    reset: !0
                }) s.pseudos[n] = gt(n);
            a = ot.compile = function(e, t) {
                var n, r = [],
                    i = [],
                    s = C[e + " "];
                if (!s) {
                    t || (t = bt(e)), n = t.length;
                    while (n--) s = Nt(t[n]), s[b] ? r.push(s) : i.push(s);
                    s = C(e, Ct(i, r))
                }
                return s
            }, s.pseudos.nth = s.pseudos.eq, At.prototype = s.filters = s.pseudos, s.setFilters = new At, r.sortStable = b.split("").sort(L).join("") === b, c(), [0, 0].sort(L), r.detectDuplicates = k, w.find = ot, w.expr = ot.selectors, w.expr[":"] = w.expr.pseudos, w.unique = ot.uniqueSort, w.text = ot.getText, w.isXMLDoc = ot.isXML, w.contains = ot.contains
        }(e);
    var B = {};
    w.Callbacks = function(e) {
        e = typeof e == "string" ? B[e] || j(e) : w.extend({}, e);
        var n, r, i, s, o, u, a = [],
            f = !e.once && [],
            l = function(t) {
                r = e.memory && t, i = !0, o = u || 0, u = 0, s = a.length, n = !0;
                for (; a && o < s; o++)
                    if (a[o].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
                        r = !1;
                        break
                    }
                n = !1, a && (f ? f.length && l(f.shift()) : r ? a = [] : c.disable())
            },
            c = {
                add: function() {
                    if (a) {
                        var t = a.length;
                        (function i(t) {
                            w.each(t, function(t, n) {
                                var r = w.type(n);
                                r === "function" ? (!e.unique || !c.has(n)) && a.push(n) : n && n.length && r !== "string" && i(n)
                            })
                        })(arguments), n ? s = a.length : r && (u = t, l(r))
                    }
                    return this
                },
                remove: function() {
                    return a && w.each(arguments, function(e, t) {
                        var r;
                        while ((r = w.inArray(t, a, r)) > -1) a.splice(r, 1), n && (r <= s && s--, r <= o && o--)
                    }), this
                },
                has: function(e) {
                    return e ? w.inArray(e, a) > -1 : !!a && !!a.length
                },
                empty: function() {
                    return a = [], s = 0, this
                },
                disable: function() {
                    return a = f = r = t, this
                },
                disabled: function() {
                    return !a
                },
                lock: function() {
                    return f = t, r || c.disable(), this
                },
                locked: function() {
                    return !f
                },
                fireWith: function(e, t) {
                    return t = t || [], t = [e, t.slice ? t.slice() : t], a && (!i || f) && (n ? f.push(t) : l(t)), this
                },
                fire: function() {
                    return c.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!i
                }
            };
        return c
    }, w.extend({
        Deferred: function(e) {
            var t = [
                    ["resolve", "done", w.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", w.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", w.Callbacks("memory")]
                ],
                n = "pending",
                r = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return i.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var e = arguments;
                        return w.Deferred(function(n) {
                            w.each(t, function(t, s) {
                                var o = s[0],
                                    u = w.isFunction(e[t]) && e[t];
                                i[s[1]](function() {
                                    var e = u && u.apply(this, arguments);
                                    e && w.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o + "With"](this === r ? n.promise() : this, u ? [e] : arguments)
                                })
                            }), e = null
                        }).promise()
                    },
                    promise: function(e) {
                        return e != null ? w.extend(e, r) : r
                    }
                },
                i = {};
            return r.pipe = r.then, w.each(t, function(e, s) {
                var o = s[2],
                    u = s[3];
                r[s[1]] = o.add, u && o.add(function() {
                    n = u
                }, t[e ^ 1][2].disable, t[2][2].lock), i[s[0]] = function() {
                    return i[s[0] + "With"](this === i ? r : this, arguments), this
                }, i[s[0] + "With"] = o.fireWith
            }), r.promise(i), e && e.call(i, i), i
        },
        when: function(e) {
            var t = 0,
                n = v.call(arguments),
                r = n.length,
                i = r !== 1 || e && w.isFunction(e.promise) ? r : 0,
                s = i === 1 ? e : w.Deferred(),
                o = function(e, t, n) {
                    return function(r) {
                        t[e] = this, n[e] = arguments.length > 1 ? v.call(arguments) : r, n === u ? s.notifyWith(t, n) : --i || s.resolveWith(t, n)
                    }
                },
                u, a, f;
            if (r > 1) {
                u = new Array(r), a = new Array(r), f = new Array(r);
                for (; t < r; t++) n[t] && w.isFunction(n[t].promise) ? n[t].promise().done(o(t, f, n)).fail(s.reject).progress(o(t, a, u)) : --i
            }
            return i || s.resolveWith(f, n), s.promise()
        }
    }), w.support = function(t) {
        var n, r, s, u, a, f, l, c, h, p = o.createElement("div");
        p.setAttribute("className", "t"), p.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", n = p.getElementsByTagName("*") || [], r = p.getElementsByTagName("a")[0];
        if (!r || !r.style || !n.length) return t;
        u = o.createElement("select"), f = u.appendChild(o.createElement("option")), s = p.getElementsByTagName("input")[0], r.style.cssText = "top:1px;float:left;opacity:.5", t.getSetAttribute = p.className !== "t", t.leadingWhitespace = p.firstChild.nodeType === 3, t.tbody = !p.getElementsByTagName("tbody").length, t.htmlSerialize = !!p.getElementsByTagName("link").length, t.style = /top/.test(r.getAttribute("style")), t.hrefNormalized = r.getAttribute("href") === "/a", t.opacity = /^0.5/.test(r.style.opacity), t.cssFloat = !!r.style.cssFloat, t.checkOn = !!s.value, t.optSelected = f.selected, t.enctype = !!o.createElement("form").enctype, t.html5Clone = o.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>", t.inlineBlockNeedsLayout = !1, t.shrinkWrapBlocks = !1, t.pixelPosition = !1, t.deleteExpando = !0, t.noCloneEvent = !0, t.reliableMarginRight = !0, t.boxSizingReliable = !0, s.checked = !0, t.noCloneChecked = s.cloneNode(!0).checked, u.disabled = !0, t.optDisabled = !f.disabled;
        try {
            delete p.test
        } catch (d) {
            t.deleteExpando = !1
        }
        s = o.createElement("input"), s.setAttribute("value", ""), t.input = s.getAttribute("value") === "", s.value = "t", s.setAttribute("type", "radio"), t.radioValue = s.value === "t", s.setAttribute("checked", "t"), s.setAttribute("name", "t"), a = o.createDocumentFragment(), a.appendChild(s), t.appendChecked = s.checked, t.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked, p.attachEvent && (p.attachEvent("onclick", function() {
            t.noCloneEvent = !1
        }), p.cloneNode(!0).click());
        for (h in {
                submit: !0,
                change: !0,
                focusin: !0
            }) p.setAttribute(l = "on" + h, "t"), t[h + "Bubbles"] = l in e || p.attributes[l].expando === !1;
        p.style.backgroundClip = "content-box", p.cloneNode(!0).style.backgroundClip = "", t.clearCloneStyle = p.style.backgroundClip === "content-box";
        for (h in w(t)) break;
        return t.ownLast = h !== "0", w(function() {
            var n, r, s, u = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
                a = o.getElementsByTagName("body")[0];
            if (!a) return;
            n = o.createElement("div"), n.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", a.appendChild(n).appendChild(p), p.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", s = p.getElementsByTagName("td"), s[0].style.cssText = "padding:0;margin:0;border:0;display:none", c = s[0].offsetHeight === 0, s[0].style.display = "", s[1].style.display = "none", t.reliableHiddenOffsets = c && s[0].offsetHeight === 0, p.innerHTML = "", p.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", w.swap(a, a.style.zoom != null ? {
                zoom: 1
            } : {}, function() {
                t.boxSizing = p.offsetWidth === 4
            }), e.getComputedStyle && (t.pixelPosition = (e.getComputedStyle(p, null) || {}).top !== "1%", t.boxSizingReliable = (e.getComputedStyle(p, null) || {
                width: "4px"
            }).width === "4px", r = p.appendChild(o.createElement("div")), r.style.cssText = p.style.cssText = u, r.style.marginRight = r.style.width = "0", p.style.width = "1px", t.reliableMarginRight = !parseFloat((e.getComputedStyle(r, null) || {}).marginRight)), typeof p.style.zoom !== i && (p.innerHTML = "", p.style.cssText = u + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = p.offsetWidth === 3, p.style.display = "block", p.innerHTML = "<div></div>", p.firstChild.style.width = "5px", t.shrinkWrapBlocks = p.offsetWidth !== 3, t.inlineBlockNeedsLayout && (a.style.zoom = 1)), a.removeChild(n), n = p = s = r = null
        }), n = u = a = f = r = s = null, t
    }({});
    var F = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
        I = /([A-Z])/g;
    w.extend({
        cache: {},
        noData: {
            applet: !0,
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(e) {
            return e = e.nodeType ? w.cache[e[w.expando]] : e[w.expando], !!e && !z(e)
        },
        data: function(e, t, n) {
            return q(e, t, n)
        },
        removeData: function(e, t) {
            return R(e, t)
        },
        _data: function(e, t, n) {
            return q(e, t, n, !0)
        },
        _removeData: function(e, t) {
            return R(e, t, !0)
        },
        acceptData: function(e) {
            if (e.nodeType && e.nodeType !== 1 && e.nodeType !== 9) return !1;
            var t = e.nodeName && w.noData[e.nodeName.toLowerCase()];
            return !t || t !== !0 && e.getAttribute("classid") === t
        }
    }), w.fn.extend({
        data: function(e, n) {
            var r, i, s = null,
                o = 0,
                u = this[0];
            if (e === t) {
                if (this.length) {
                    s = w.data(u);
                    if (u.nodeType === 1 && !w._data(u, "parsedAttrs")) {
                        r = u.attributes;
                        for (; o < r.length; o++) i = r[o].name, i.indexOf("data-") === 0 && (i = w.camelCase(i.slice(5)), U(u, i, s[i]));
                        w._data(u, "parsedAttrs", !0)
                    }
                }
                return s
            }
            return typeof e == "object" ? this.each(function() {
                w.data(this, e)
            }) : arguments.length > 1 ? this.each(function() {
                w.data(this, e, n)
            }) : u ? U(u, e, w.data(u, e)) : null
        },
        removeData: function(e) {
            return this.each(function() {
                w.removeData(this, e)
            })
        }
    }), w.extend({
        queue: function(e, t, n) {
            var r;
            if (e) return t = (t || "fx") + "queue", r = w._data(e, t), n && (!r || w.isArray(n) ? r = w._data(e, t, w.makeArray(n)) : r.push(n)), r || []
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = w.queue(e, t),
                r = n.length,
                i = n.shift(),
                s = w._queueHooks(e, t),
                o = function() {
                    w.dequeue(e, t)
                };
            i === "inprogress" && (i = n.shift(), r--), s.cur = i, i && (t === "fx" && n.unshift("inprogress"), delete s.stop, i.call(e, o, s)), !r && s && s.empty.fire()
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return w._data(e, n) || w._data(e, n, {
                empty: w.Callbacks("once memory").add(function() {
                    w._removeData(e, t + "queue"), w._removeData(e, n)
                })
            })
        }
    }), w.fn.extend({
        queue: function(e, n) {
            var r = 2;
            return typeof e != "string" && (n = e, e = "fx", r--), arguments.length < r ? w.queue(this[0], e) : n === t ? this : this.each(function() {
                var t = w.queue(this, e, n);
                w._queueHooks(this, e), e === "fx" && t[0] !== "inprogress" && w.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                w.dequeue(this, e)
            })
        },
        delay: function(e, t) {
            return e = w.fx ? w.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function(t, n) {
                var r = setTimeout(t, e);
                n.stop = function() {
                    clearTimeout(r)
                }
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, n) {
            var r, i = 1,
                s = w.Deferred(),
                o = this,
                u = this.length,
                a = function() {
                    --i || s.resolveWith(o, [o])
                };
            typeof e != "string" && (n = e, e = t), e = e || "fx";
            while (u--) r = w._data(o[u], e + "queueHooks"), r && r.empty && (i++, r.empty.add(a));
            return a(), s.promise(n)
        }
    });
    var W, X, V = /[\t\r\n\f]/g,
        $ = /\r/g,
        J = /^(?:input|select|textarea|button|object)$/i,
        K = /^(?:a|area)$/i,
        Q = /^(?:checked|selected)$/i,
        G = w.support.getSetAttribute,
        Y = w.support.input;
    w.fn.extend({
        attr: function(e, t) {
            return w.access(this, w.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                w.removeAttr(this, e)
            })
        },
        prop: function(e, t) {
            return w.access(this, w.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return e = w.propFix[e] || e, this.each(function() {
                try {
                    this[e] = t, delete this[e]
                } catch (n) {}
            })
        },
        addClass: function(e) {
            var t, n, r, i, s, o = 0,
                u = this.length,
                a = typeof e == "string" && e;
            if (w.isFunction(e)) return this.each(function(t) {
                w(this).addClass(e.call(this, t, this.className))
            });
            if (a) {
                t = (e || "").match(S) || [];
                for (; o < u; o++) {
                    n = this[o], r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(V, " ") : " ");
                    if (r) {
                        s = 0;
                        while (i = t[s++]) r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                        n.className = w.trim(r)
                    }
                }
            }
            return this
        },
        removeClass: function(e) {
            var t, n, r, i, s, o = 0,
                u = this.length,
                a = arguments.length === 0 || typeof e == "string" && e;
            if (w.isFunction(e)) return this.each(function(t) {
                w(this).removeClass(e.call(this, t, this.className))
            });
            if (a) {
                t = (e || "").match(S) || [];
                for (; o < u; o++) {
                    n = this[o], r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(V, " ") : "");
                    if (r) {
                        s = 0;
                        while (i = t[s++])
                            while (r.indexOf(" " + i + " ") >= 0) r = r.replace(" " + i + " ", " ");
                        n.className = e ? w.trim(r) : ""
                    }
                }
            }
            return this
        },
        toggleClass: function(e, t) {
            var n = typeof e,
                r = typeof t == "boolean";
            return w.isFunction(e) ? this.each(function(n) {
                w(this).toggleClass(e.call(this, n, this.className, t), t)
            }) : this.each(function() {
                if (n === "string") {
                    var s, o = 0,
                        u = w(this),
                        a = t,
                        f = e.match(S) || [];
                    while (s = f[o++]) a = r ? a : !u.hasClass(s), u[a ? "addClass" : "removeClass"](s)
                } else if (n === i || n === "boolean") this.className && w._data(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : w._data(this, "__className__") || ""
            })
        },
        hasClass: function(e) {
            var t = " " + e + " ",
                n = 0,
                r = this.length;
            for (; n < r; n++)
                if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(V, " ").indexOf(t) >= 0) return !0;
            return !1
        },
        val: function(e) {
            var n, r, i, s = this[0];
            if (!arguments.length) {
                if (s) return r = w.valHooks[s.type] || w.valHooks[s.nodeName.toLowerCase()], r && "get" in r && (n = r.get(s, "value")) !== t ? n : (n = s.value, typeof n == "string" ? n.replace($, "") : n == null ? "" : n);
                return
            }
            return i = w.isFunction(e), this.each(function(n) {
                var s;
                if (this.nodeType !== 1) return;
                i ? s = e.call(this, n, w(this).val()) : s = e, s == null ? s = "" : typeof s == "number" ? s += "" : w.isArray(s) && (s = w.map(s, function(e) {
                    return e == null ? "" : e + ""
                })), r = w.valHooks[this.type] || w.valHooks[this.nodeName.toLowerCase()];
                if (!r || !("set" in r) || r.set(this, s, "value") === t) this.value = s
            })
        }
    }), w.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = w.find.attr(e, "value");
                    return t != null ? t : e.text
                }
            },
            select: {
                get: function(e) {
                    var t, n, r = e.options,
                        i = e.selectedIndex,
                        s = e.type === "select-one" || i < 0,
                        o = s ? null : [],
                        u = s ? i + 1 : r.length,
                        a = i < 0 ? u : s ? i : 0;
                    for (; a < u; a++) {
                        n = r[a];
                        if ((n.selected || a === i) && (w.support.optDisabled ? !n.disabled : n.getAttribute("disabled") === null) && (!n.parentNode.disabled || !w.nodeName(n.parentNode, "optgroup"))) {
                            t = w(n).val();
                            if (s) return t;
                            o.push(t)
                        }
                    }
                    return o
                },
                set: function(e, t) {
                    var n, r, i = e.options,
                        s = w.makeArray(t),
                        o = i.length;
                    while (o--) {
                        r = i[o];
                        if (r.selected = w.inArray(w(r).val(), s) >= 0) n = !0
                    }
                    return n || (e.selectedIndex = -1), s
                }
            }
        },
        attr: function(e, n, r) {
            var s, o, u = e.nodeType;
            if (!e || u === 3 || u === 8 || u === 2) return;
            if (typeof e.getAttribute === i) return w.prop(e, n, r);
            if (u !== 1 || !w.isXMLDoc(e)) n = n.toLowerCase(), s = w.attrHooks[n] || (w.expr.match.bool.test(n) ? X : W);
            if (r === t) return s && "get" in s && (o = s.get(e, n)) !== null ? o : (o = w.find.attr(e, n), o == null ? t : o);
            if (r !== null) return s && "set" in s && (o = s.set(e, r, n)) !== t ? o : (e.setAttribute(n, r + ""), r);
            w.removeAttr(e, n)
        },
        removeAttr: function(e, t) {
            var n, r, i = 0,
                s = t && t.match(S);
            if (s && e.nodeType === 1)
                while (n = s[i++]) r = w.propFix[n] || n, w.expr.match.bool.test(n) ? Y && G || !Q.test(n) ? e[r] = !1 : e[w.camelCase("default-" + n)] = e[r] = !1 : w.attr(e, n, ""), e.removeAttribute(G ? n : r)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!w.support.radioValue && t === "radio" && w.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(e, n, r) {
            var i, s, o, u = e.nodeType;
            if (!e || u === 3 || u === 8 || u === 2) return;
            return o = u !== 1 || !w.isXMLDoc(e), o && (n = w.propFix[n] || n, s = w.propHooks[n]), r !== t ? s && "set" in s && (i = s.set(e, r, n)) !== t ? i : e[n] = r : s && "get" in s && (i = s.get(e, n)) !== null ? i : e[n]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var t = w.find.attr(e, "tabindex");
                    return t ? parseInt(t, 10) : J.test(e.nodeName) || K.test(e.nodeName) && e.href ? 0 : -1
                }
            }
        }
    }), X = {
        set: function(e, t, n) {
            return t === !1 ? w.removeAttr(e, n) : Y && G || !Q.test(n) ? e.setAttribute(!G && w.propFix[n] || n, n) : e[w.camelCase("default-" + n)] = e[n] = !0, n
        }
    }, w.each(w.expr.match.bool.source.match(/\w+/g), function(e, n) {
        var r = w.expr.attrHandle[n] || w.find.attr;
        w.expr.attrHandle[n] = Y && G || !Q.test(n) ? function(e, n, i) {
            var s = w.expr.attrHandle[n],
                o = i ? t : (w.expr.attrHandle[n] = t) != r(e, n, i) ? n.toLowerCase() : null;
            return w.expr.attrHandle[n] = s, o
        } : function(e, n, r) {
            return r ? t : e[w.camelCase("default-" + n)] ? n.toLowerCase() : null
        }
    });
    if (!Y || !G) w.attrHooks.value = {
        set: function(e, t, n) {
            if (!w.nodeName(e, "input")) return W && W.set(e, t, n);
            e.defaultValue = t
        }
    };
    G || (W = {
        set: function(e, n, r) {
            var i = e.getAttributeNode(r);
            return i || e.setAttributeNode(i = e.ownerDocument.createAttribute(r)), i.value = n += "", r === "value" || n === e.getAttribute(r) ? n : t
        }
    }, w.expr.attrHandle.id = w.expr.attrHandle.name = w.expr.attrHandle.coords = function(e, n, r) {
        var i;
        return r ? t : (i = e.getAttributeNode(n)) && i.value !== "" ? i.value : null
    }, w.valHooks.button = {
        get: function(e, n) {
            var r = e.getAttributeNode(n);
            return r && r.specified ? r.value : t
        },
        set: W.set
    }, w.attrHooks.contenteditable = {
        set: function(e, t, n) {
            W.set(e, t === "" ? !1 : t, n)
        }
    }, w.each(["width", "height"], function(e, t) {
        w.attrHooks[t] = {
            set: function(e, n) {
                if (n === "") return e.setAttribute(t, "auto"), n
            }
        }
    })), w.support.hrefNormalized || w.each(["href", "src"], function(e, t) {
        w.propHooks[t] = {
            get: function(e) {
                return e.getAttribute(t, 4)
            }
        }
    }), w.support.style || (w.attrHooks.style = {
        get: function(e) {
            return e.style.cssText || t
        },
        set: function(e, t) {
            return e.style.cssText = t + ""
        }
    }), w.support.optSelected || (w.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex), null
        }
    }), w.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        w.propFix[this.toLowerCase()] = this
    }), w.support.enctype || (w.propFix.enctype = "encoding"), w.each(["radio", "checkbox"], function() {
        w.valHooks[this] = {
            set: function(e, t) {
                if (w.isArray(t)) return e.checked = w.inArray(w(e).val(), t) >= 0
            }
        }, w.support.checkOn || (w.valHooks[this].get = function(e) {
            return e.getAttribute("value") === null ? "on" : e.value
        })
    });
    var Z = /^(?:input|select|textarea)$/i,
        et = /^key/,
        tt = /^(?:mouse|contextmenu)|click/,
        nt = /^(?:focusinfocus|focusoutblur)$/,
        rt = /^([^.]*)(?:\.(.+)|)$/;
    w.event = {
        global: {},
        add: function(e, n, r, s, o) {
            var u, a, f, l, c, h, p, d, v, m, g, y = w._data(e);
            if (!y) return;
            r.handler && (l = r, r = l.handler, o = l.selector), r.guid || (r.guid = w.guid++), (a = y.events) || (a = y.events = {}), (h = y.handle) || (h = y.handle = function(e) {
                return typeof w === i || !!e && w.event.triggered === e.type ? t : w.event.dispatch.apply(h.elem, arguments)
            }, h.elem = e), n = (n || "").match(S) || [""], f = n.length;
            while (f--) {
                u = rt.exec(n[f]) || [], v = g = u[1], m = (u[2] || "").split(".").sort();
                if (!v) continue;
                c = w.event.special[v] || {}, v = (o ? c.delegateType : c.bindType) || v, c = w.event.special[v] || {}, p = w.extend({
                    type: v,
                    origType: g,
                    data: s,
                    handler: r,
                    guid: r.guid,
                    selector: o,
                    needsContext: o && w.expr.match.needsContext.test(o),
                    namespace: m.join(".")
                }, l);
                if (!(d = a[v])) {
                    d = a[v] = [], d.delegateCount = 0;
                    if (!c.setup || c.setup.call(e, s, m, h) === !1) e.addEventListener ? e.addEventListener(v, h, !1) : e.attachEvent && e.attachEvent("on" + v, h)
                }
                c.add && (c.add.call(e, p), p.handler.guid || (p.handler.guid = r.guid)), o ? d.splice(d.delegateCount++, 0, p) : d.push(p), w.event.global[v] = !0
            }
            e = null
        },
        remove: function(e, t, n, r, i) {
            var s, o, u, a, f, l, c, h, p, d, v, m = w.hasData(e) && w._data(e);
            if (!m || !(l = m.events)) return;
            t = (t || "").match(S) || [""], f = t.length;
            while (f--) {
                u = rt.exec(t[f]) || [], p = v = u[1], d = (u[2] || "").split(".").sort();
                if (!p) {
                    for (p in l) w.event.remove(e, p + t[f], n, r, !0);
                    continue
                }
                c = w.event.special[p] || {}, p = (r ? c.delegateType : c.bindType) || p, h = l[p] || [], u = u[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = s = h.length;
                while (s--) o = h[s], (i || v === o.origType) && (!n || n.guid === o.guid) && (!u || u.test(o.namespace)) && (!r || r === o.selector || r === "**" && o.selector) && (h.splice(s, 1), o.selector && h.delegateCount--, c.remove && c.remove.call(e, o));
                a && !h.length && ((!c.teardown || c.teardown.call(e, d, m.handle) === !1) && w.removeEvent(e, p, m.handle), delete l[p])
            }
            w.isEmptyObject(l) && (delete m.handle, w._removeData(e, "events"))
        },
        trigger: function(n, r, i, s) {
            var u, a, f, l, c, h, p, d = [i || o],
                v = y.call(n, "type") ? n.type : n,
                m = y.call(n, "namespace") ? n.namespace.split(".") : [];
            f = h = i = i || o;
            if (i.nodeType === 3 || i.nodeType === 8) return;
            if (nt.test(v + w.event.triggered)) return;
            v.indexOf(".") >= 0 && (m = v.split("."), v = m.shift(), m.sort()), a = v.indexOf(":") < 0 && "on" + v, n = n[w.expando] ? n : new w.Event(v, typeof n == "object" && n), n.isTrigger = s ? 2 : 3, n.namespace = m.join("."), n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, n.result = t, n.target || (n.target = i), r = r == null ? [n] : w.makeArray(r, [n]), c = w.event.special[v] || {};
            if (!s && c.trigger && c.trigger.apply(i, r) === !1) return;
            if (!s && !c.noBubble && !w.isWindow(i)) {
                l = c.delegateType || v, nt.test(l + v) || (f = f.parentNode);
                for (; f; f = f.parentNode) d.push(f), h = f;
                h === (i.ownerDocument || o) && d.push(h.defaultView || h.parentWindow || e)
            }
            p = 0;
            while ((f = d[p++]) && !n.isPropagationStopped()) n.type = p > 1 ? l : c.bindType || v, u = (w._data(f, "events") || {})[n.type] && w._data(f, "handle"), u && u.apply(f, r), u = a && f[a], u && w.acceptData(f) && u.apply && u.apply(f, r) === !1 && n.preventDefault();
            n.type = v;
            if (!s && !n.isDefaultPrevented() && (!c._default || c._default.apply(d.pop(), r) === !1) && w.acceptData(i) && a && i[v] && !w.isWindow(i)) {
                h = i[a], h && (i[a] = null), w.event.triggered = v;
                try {
                    i[v]()
                } catch (g) {}
                w.event.triggered = t, h && (i[a] = h)
            }
            return n.result
        },
        dispatch: function(e) {
            e = w.event.fix(e);
            var n, r, i, s, o, u = [],
                a = v.call(arguments),
                f = (w._data(this, "events") || {})[e.type] || [],
                l = w.event.special[e.type] || {};
            a[0] = e, e.delegateTarget = this;
            if (l.preDispatch && l.preDispatch.call(this, e) === !1) return;
            u = w.event.handlers.call(this, e, f), n = 0;
            while ((s = u[n++]) && !e.isPropagationStopped()) {
                e.currentTarget = s.elem, o = 0;
                while ((i = s.handlers[o++]) && !e.isImmediatePropagationStopped())
                    if (!e.namespace_re || e.namespace_re.test(i.namespace)) e.handleObj = i, e.data = i.data, r = ((w.event.special[i.origType] || {}).handle || i.handler).apply(s.elem, a), r !== t && (e.result = r) === !1 && (e.preventDefault(), e.stopPropagation())
            }
            return l.postDispatch && l.postDispatch.call(this, e), e.result
        },
        handlers: function(e, n) {
            var r, i, s, o, u = [],
                a = n.delegateCount,
                f = e.target;
            if (a && f.nodeType && (!e.button || e.type !== "click"))
                for (; f != this; f = f.parentNode || this)
                    if (f.nodeType === 1 && (f.disabled !== !0 || e.type !== "click")) {
                        s = [];
                        for (o = 0; o < a; o++) i = n[o], r = i.selector + " ", s[r] === t && (s[r] = i.needsContext ? w(r, this).index(f) >= 0 : w.find(r, this, null, [f]).length), s[r] && s.push(i);
                        s.length && u.push({
                            elem: f,
                            handlers: s
                        })
                    }
            return a < n.length && u.push({
                elem: this,
                handlers: n.slice(a)
            }), u
        },
        fix: function(e) {
            if (e[w.expando]) return e;
            var t, n, r, i = e.type,
                s = e,
                u = this.fixHooks[i];
            u || (this.fixHooks[i] = u = tt.test(i) ? this.mouseHooks : et.test(i) ? this.keyHooks : {}), r = u.props ? this.props.concat(u.props) : this.props, e = new w.Event(s), t = r.length;
            while (t--) n = r[t], e[n] = s[n];
            return e.target || (e.target = s.srcElement || o), e.target.nodeType === 3 && (e.target = e.target.parentNode), e.metaKey = !!e.metaKey, u.filter ? u.filter(e, s) : e
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return e.which == null && (e.which = t.charCode != null ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, n) {
                var r, i, s, u = n.button,
                    a = n.fromElement;
                return e.pageX == null && n.clientX != null && (i = e.target.ownerDocument || o, s = i.documentElement, r = i.body, e.pageX = n.clientX + (s && s.scrollLeft || r && r.scrollLeft || 0) - (s && s.clientLeft || r && r.clientLeft || 0), e.pageY = n.clientY + (s && s.scrollTop || r && r.scrollTop || 0) - (s && s.clientTop || r && r.clientTop || 0)), !e.relatedTarget && a && (e.relatedTarget = a === e.target ? n.toElement : a), !e.which && u !== t && (e.which = u & 1 ? 1 : u & 2 ? 3 : u & 4 ? 2 : 0), e
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== ot() && this.focus) try {
                        return this.focus(), !1
                    } catch (e) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === ot() && this.blur) return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (w.nodeName(this, "input") && this.type === "checkbox" && this.click) return this.click(), !1
                },
                _default: function(e) {
                    return w.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    e.result !== t && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, n, r) {
            var i = w.extend(new w.Event, n, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            r ? w.event.trigger(i, null, t) : w.event.dispatch.call(t, i), i.isDefaultPrevented() && n.preventDefault()
        }
    }, w.removeEvent = o.removeEventListener ? function(e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    } : function(e, t, n) {
        var r = "on" + t;
        e.detachEvent && (typeof e[r] === i && (e[r] = null), e.detachEvent(r, n))
    }, w.Event = function(e, t) {
        if (!(this instanceof w.Event)) return new w.Event(e, t);
        e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? it : st) : this.type = e, t && w.extend(this, t), this.timeStamp = e && e.timeStamp || w.now(), this[w.expando] = !0
    }, w.Event.prototype = {
        isDefaultPrevented: st,
        isPropagationStopped: st,
        isImmediatePropagationStopped: st,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = it;
            if (!e) return;
            e.preventDefault ? e.preventDefault() : e.returnValue = !1
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = it;
            if (!e) return;
            e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = it, this.stopPropagation()
        }
    }, w.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(e, t) {
        w.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var n, r = this,
                    i = e.relatedTarget,
                    s = e.handleObj;
                if (!i || i !== r && !w.contains(r, i)) e.type = s.origType, n = s.handler.apply(this, arguments), e.type = t;
                return n
            }
        }
    }), w.support.submitBubbles || (w.event.special.submit = {
        setup: function() {
            if (w.nodeName(this, "form")) return !1;
            w.event.add(this, "click._submit keypress._submit", function(e) {
                var n = e.target,
                    r = w.nodeName(n, "input") || w.nodeName(n, "button") ? n.form : t;
                r && !w._data(r, "submitBubbles") && (w.event.add(r, "submit._submit", function(e) {
                    e._submit_bubble = !0
                }), w._data(r, "submitBubbles", !0))
            })
        },
        postDispatch: function(e) {
            e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && w.event.simulate("submit", this.parentNode, e, !0))
        },
        teardown: function() {
            if (w.nodeName(this, "form")) return !1;
            w.event.remove(this, "._submit")
        }
    }), w.support.changeBubbles || (w.event.special.change = {
        setup: function() {
            if (Z.test(this.nodeName)) {
                if (this.type === "checkbox" || this.type === "radio") w.event.add(this, "propertychange._change", function(e) {
                    e.originalEvent.propertyName === "checked" && (this._just_changed = !0)
                }), w.event.add(this, "click._change", function(e) {
                    this._just_changed && !e.isTrigger && (this._just_changed = !1), w.event.simulate("change", this, e, !0)
                });
                return !1
            }
            w.event.add(this, "beforeactivate._change", function(e) {
                var t = e.target;
                Z.test(t.nodeName) && !w._data(t, "changeBubbles") && (w.event.add(t, "change._change", function(e) {
                    this.parentNode && !e.isSimulated && !e.isTrigger && w.event.simulate("change", this.parentNode, e, !0)
                }), w._data(t, "changeBubbles", !0))
            })
        },
        handle: function(e) {
            var t = e.target;
            if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox") return e.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            return w.event.remove(this, "._change"), !Z.test(this.nodeName)
        }
    }), w.support.focusinBubbles || w.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        var n = 0,
            r = function(e) {
                w.event.simulate(t, e.target, w.event.fix(e), !0)
            };
        w.event.special[t] = {
            setup: function() {
                n++ === 0 && o.addEventListener(e, r, !0)
            },
            teardown: function() {
                --n === 0 && o.removeEventListener(e, r, !0)
            }
        }
    }), w.fn.extend({
        on: function(e, n, r, i, s) {
            var o, u;
            if (typeof e == "object") {
                typeof n != "string" && (r = r || n, n = t);
                for (o in e) this.on(o, n, r, e[o], s);
                return this
            }
            r == null && i == null ? (i = n, r = n = t) : i == null && (typeof n == "string" ? (i = r, r = t) : (i = r, r = n, n = t));
            if (i === !1) i = st;
            else if (!i) return this;
            return s === 1 && (u = i, i = function(e) {
                return w().off(e), u.apply(this, arguments)
            }, i.guid = u.guid || (u.guid = w.guid++)), this.each(function() {
                w.event.add(this, e, i, r, n)
            })
        },
        one: function(e, t, n, r) {
            return this.on(e, t, n, r, 1)
        },
        off: function(e, n, r) {
            var i, s;
            if (e && e.preventDefault && e.handleObj) return i = e.handleObj, w(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
            if (typeof e == "object") {
                for (s in e) this.off(s, n, e[s]);
                return this
            }
            if (n === !1 || typeof n == "function") r = n, n = t;
            return r === !1 && (r = st), this.each(function() {
                w.event.remove(this, e, r, n)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                w.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var n = this[0];
            if (n) return w.event.trigger(e, t, n, !0)
        }
    });
    var ut = /^.[^:#\[\.,]*$/,
        at = /^(?:parents|prev(?:Until|All))/,
        ft = w.expr.match.needsContext,
        lt = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    w.fn.extend({
        find: function(e) {
            var t, n = [],
                r = this,
                i = r.length;
            if (typeof e != "string") return this.pushStack(w(e).filter(function() {
                for (t = 0; t < i; t++)
                    if (w.contains(r[t], this)) return !0
            }));
            for (t = 0; t < i; t++) w.find(e, r[t], n);
            return n = this.pushStack(i > 1 ? w.unique(n) : n), n.selector = this.selector ? this.selector + " " + e : e, n
        },
        has: function(e) {
            var t, n = w(e, this),
                r = n.length;
            return this.filter(function() {
                for (t = 0; t < r; t++)
                    if (w.contains(this, n[t])) return !0
            })
        },
        not: function(e) {
            return this.pushStack(ht(this, e || [], !0))
        },
        filter: function(e) {
            return this.pushStack(ht(this, e || [], !1))
        },
        is: function(e) {
            return !!ht(this, typeof e == "string" && ft.test(e) ? w(e) : e || [], !1).length
        },
        closest: function(e, t) {
            var n, r = 0,
                i = this.length,
                s = [],
                o = ft.test(e) || typeof e != "string" ? w(e, t || this.context) : 0;
            for (; r < i; r++)
                for (n = this[r]; n && n !== t; n = n.parentNode)
                    if (n.nodeType < 11 && (o ? o.index(n) > -1 : n.nodeType === 1 && w.find.matchesSelector(n, e))) {
                        n = s.push(n);
                        break
                    }
            return this.pushStack(s.length > 1 ? w.unique(s) : s)
        },
        index: function(e) {
            return e ? typeof e == "string" ? w.inArray(this[0], w(e)) : w.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            var n = typeof e == "string" ? w(e, t) : w.makeArray(e && e.nodeType ? [e] : e),
                r = w.merge(this.get(), n);
            return this.pushStack(w.unique(r))
        },
        addBack: function(e) {
            return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
        }
    }), w.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && t.nodeType !== 11 ? t : null
        },
        parents: function(e) {
            return w.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return w.dir(e, "parentNode", n)
        },
        next: function(e) {
            return ct(e, "nextSibling")
        },
        prev: function(e) {
            return ct(e, "previousSibling")
        },
        nextAll: function(e) {
            return w.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return w.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return w.dir(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return w.dir(e, "previousSibling", n)
        },
        siblings: function(e) {
            return w.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return w.sibling(e.firstChild)
        },
        contents: function(e) {
            return w.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : w.merge([], e.childNodes)
        }
    }, function(e, t) {
        w.fn[e] = function(n, r) {
            var i = w.map(this, t, n);
            return e.slice(-5) !== "Until" && (r = n), r && typeof r == "string" && (i = w.filter(r, i)), this.length > 1 && (lt[e] || (i = w.unique(i)), at.test(e) && (i = i.reverse())), this.pushStack(i)
        }
    }), w.extend({
        filter: function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"), t.length === 1 && r.nodeType === 1 ? w.find.matchesSelector(r, e) ? [r] : [] : w.find.matches(e, w.grep(t, function(e) {
                return e.nodeType === 1
            }))
        },
        dir: function(e, n, r) {
            var i = [],
                s = e[n];
            while (s && s.nodeType !== 9 && (r === t || s.nodeType !== 1 || !w(s).is(r))) s.nodeType === 1 && i.push(s), s = s[n];
            return i
        },
        sibling: function(e, t) {
            var n = [];
            for (; e; e = e.nextSibling) e.nodeType === 1 && e !== t && n.push(e);
            return n
        }
    });
    var dt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
        vt = / jQuery\d+="(?:null|\d+)"/g,
        mt = new RegExp("<(?:" + dt + ")[\\s/>]", "i"),
        gt = /^\s+/,
        yt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        bt = /<([\w:]+)/,
        wt = /<tbody/i,
        Et = /<|&#?\w+;/,
        St = /<(?:script|style|link)/i,
        xt = /^(?:checkbox|radio)$/i,
        Tt = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Nt = /^$|\/(?:java|ecma)script/i,
        Ct = /^true\/(.*)/,
        kt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        Lt = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            area: [1, "<map>", "</map>"],
            param: [1, "<object>", "</object>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: w.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
        },
        At = pt(o),
        Ot = At.appendChild(o.createElement("div"));
    Lt.optgroup = Lt.option, Lt.tbody = Lt.tfoot = Lt.colgroup = Lt.caption = Lt.thead, Lt.th = Lt.td, w.fn.extend({
        text: function(e) {
            return w.access(this, function(e) {
                return e === t ? w.text(this) : this.empty().append((this[0] && this[0].ownerDocument || o).createTextNode(e))
            }, null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(e) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var t = Mt(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(e) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var t = Mt(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            var n, r = e ? w.filter(e, this) : this,
                i = 0;
            for (;
                (n = r[i]) != null; i++) !t && n.nodeType === 1 && w.cleanData(jt(n)), n.parentNode && (t && w.contains(n.ownerDocument, n) && Pt(jt(n, "script")), n.parentNode.removeChild(n));
            return this
        },
        empty: function() {
            var e, t = 0;
            for (;
                (e = this[t]) != null; t++) {
                e.nodeType === 1 && w.cleanData(jt(e, !1));
                while (e.firstChild) e.removeChild(e.firstChild);
                e.options && w.nodeName(e, "select") && (e.options.length = 0)
            }
            return this
        },
        clone: function(e, t) {
            return e = e == null ? !1 : e, t = t == null ? e : t, this.map(function() {
                return w.clone(this, e, t)
            })
        },
        html: function(e) {
            return w.access(this, function(e) {
                var n = this[0] || {},
                    r = 0,
                    i = this.length;
                if (e === t) return n.nodeType === 1 ? n.innerHTML.replace(vt, "") : t;
                if (typeof e == "string" && !St.test(e) && (w.support.htmlSerialize || !mt.test(e)) && (w.support.leadingWhitespace || !gt.test(e)) && !Lt[(bt.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(yt, "<$1></$2>");
                    try {
                        for (; r < i; r++) n = this[r] || {}, n.nodeType === 1 && (w.cleanData(jt(n, !1)), n.innerHTML = e);
                        n = 0
                    } catch (s) {}
                }
                n && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var e = w.map(this, function(e) {
                    return [e.nextSibling, e.parentNode]
                }),
                t = 0;
            return this.domManip(arguments, function(n) {
                var r = e[t++],
                    i = e[t++];
                i && (r && r.parentNode !== i && (r = this.nextSibling), w(this).remove(), i.insertBefore(n, r))
            }, !0), t ? this : this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t, n) {
            e = p.apply([], e);
            var r, i, s, o, u, a, f = 0,
                l = this.length,
                c = this,
                h = l - 1,
                d = e[0],
                v = w.isFunction(d);
            if (v || !(l <= 1 || typeof d != "string" || w.support.checkClone || !Tt.test(d))) return this.each(function(r) {
                var i = c.eq(r);
                v && (e[0] = d.call(this, r, i.html())), i.domManip(e, t, n)
            });
            if (l) {
                a = w.buildFragment(e, this[0].ownerDocument, !1, !n && this), r = a.firstChild, a.childNodes.length === 1 && (a = r);
                if (r) {
                    o = w.map(jt(a, "script"), _t), s = o.length;
                    for (; f < l; f++) i = a, f !== h && (i = w.clone(i, !0, !0), s && w.merge(o, jt(i, "script"))), t.call(this[f], i, f);
                    if (s) {
                        u = o[o.length - 1].ownerDocument, w.map(o, Dt);
                        for (f = 0; f < s; f++) i = o[f], Nt.test(i.type || "") && !w._data(i, "globalEval") && w.contains(u, i) && (i.src ? w._evalUrl(i.src) : w.globalEval((i.text || i.textContent || i.innerHTML || "").replace(kt, "")))
                    }
                    a = r = null
                }
            }
            return this
        }
    }), w.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, t) {
        w.fn[e] = function(e) {
            var n, r = 0,
                i = [],
                s = w(e),
                o = s.length - 1;
            for (; r <= o; r++) n = r === o ? this : this.clone(!0), w(s[r])[t](n), d.apply(i, n.get());
            return this.pushStack(i)
        }
    }), w.extend({
        clone: function(e, t, n) {
            var r, i, s, o, u, a = w.contains(e.ownerDocument, e);
            w.support.html5Clone || w.isXMLDoc(e) || !mt.test("<" + e.nodeName + ">") ? s = e.cloneNode(!0) : (Ot.innerHTML = e.outerHTML, Ot.removeChild(s = Ot.firstChild));
            if ((!w.support.noCloneEvent || !w.support.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !w.isXMLDoc(e)) {
                r = jt(s), u = jt(e);
                for (o = 0;
                    (i = u[o]) != null; ++o) r[o] && Bt(i, r[o])
            }
            if (t)
                if (n) {
                    u = u || jt(e), r = r || jt(s);
                    for (o = 0;
                        (i = u[o]) != null; o++) Ht(i, r[o])
                } else Ht(e, s);
            return r = jt(s, "script"), r.length > 0 && Pt(r, !a && jt(e, "script")), r = u = i = null, s
        },
        buildFragment: function(e, t, n, r) {
            var i, s, o, u, a, f, l, c = e.length,
                h = pt(t),
                p = [],
                d = 0;
            for (; d < c; d++) {
                s = e[d];
                if (s || s === 0)
                    if (w.type(s) === "object") w.merge(p, s.nodeType ? [s] : s);
                    else if (!Et.test(s)) p.push(t.createTextNode(s));
                else {
                    u = u || h.appendChild(t.createElement("div")), a = (bt.exec(s) || ["", ""])[1].toLowerCase(), l = Lt[a] || Lt._default, u.innerHTML = l[1] + s.replace(yt, "<$1></$2>") + l[2], i = l[0];
                    while (i--) u = u.lastChild;
                    !w.support.leadingWhitespace && gt.test(s) && p.push(t.createTextNode(gt.exec(s)[0]));
                    if (!w.support.tbody) {
                        s = a === "table" && !wt.test(s) ? u.firstChild : l[1] === "<table>" && !wt.test(s) ? u : 0, i = s && s.childNodes.length;
                        while (i--) w.nodeName(f = s.childNodes[i], "tbody") && !f.childNodes.length && s.removeChild(f)
                    }
                    w.merge(p, u.childNodes), u.textContent = "";
                    while (u.firstChild) u.removeChild(u.firstChild);
                    u = h.lastChild
                }
            }
            u && h.removeChild(u), w.support.appendChecked || w.grep(jt(p, "input"), Ft), d = 0;
            while (s = p[d++]) {
                if (r && w.inArray(s, r) !== -1) continue;
                o = w.contains(s.ownerDocument, s), u = jt(h.appendChild(s), "script"), o && Pt(u);
                if (n) {
                    i = 0;
                    while (s = u[i++]) Nt.test(s.type || "") && n.push(s)
                }
            }
            return u = null, h
        },
        cleanData: function(e, t) {
            var n, r, s, o, u = 0,
                a = w.expando,
                f = w.cache,
                l = w.support.deleteExpando,
                h = w.event.special;
            for (;
                (n = e[u]) != null; u++)
                if (t || w.acceptData(n)) {
                    s = n[a], o = s && f[s];
                    if (o) {
                        if (o.events)
                            for (r in o.events) h[r] ? w.event.remove(n, r) : w.removeEvent(n, r, o.handle);
                        f[s] && (delete f[s], l ? delete n[a] : typeof n.removeAttribute !== i ? n.removeAttribute(a) : n[a] = null, c.push(s))
                    }
                }
        },
        _evalUrl: function(e) {
            return w.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                "throws": !0
            })
        }
    }), w.fn.extend({
        wrapAll: function(e) {
            if (w.isFunction(e)) return this.each(function(t) {
                w(this).wrapAll(e.call(this, t))
            });
            if (this[0]) {
                var t = w(e, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
                    var e = this;
                    while (e.firstChild && e.firstChild.nodeType === 1) e = e.firstChild;
                    return e
                }).append(this)
            }
            return this
        },
        wrapInner: function(e) {
            return w.isFunction(e) ? this.each(function(t) {
                w(this).wrapInner(e.call(this, t))
            }) : this.each(function() {
                var t = w(this),
                    n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        },
        wrap: function(e) {
            var t = w.isFunction(e);
            return this.each(function(n) {
                w(this).wrapAll(t ? e.call(this, n) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                w.nodeName(this, "body") || w(this).replaceWith(this.childNodes)
            }).end()
        }
    });
    var It, qt, Rt, Ut = /alpha\([^)]*\)/i,
        zt = /opacity\s*=\s*([^)]*)/,
        Wt = /^(top|right|bottom|left)$/,
        Xt = /^(none|table(?!-c[ea]).+)/,
        Vt = /^margin/,
        $t = new RegExp("^(" + E + ")(.*)$", "i"),
        Jt = new RegExp("^(" + E + ")(?!px)[a-z%]+$", "i"),
        Kt = new RegExp("^([+-])=(" + E + ")", "i"),
        Qt = {
            BODY: "block"
        },
        Gt = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Yt = {
            letterSpacing: 0,
            fontWeight: 400
        },
        Zt = ["Top", "Right", "Bottom", "Left"],
        en = ["Webkit", "O", "Moz", "ms"];
    w.fn.extend({
        css: function(e, n) {
            return w.access(this, function(e, n, r) {
                var i, s, o = {},
                    u = 0;
                if (w.isArray(n)) {
                    s = qt(e), i = n.length;
                    for (; u < i; u++) o[n[u]] = w.css(e, n[u], !1, s);
                    return o
                }
                return r !== t ? w.style(e, n, r) : w.css(e, n)
            }, e, n, arguments.length > 1)
        },
        show: function() {
            return rn(this, !0)
        },
        hide: function() {
            return rn(this)
        },
        toggle: function(e) {
            var t = typeof e == "boolean";
            return this.each(function() {
                (t ? e : nn(this)) ? w(this).show(): w(this).hide()
            })
        }
    }), w.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = Rt(e, "opacity");
                        return n === "" ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": w.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(e, n, r, i) {
            if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style) return;
            var s, o, u, a = w.camelCase(n),
                f = e.style;
            n = w.cssProps[a] || (w.cssProps[a] = tn(f, a)), u = w.cssHooks[n] || w.cssHooks[a];
            if (r === t) return u && "get" in u && (s = u.get(e, !1, i)) !== t ? s : f[n];
            o = typeof r, o === "string" && (s = Kt.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(w.css(e, n)), o = "number");
            if (r == null || o === "number" && isNaN(r)) return;
            o === "number" && !w.cssNumber[a] && (r += "px"), !w.support.clearCloneStyle && r === "" && n.indexOf("background") === 0 && (f[n] = "inherit");
            if (!u || !("set" in u) || (r = u.set(e, r, i)) !== t) try {
                f[n] = r
            } catch (l) {}
        },
        css: function(e, n, r, i) {
            var s, o, u, a = w.camelCase(n);
            return n = w.cssProps[a] || (w.cssProps[a] = tn(e.style, a)), u = w.cssHooks[n] || w.cssHooks[a], u && "get" in u && (o = u.get(e, !0, r)), o === t && (o = Rt(e, n, i)), o === "normal" && n in Yt && (o = Yt[n]), r === "" || r ? (s = parseFloat(o), r === !0 || w.isNumeric(s) ? s || 0 : o) : o
        }
    }), e.getComputedStyle ? (qt = function(t) {
        return e.getComputedStyle(t, null)
    }, Rt = function(e, n, r) {
        var i, s, o, u = r || qt(e),
            a = u ? u.getPropertyValue(n) || u[n] : t,
            f = e.style;
        return u && (a === "" && !w.contains(e.ownerDocument, e) && (a = w.style(e, n)), Jt.test(a) && Vt.test(n) && (i = f.width, s = f.minWidth, o = f.maxWidth, f.minWidth = f.maxWidth = f.width = a, a = u.width, f.width = i, f.minWidth = s, f.maxWidth = o)), a
    }) : o.documentElement.currentStyle && (qt = function(e) {
        return e.currentStyle
    }, Rt = function(e, n, r) {
        var i, s, o, u = r || qt(e),
            a = u ? u[n] : t,
            f = e.style;
        return a == null && f && f[n] && (a = f[n]), Jt.test(a) && !Wt.test(n) && (i = f.left, s = e.runtimeStyle, o = s && s.left, o && (s.left = e.currentStyle.left), f.left = n === "fontSize" ? "1em" : a, a = f.pixelLeft + "px", f.left = i, o && (s.left = o)), a === "" ? "auto" : a
    }), w.each(["height", "width"], function(e, t) {
        w.cssHooks[t] = {
            get: function(e, n, r) {
                if (n) return e.offsetWidth === 0 && Xt.test(w.css(e, "display")) ? w.swap(e, Gt, function() {
                    return un(e, t, r)
                }) : un(e, t, r)
            },
            set: function(e, n, r) {
                var i = r && qt(e);
                return sn(e, n, r ? on(e, t, r, w.support.boxSizing && w.css(e, "boxSizing", !1, i) === "border-box", i) : 0)
            }
        }
    }), w.support.opacity || (w.cssHooks.opacity = {
        get: function(e, t) {
            return zt.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
        },
        set: function(e, t) {
            var n = e.style,
                r = e.currentStyle,
                i = w.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")" : "",
                s = r && r.filter || n.filter || "";
            n.zoom = 1;
            if ((t >= 1 || t === "") && w.trim(s.replace(Ut, "")) === "" && n.removeAttribute) {
                n.removeAttribute("filter");
                if (t === "" || r && !r.filter) return
            }
            n.filter = Ut.test(s) ? s.replace(Ut, i) : s + " " + i
        }
    }), w(function() {
        w.support.reliableMarginRight || (w.cssHooks.marginRight = {
            get: function(e, t) {
                if (t) return w.swap(e, {
                    display: "inline-block"
                }, Rt, [e, "marginRight"])
            }
        }), !w.support.pixelPosition && w.fn.position && w.each(["top", "left"], function(e, t) {
            w.cssHooks[t] = {
                get: function(e, n) {
                    if (n) return n = Rt(e, t), Jt.test(n) ? w(e).position()[t] + "px" : n
                }
            }
        })
    }), w.expr && w.expr.filters && (w.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !w.support.reliableHiddenOffsets && (e.style && e.style.display || w.css(e, "display")) === "none"
    }, w.expr.filters.visible = function(e) {
        return !w.expr.filters.hidden(e)
    }), w.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(e, t) {
        w.cssHooks[e + t] = {
            expand: function(n) {
                var r = 0,
                    i = {},
                    s = typeof n == "string" ? n.split(" ") : [n];
                for (; r < 4; r++) i[e + Zt[r] + t] = s[r] || s[r - 2] || s[0];
                return i
            }
        }, Vt.test(e) || (w.cssHooks[e + t].set = sn)
    });
    var ln = /%20/g,
        cn = /\[\]$/,
        hn = /\r?\n/g,
        pn = /^(?:submit|button|image|reset|file)$/i,
        dn = /^(?:input|select|textarea|keygen)/i;
    w.fn.extend({
        serialize: function() {
            return w.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = w.prop(this, "elements");
                return e ? w.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !w(this).is(":disabled") && dn.test(this.nodeName) && !pn.test(e) && (this.checked || !xt.test(e))
            }).map(function(e, t) {
                var n = w(this).val();
                return n == null ? null : w.isArray(n) ? w.map(n, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(hn, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(hn, "\r\n")
                }
            }).get()
        }
    }), w.param = function(e, n) {
        var r, i = [],
            s = function(e, t) {
                t = w.isFunction(t) ? t() : t == null ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
            };
        n === t && (n = w.ajaxSettings && w.ajaxSettings.traditional);
        if (w.isArray(e) || e.jquery && !w.isPlainObject(e)) w.each(e, function() {
            s(this.name, this.value)
        });
        else
            for (r in e) vn(r, e[r], n, s);
        return i.join("&").replace(ln, "+")
    }, w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
        w.fn[t] = function(e, n) {
            return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        }
    }), w.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function(e, t, n) {
            return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    var mn, gn, yn = w.now(),
        bn = /\?/,
        wn = /#.*$/,
        En = /([?&])_=[^&]*/,
        Sn = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
        xn = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Tn = /^(?:GET|HEAD)$/,
        Nn = /^\/\//,
        Cn = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
        kn = w.fn.load,
        Ln = {},
        An = {},
        On = "*/".concat("*");
    try {
        gn = s.href
    } catch (Mn) {
        gn = o.createElement("a"), gn.href = "", gn = gn.href
    }
    mn = Cn.exec(gn.toLowerCase()) || [], w.fn.load = function(e, n, r) {
        if (typeof e != "string" && kn) return kn.apply(this, arguments);
        var i, s, o, u = this,
            a = e.indexOf(" ");
        return a >= 0 && (i = e.slice(a, e.length), e = e.slice(0, a)), w.isFunction(n) ? (r = n, n = t) : n && typeof n == "object" && (o = "POST"), u.length > 0 && w.ajax({
            url: e,
            type: o,
            dataType: "html",
            data: n
        }).done(function(e) {
            s = arguments, u.html(i ? w("<div>").append(w.parseHTML(e)).find(i) : e)
        }).complete(r && function(e, t) {
            u.each(r, s || [e.responseText, t, e])
        }), this
    }, w.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        w.fn[t] = function(e) {
            return this.on(t, e)
        }
    }), w.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: gn,
            type: "GET",
            isLocal: xn.test(mn[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": On,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": w.parseJSON,
                "text xml": w.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? Pn(Pn(e, w.ajaxSettings), t) : Pn(w.ajaxSettings, e)
        },
        ajaxPrefilter: _n(Ln),
        ajaxTransport: _n(An),
        ajax: function(e, n) {
            function N(e, n, r, i) {
                var l, g, y, E, S, T = n;
                if (b === 2) return;
                b = 2, u && clearTimeout(u), f = t, o = i || "", x.readyState = e > 0 ? 4 : 0, l = e >= 200 && e < 300 || e === 304, r && (E = Hn(c, x, r)), E = Bn(c, E, x, l);
                if (l) c.ifModified && (S = x.getResponseHeader("Last-Modified"), S && (w.lastModified[s] = S), S = x.getResponseHeader("etag"), S && (w.etag[s] = S)), e === 204 || c.type === "HEAD" ? T = "nocontent" : e === 304 ? T = "notmodified" : (T = E.state, g = E.data, y = E.error, l = !y);
                else {
                    y = T;
                    if (e || !T) T = "error", e < 0 && (e = 0)
                }
                x.status = e, x.statusText = (n || T) + "", l ? d.resolveWith(h, [g, T, x]) : d.rejectWith(h, [x, T, y]), x.statusCode(m), m = t, a && p.trigger(l ? "ajaxSuccess" : "ajaxError", [x, c, l ? g : y]), v.fireWith(h, [x, T]), a && (p.trigger("ajaxComplete", [x, c]), --w.active || w.event.trigger("ajaxStop"))
            }
            typeof e == "object" && (n = e, e = t), n = n || {};
            var r, i, s, o, u, a, f, l, c = w.ajaxSetup({}, n),
                h = c.context || c,
                p = c.context && (h.nodeType || h.jquery) ? w(h) : w.event,
                d = w.Deferred(),
                v = w.Callbacks("once memory"),
                m = c.statusCode || {},
                g = {},
                y = {},
                b = 0,
                E = "canceled",
                x = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (b === 2) {
                            if (!l) {
                                l = {};
                                while (t = Sn.exec(o)) l[t[1].toLowerCase()] = t[2]
                            }
                            t = l[e.toLowerCase()]
                        }
                        return t == null ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return b === 2 ? o : null
                    },
                    setRequestHeader: function(e, t) {
                        var n = e.toLowerCase();
                        return b || (e = y[n] = y[n] || e, g[e] = t), this
                    },
                    overrideMimeType: function(e) {
                        return b || (c.mimeType = e), this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (b < 2)
                                for (t in e) m[t] = [m[t], e[t]];
                            else x.always(e[x.status]);
                        return this
                    },
                    abort: function(e) {
                        var t = e || E;
                        return f && f.abort(t), N(0, t), this
                    }
                };
            d.promise(x).complete = v.add, x.success = x.done, x.error = x.fail, c.url = ((e || c.url || gn) + "").replace(wn, "").replace(Nn, mn[1] + "//"), c.type = n.method || n.type || c.method || c.type, c.dataTypes = w.trim(c.dataType || "*").toLowerCase().match(S) || [""], c.crossDomain == null && (r = Cn.exec(c.url.toLowerCase()), c.crossDomain = !(!r || r[1] === mn[1] && r[2] === mn[2] && (r[3] || (r[1] === "http:" ? "80" : "443")) === (mn[3] || (mn[1] === "http:" ? "80" : "443")))), c.data && c.processData && typeof c.data != "string" && (c.data = w.param(c.data, c.traditional)), Dn(Ln, c, n, x);
            if (b === 2) return x;
            a = c.global, a && w.active++ === 0 && w.event.trigger("ajaxStart"), c.type = c.type.toUpperCase(), c.hasContent = !Tn.test(c.type), s = c.url, c.hasContent || (c.data && (s = c.url += (bn.test(s) ? "&" : "?") + c.data, delete c.data), c.cache === !1 && (c.url = En.test(s) ? s.replace(En, "$1_=" + yn++) : s + (bn.test(s) ? "&" : "?") + "_=" + yn++)), c.ifModified && (w.lastModified[s] && x.setRequestHeader("If-Modified-Since", w.lastModified[s]), w.etag[s] && x.setRequestHeader("If-None-Match", w.etag[s])), (c.data && c.hasContent && c.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", c.contentType), x.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + (c.dataTypes[0] !== "*" ? ", " + On + "; q=0.01" : "") : c.accepts["*"]);
            for (i in c.headers) x.setRequestHeader(i, c.headers[i]);
            if (!c.beforeSend || c.beforeSend.call(h, x, c) !== !1 && b !== 2) {
                E = "abort";
                for (i in {
                        success: 1,
                        error: 1,
                        complete: 1
                    }) x[i](c[i]);
                f = Dn(An, c, n, x);
                if (!f) N(-1, "No Transport");
                else {
                    x.readyState = 1, a && p.trigger("ajaxSend", [x, c]), c.async && c.timeout > 0 && (u = setTimeout(function() {
                        x.abort("timeout")
                    }, c.timeout));
                    try {
                        b = 1, f.send(g, N)
                    } catch (T) {
                        if (!(b < 2)) throw T;
                        N(-1, T)
                    }
                }
                return x
            }
            return x.abort()
        },
        getJSON: function(e, t, n) {
            return w.get(e, t, n, "json")
        },
        getScript: function(e, n) {
            return w.get(e, t, n, "script")
        }
    }), w.each(["get", "post"], function(e, n) {
        w[n] = function(e, r, i, s) {
            return w.isFunction(r) && (s = s || i, i = r, r = t), w.ajax({
                url: e,
                type: n,
                dataType: s,
                data: r,
                success: i
            })
        }
    }), w.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return w.globalEval(e), e
            }
        }
    }), w.ajaxPrefilter("script", function(e) {
        e.cache === t && (e.cache = !1), e.crossDomain && (e.type = "GET", e.global = !1)
    }), w.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var n, r = o.head || w("head")[0] || o.documentElement;
            return {
                send: function(t, i) {
                    n = o.createElement("script"), n.async = !0, e.scriptCharset && (n.charset = e.scriptCharset), n.src = e.url, n.onload = n.onreadystatechange = function(e, t) {
                        if (t || !n.readyState || /loaded|complete/.test(n.readyState)) n.onload = n.onreadystatechange = null, n.parentNode && n.parentNode.removeChild(n), n = null, t || i(200, "success")
                    }, r.insertBefore(n, r.firstChild)
                },
                abort: function() {
                    n && n.onload(t, !0)
                }
            }
        }
    });
    var jn = [],
        Fn = /(=)\?(?=&|$)|\?\?/;
    w.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = jn.pop() || w.expando + "_" + yn++;
            return this[e] = !0, e
        }
    }), w.ajaxPrefilter("json jsonp", function(n, r, i) {
        var s, o, u, a = n.jsonp !== !1 && (Fn.test(n.url) ? "url" : typeof n.data == "string" && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Fn.test(n.data) && "data");
        if (a || n.dataTypes[0] === "jsonp") return s = n.jsonpCallback = w.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, a ? n[a] = n[a].replace(Fn, "$1" + s) : n.jsonp !== !1 && (n.url += (bn.test(n.url) ? "&" : "?") + n.jsonp + "=" + s), n.converters["script json"] = function() {
            return u || w.error(s + " was not called"), u[0]
        }, n.dataTypes[0] = "json", o = e[s], e[s] = function() {
            u = arguments
        }, i.always(function() {
            e[s] = o, n[s] && (n.jsonpCallback = r.jsonpCallback, jn.push(s)), u && w.isFunction(o) && o(u[0]), u = o = t
        }), "script"
    });
    var In, qn, Rn = 0,
        Un = e.ActiveXObject && function() {
            var e;
            for (e in In) In[e](t, !0)
        };
    w.ajaxSettings.xhr = e.ActiveXObject ? function() {
        return !this.isLocal && zn() || Wn()
    } : zn, qn = w.ajaxSettings.xhr(), w.support.cors = !!qn && "withCredentials" in qn, qn = w.support.ajax = !!qn, qn && w.ajaxTransport(function(n) {
        if (!n.crossDomain || w.support.cors) {
            var r;
            return {
                send: function(i, s) {
                    var o, u, a = n.xhr();
                    n.username ? a.open(n.type, n.url, n.async, n.username, n.password) : a.open(n.type, n.url, n.async);
                    if (n.xhrFields)
                        for (u in n.xhrFields) a[u] = n.xhrFields[u];
                    n.mimeType && a.overrideMimeType && a.overrideMimeType(n.mimeType), !n.crossDomain && !i["X-Requested-With"] && (i["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (u in i) a.setRequestHeader(u, i[u])
                    } catch (f) {}
                    a.send(n.hasContent && n.data || null), r = function(e, i) {
                        var u, f, l, c;
                        try {
                            if (r && (i || a.readyState === 4)) {
                                r = t, o && (a.onreadystatechange = w.noop, Un && delete In[o]);
                                if (i) a.readyState !== 4 && a.abort();
                                else {
                                    c = {}, u = a.status, f = a.getAllResponseHeaders(), typeof a.responseText == "string" && (c.text = a.responseText);
                                    try {
                                        l = a.statusText
                                    } catch (h) {
                                        l = ""
                                    }!u && n.isLocal && !n.crossDomain ? u = c.text ? 200 : 404 : u === 1223 && (u = 204)
                                }
                            }
                        } catch (p) {
                            i || s(-1, p)
                        }
                        c && s(u, l, c, f)
                    }, n.async ? a.readyState === 4 ? setTimeout(r) : (o = ++Rn, Un && (In || (In = {}, w(e).unload(Un)), In[o] = r), a.onreadystatechange = r) : r()
                },
                abort: function() {
                    r && r(t, !0)
                }
            }
        }
    });
    var Xn, Vn, $n = /^(?:toggle|show|hide)$/,
        Jn = new RegExp("^(?:([+-])=|)(" + E + ")([a-z%]*)$", "i"),
        Kn = /queueHooks$/,
        Qn = [nr],
        Gn = {
            "*": [function(e, t) {
                var n = this.createTween(e, t),
                    r = n.cur(),
                    i = Jn.exec(t),
                    s = i && i[3] || (w.cssNumber[e] ? "" : "px"),
                    o = (w.cssNumber[e] || s !== "px" && +r) && Jn.exec(w.css(n.elem, e)),
                    u = 1,
                    a = 20;
                if (o && o[3] !== s) {
                    s = s || o[3], i = i || [], o = +r || 1;
                    do u = u || ".5", o /= u, w.style(n.elem, e, o + s); while (u !== (u = n.cur() / r) && u !== 1 && --a)
                }
                return i && (n.unit = s, n.start = +o || +r || 0, n.end = i[1] ? o + (i[1] + 1) * i[2] : +i[2]), n
            }]
        };
    w.Animation = w.extend(er, {
        tweener: function(e, t) {
            w.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
            var n, r = 0,
                i = e.length;
            for (; r < i; r++) n = e[r], Gn[n] = Gn[n] || [], Gn[n].unshift(t)
        },
        prefilter: function(e, t) {
            t ? Qn.unshift(e) : Qn.push(e)
        }
    }), w.Tween = rr, rr.prototype = {
        constructor: rr,
        init: function(e, t, n, r, i, s) {
            this.elem = e, this.prop = n, this.easing = i || "swing", this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = s || (w.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var e = rr.propHooks[this.prop];
            return e && e.get ? e.get(this) : rr.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = rr.propHooks[this.prop];
            return this.options.duration ? this.pos = t = w.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : rr.propHooks._default.set(this), this
        }
    }, rr.prototype.init.prototype = rr.prototype, rr.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = w.css(e.elem, e.prop, ""), !t || t === "auto" ? 0 : t) : e.elem[e.prop]
            },
            set: function(e) {
                w.fx.step[e.prop] ? w.fx.step[e.prop](e) : e.elem.style && (e.elem.style[w.cssProps[e.prop]] != null || w.cssHooks[e.prop]) ? w.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }, rr.propHooks.scrollTop = rr.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, w.each(["toggle", "show", "hide"], function(e, t) {
        var n = w.fn[t];
        w.fn[t] = function(e, r, i) {
            return e == null || typeof e == "boolean" ? n.apply(this, arguments) : this.animate(ir(t, !0), e, r, i)
        }
    }), w.fn.extend({
        fadeTo: function(e, t, n, r) {
            return this.filter(nn).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, n, r)
        },
        animate: function(e, t, n, r) {
            var i = w.isEmptyObject(e),
                s = w.speed(t, n, r),
                o = function() {
                    var t = er(this, w.extend({}, e), s);
                    o.finish = function() {
                        t.stop(!0)
                    }, (i || w._data(this, "finish")) && t.stop(!0)
                };
            return o.finish = o, i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
        },
        stop: function(e, n, r) {
            var i = function(e) {
                var t = e.stop;
                delete e.stop, t(r)
            };
            return typeof e != "string" && (r = n, n = e, e = t), n && e !== !1 && this.queue(e || "fx", []), this.each(function() {
                var t = !0,
                    n = e != null && e + "queueHooks",
                    s = w.timers,
                    o = w._data(this);
                if (n) o[n] && o[n].stop && i(o[n]);
                else
                    for (n in o) o[n] && o[n].stop && Kn.test(n) && i(o[n]);
                for (n = s.length; n--;) s[n].elem === this && (e == null || s[n].queue === e) && (s[n].anim.stop(r), t = !1, s.splice(n, 1));
                (t || !r) && w.dequeue(this, e)
            })
        },
        finish: function(e) {
            return e !== !1 && (e = e || "fx"), this.each(function() {
                var t, n = w._data(this),
                    r = n[e + "queue"],
                    i = n[e + "queueHooks"],
                    s = w.timers,
                    o = r ? r.length : 0;
                n.finish = !0, w.queue(this, e, []), i && i.cur && i.cur.finish && i.cur.finish.call(this);
                for (t = s.length; t--;) s[t].elem === this && s[t].queue === e && (s[t].anim.stop(!0), s.splice(t, 1));
                for (t = 0; t < o; t++) r[t] && r[t].finish && r[t].finish.call(this);
                delete n.finish
            })
        }
    }), w.each({
        slideDown: ir("show"),
        slideUp: ir("hide"),
        slideToggle: ir("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, t) {
        w.fn[e] = function(e, n, r) {
            return this.animate(t, e, n, r)
        }
    }), w.speed = function(e, t, n) {
        var r = e && typeof e == "object" ? w.extend({}, e) : {
            complete: n || !n && t || w.isFunction(e) && e,
            duration: e,
            easing: n && t || t && !w.isFunction(t) && t
        };
        r.duration = w.fx.off ? 0 : typeof r.duration == "number" ? r.duration : r.duration in w.fx.speeds ? w.fx.speeds[r.duration] : w.fx.speeds._default;
        if (r.queue == null || r.queue === !0) r.queue = "fx";
        return r.old = r.complete, r.complete = function() {
            w.isFunction(r.old) && r.old.call(this), r.queue && w.dequeue(this, r.queue)
        }, r
    }, w.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, w.timers = [], w.fx = rr.prototype.init, w.fx.tick = function() {
        var e, n = w.timers,
            r = 0;
        Xn = w.now();
        for (; r < n.length; r++) e = n[r], !e() && n[r] === e && n.splice(r--, 1);
        n.length || w.fx.stop(), Xn = t
    }, w.fx.timer = function(e) {
        e() && w.timers.push(e) && w.fx.start()
    }, w.fx.interval = 13, w.fx.start = function() {
        Vn || (Vn = setInterval(w.fx.tick, w.fx.interval))
    }, w.fx.stop = function() {
        clearInterval(Vn), Vn = null
    }, w.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, w.fx.step = {}, w.expr && w.expr.filters && (w.expr.filters.animated = function(e) {
        return w.grep(w.timers, function(t) {
            return e === t.elem
        }).length
    }), w.fn.offset = function(e) {
        if (arguments.length) return e === t ? this : this.each(function(t) {
            w.offset.setOffset(this, e, t)
        });
        var n, r, s = {
                top: 0,
                left: 0
            },
            o = this[0],
            u = o && o.ownerDocument;
        if (!u) return;
        return n = u.documentElement, w.contains(n, o) ? (typeof o.getBoundingClientRect !== i && (s = o.getBoundingClientRect()), r = sr(u), {
            top: s.top + (r.pageYOffset || n.scrollTop) - (n.clientTop || 0),
            left: s.left + (r.pageXOffset || n.scrollLeft) - (n.clientLeft || 0)
        }) : s
    }, w.offset = {
        setOffset: function(e, t, n) {
            var r = w.css(e, "position");
            r === "static" && (e.style.position = "relative");
            var i = w(e),
                s = i.offset(),
                o = w.css(e, "top"),
                u = w.css(e, "left"),
                a = (r === "absolute" || r === "fixed") && w.inArray("auto", [o, u]) > -1,
                f = {},
                l = {},
                c, h;
            a ? (l = i.position(), c = l.top, h = l.left) : (c = parseFloat(o) || 0, h = parseFloat(u) || 0), w.isFunction(t) && (t = t.call(e, n, s)), t.top != null && (f.top = t.top - s.top + c), t.left != null && (f.left = t.left - s.left + h), "using" in t ? t.using.call(e, f) : i.css(f)
        }
    }, w.fn.extend({
        position: function() {
            if (!this[0]) return;
            var e, t, n = {
                    top: 0,
                    left: 0
                },
                r = this[0];
            return w.css(r, "position") === "fixed" ? t = r.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), w.nodeName(e[0], "html") || (n = e.offset()), n.top += w.css(e[0], "borderTopWidth", !0), n.left += w.css(e[0], "borderLeftWidth", !0)), {
                top: t.top - n.top - w.css(r, "marginTop", !0),
                left: t.left - n.left - w.css(r, "marginLeft", !0)
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var e = this.offsetParent || u;
                while (e && !w.nodeName(e, "html") && w.css(e, "position") === "static") e = e.offsetParent;
                return e || u
            })
        }
    }), w.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(e, n) {
        var r = /Y/.test(n);
        w.fn[e] = function(i) {
            return w.access(this, function(e, i, s) {
                var o = sr(e);
                if (s === t) return o ? n in o ? o[n] : o.document.documentElement[i] : e[i];
                o ? o.scrollTo(r ? w(o).scrollLeft() : s, r ? s : w(o).scrollTop()) : e[i] = s
            }, e, i, arguments.length, null)
        }
    }), w.each({
        Height: "height",
        Width: "width"
    }, function(e, n) {
        w.each({
            padding: "inner" + e,
            content: n,
            "": "outer" + e
        }, function(r, i) {
            w.fn[i] = function(i, s) {
                var o = arguments.length && (r || typeof i != "boolean"),
                    u = r || (i === !0 || s === !0 ? "margin" : "border");
                return w.access(this, function(n, r, i) {
                    var s;
                    return w.isWindow(n) ? n.document.documentElement["client" + e] : n.nodeType === 9 ? (s = n.documentElement, Math.max(n.body["scroll" + e], s["scroll" + e], n.body["offset" + e], s["offset" + e], s["client" + e])) : i === t ? w.css(n, r, u) : w.style(n, r, i, u)
                }, n, o ? i : t, o, null)
            }
        })
    }), w.fn.size = function() {
        return this.length
    }, w.fn.andSelf = w.fn.addBack, typeof module == "object" && typeof module.exports == "object" ? module.exports = w : (e.jQuery = e.$ = w, typeof define == "function" && define.amd && define("jquery", [], function() {
        return w
    }))
})(window),
function(e, t) {
    e.rails !== t && e.error("jquery-ujs has already been loaded!");
    var n;
    e.rails = n = {
        linkClickSelector: "a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",
        buttonClickSelector: "button[data-remote]",
        inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]",
        formSubmitSelector: "form",
        formInputClickSelector: "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",
        disableSelector: "input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",
        enableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",
        requiredInputSelector: "input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",
        fileInputSelector: "input[type=file]",
        linkDisableSelector: "a[data-disable-with]",
        CSRFProtection: function(t) {
            var n = e('meta[name="csrf-token"]').attr("content");
            n && t.setRequestHeader("X-CSRF-Token", n)
        },
        fire: function(t, n, r) {
            var i = e.Event(n);
            return t.trigger(i, r), i.result !== !1
        },
        confirm: function(e) {
            return confirm(e)
        },
        ajax: function(t) {
            return e.ajax(t)
        },
        href: function(e) {
            return e.attr("href")
        },
        handleRemote: function(r) {
            var i, s, o, u, a, f, l, c;
            if (n.fire(r, "ajax:before")) {
                u = r.data("cross-domain"), a = u === t ? null : u, f = r.data("with-credentials") || null, l = r.data("type") || e.ajaxSettings && e.ajaxSettings.dataType;
                if (r.is("form")) {
                    i = r.attr("method"), s = r.attr("action"), o = r.serializeArray();
                    var h = r.data("ujs:submit-button");
                    h && (o.push(h), r.data("ujs:submit-button", null))
                } else r.is(n.inputChangeSelector) ? (i = r.data("method"), s = r.data("url"), o = r.serialize(), r.data("params") && (o = o + "&" + r.data("params"))) : r.is(n.buttonClickSelector) ? (i = r.data("method") || "get", s = r.data("url"), o = r.serialize(), r.data("params") && (o = o + "&" + r.data("params"))) : (i = r.data("method"), s = n.href(r), o = r.data("params") || null);
                c = {
                    type: i || "GET",
                    data: o,
                    dataType: l,
                    beforeSend: function(e, i) {
                        return i.dataType === t && e.setRequestHeader("accept", "*/*;q=0.5, " + i.accepts.script), n.fire(r, "ajax:beforeSend", [e, i])
                    },
                    success: function(e, t, n) {
                        r.trigger("ajax:success", [e, t, n])
                    },
                    complete: function(e, t) {
                        r.trigger("ajax:complete", [e, t])
                    },
                    error: function(e, t, n) {
                        r.trigger("ajax:error", [e, t, n])
                    },
                    crossDomain: a
                }, f && (c.xhrFields = {
                    withCredentials: f
                }), s && (c.url = s);
                var p = n.ajax(c);
                return r.trigger("ajax:send", p), p
            }
            return !1
        },
        handleMethod: function(r) {
            var i = n.href(r),
                s = r.data("method"),
                o = r.attr("target"),
                u = e("meta[name=csrf-token]").attr("content"),
                a = e("meta[name=csrf-param]").attr("content"),
                f = e('<form method="post" action="' + i + '"></form>'),
                l = '<input name="_method" value="' + s + '" type="hidden" />';
            a !== t && u !== t && (l += '<input name="' + a + '" value="' + u + '" type="hidden" />'), o && f.attr("target", o), f.hide().append(l).appendTo("body"), f.submit()
        },
        disableFormElements: function(t) {
            t.find(n.disableSelector).each(function() {
                var t = e(this),
                    n = t.is("button") ? "html" : "val";
                t.data("ujs:enable-with", t[n]()), t[n](t.data("disable-with")), t.prop("disabled", !0)
            })
        },
        enableFormElements: function(t) {
            t.find(n.enableSelector).each(function() {
                var t = e(this),
                    n = t.is("button") ? "html" : "val";
                t.data("ujs:enable-with") && t[n](t.data("ujs:enable-with")), t.prop("disabled", !1)
            })
        },
        allowAction: function(e) {
            var t = e.data("confirm"),
                r = !1,
                i;
            return t ? (n.fire(e, "confirm") && (r = n.confirm(t), i = n.fire(e, "confirm:complete", [r])), r && i) : !0
        },
        blankInputs: function(t, n, r) {
            var i = e(),
                s, o, u = n || "input,textarea",
                a = t.find(u);
            return a.each(function() {
                s = e(this), o = s.is("input[type=checkbox],input[type=radio]") ? s.is(":checked") : s.val();
                if (!o == !r) {
                    if (s.is("input[type=radio]") && a.filter('input[type=radio]:checked[name="' + s.attr("name") + '"]').length) return !0;
                    i = i.add(s)
                }
            }), i.length ? i : !1
        },
        nonBlankInputs: function(e, t) {
            return n.blankInputs(e, t, !0)
        },
        stopEverything: function(t) {
            return e(t.target).trigger("ujs:everythingStopped"), t.stopImmediatePropagation(), !1
        },
        disableElement: function(e) {
            e.data("ujs:enable-with", e.html()), e.html(e.data("disable-with")), e.bind("click.railsDisable", function(e) {
                return n.stopEverything(e)
            })
        },
        enableElement: function(e) {
            e.data("ujs:enable-with") !== t && (e.html(e.data("ujs:enable-with")), e.removeData("ujs:enable-with")), e.unbind("click.railsDisable")
        }
    }, n.fire(e(document), "rails:attachBindings") && (e.ajaxPrefilter(function(e, t, r) {
        e.crossDomain || n.CSRFProtection(r)
    }), e(document).delegate(n.linkDisableSelector, "ajax:complete", function() {
        n.enableElement(e(this))
    }), e(document).delegate(n.linkClickSelector, "click.rails", function(r) {
        var i = e(this),
            s = i.data("method"),
            o = i.data("params");
        if (!n.allowAction(i)) return n.stopEverything(r);
        i.is(n.linkDisableSelector) && n.disableElement(i);
        if (i.data("remote") !== t) {
            if ((r.metaKey || r.ctrlKey) && (!s || s === "GET") && !o) return !0;
            var u = n.handleRemote(i);
            return u === !1 ? n.enableElement(i) : u.error(function() {
                n.enableElement(i)
            }), !1
        }
        if (i.data("method")) return n.handleMethod(i), !1
    }), e(document).delegate(n.buttonClickSelector, "click.rails", function(t) {
        var r = e(this);
        return n.allowAction(r) ? (n.handleRemote(r), !1) : n.stopEverything(t)
    }), e(document).delegate(n.inputChangeSelector, "change.rails", function(t) {
        var r = e(this);
        return n.allowAction(r) ? (n.handleRemote(r), !1) : n.stopEverything(t)
    }), e(document).delegate(n.formSubmitSelector, "submit.rails", function(r) {
        var i = e(this),
            s = i.data("remote") !== t,
            o = n.blankInputs(i, n.requiredInputSelector),
            u = n.nonBlankInputs(i, n.fileInputSelector);
        if (!n.allowAction(i)) return n.stopEverything(r);
        if (o && i.attr("novalidate") == t && n.fire(i, "ajax:aborted:required", [o])) return n.stopEverything(r);
        if (s) {
            if (u) {
                setTimeout(function() {
                    n.disableFormElements(i)
                }, 13);
                var a = n.fire(i, "ajax:aborted:file", [u]);
                return a || setTimeout(function() {
                    n.enableFormElements(i)
                }, 13), a
            }
            return n.handleRemote(i), !1
        }
        setTimeout(function() {
            n.disableFormElements(i)
        }, 13)
    }), e(document).delegate(n.formInputClickSelector, "click.rails", function(t) {
        var r = e(this);
        if (!n.allowAction(r)) return n.stopEverything(t);
        var i = r.attr("name"),
            s = i ? {
                name: i,
                value: r.val()
            } : null;
        r.closest("form").data("ujs:submit-button", s)
    }), e(document).delegate(n.formSubmitSelector, "ajax:beforeSend.rails", function(t) {
        this == t.target && n.disableFormElements(e(this))
    }), e(document).delegate(n.formSubmitSelector, "ajax:complete.rails", function(t) {
        this == t.target && n.enableFormElements(e(this))
    }), e(function() {
        var t = e("meta[name=csrf-token]").attr("content"),
            n = e("meta[name=csrf-param]").attr("content");
        e('form input[name="' + n + '"]').val(t)
    }))
}(jQuery),
function(e, t, n) {
    function l(e) {
        return e = e || location.href, "#" + e.replace(/^[^#]*#?(.*)$/, "$1")
    }
    var r = "hashchange",
        i = document,
        s, o = e.event.special,
        u = i.documentMode,
        a = "on" + r in t && (u === n || u > 7),
        f = window.navigator.userAgent;
    e.fn[r] = function(e) {
        return e ? this.bind(r, e) : this.trigger(r)
    }, e.fn[r].delay = 50, o[r] = e.extend(o[r], {
        setup: function() {
            if (a) return !1;
            e(s.start)
        },
        teardown: function() {
            if (a) return !1;
            e(s.stop)
        }
    }), s = function() {
        function g() {
            var n = l(),
                i = m(u);
            n !== u ? (v(u = n, i), e(t).trigger(r)) : i !== u && (location.href = location.href.replace(/#.*/, "") + i), o = setTimeout(g, e.fn[r].delay)
        }
        var s = {},
            o, u = l(),
            p = function(e) {
                return e
            },
            v = p,
            m = p;
        return s.start = function() {
            o || g()
        }, s.stop = function() {
            o && clearTimeout(o), o = n
        }, (f.indexOf("MSIE ") > 0 || f.indexOf("Trident") > 0 || f.indexOf("Edge") > 0) && !a && function() {
            var t, n;
            s.start = function() {
                t || (n = e.fn[r].src, n = n && n + l(), t = e('<iframe tabindex="-1" title="empty"/>').hide().one("load", function() {
                    n || v(l()), g()
                }).attr("src", n || "javascript:0").insertAfter("body")[0].contentWindow, i.onpropertychange = function() {
                    try {
                        event.propertyName === "title" && (t.document.title = i.title)
                    } catch (e) {}
                })
            }, s.stop = p, m = function() {
                return l(t.location.href)
            }, v = function(n, s) {
                var o = t.document,
                    u = e.fn[r].domain;
                n !== s && (o.title = i.title, o.open(), u && o.write('<script>document.domain="' + u + '"</script>'), o.close(), t.location.hash = n)
            }
        }(), s
    }()
}(jQuery, this),
function(e) {
    function t(t, n, r) {
        var i = this;
        i.id = r, i.options = n, i.status = {
            animated: !1,
            rendered: !1,
            disabled: !1,
            focused: !1
        }, i.elements = {
            target: t.addClass(i.options.style.classes.target),
            tooltip: null,
            wrapper: null,
            content: null,
            contentWrapper: null,
            title: null,
            button: null,
            tip: null,
            bgiframe: null
        }, i.cache = {
            mouse: {},
            position: {},
            toggle: 0
        }, i.timers = {}, e.extend(i, i.options.api, {
            show: function(t) {
                function s() {
                    i.options.position.type !== "static" && i.focus(), i.onShow.call(i, t), e.browser.msie && i.elements.tooltip.get(0).style.removeAttribute("filter")
                }
                var n, r;
                if (!i.status.rendered) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "show");
                if (i.elements.tooltip.css("display") !== "none") return i;
                i.elements.tooltip.stop(!0, !1), n = i.beforeShow.call(i, t);
                if (n === !1) return i;
                i.cache.toggle = 1, i.options.position.type !== "static" && i.updatePosition(t, i.options.show.effect.length > 0), typeof i.options.show.solo == "object" ? r = e(i.options.show.solo) : i.options.show.solo === !0 && (r = e("div.qtip").not(i.elements.tooltip)), r && r.each(function() {
                    e(this).qtip("api").status.rendered === !0 && e(this).qtip("api").hide()
                });
                if (typeof i.options.show.effect.type == "function") i.options.show.effect.type.call(i.elements.tooltip, i.options.show.effect.length), i.elements.tooltip.queue(function() {
                    s(), e(this).dequeue()
                });
                else {
                    switch (i.options.show.effect.type.toLowerCase()) {
                        case "fade":
                            i.elements.tooltip.fadeIn(i.options.show.effect.length, s);
                            break;
                        case "slide":
                            i.elements.tooltip.slideDown(i.options.show.effect.length, function() {
                                s(), i.options.position.type !== "static" && i.updatePosition(t, !0)
                            });
                            break;
                        case "grow":
                            i.elements.tooltip.show(i.options.show.effect.length, s);
                            break;
                        default:
                            i.elements.tooltip.show(null, s)
                    }
                    i.elements.tooltip.addClass(i.options.style.classes.active)
                }
                return e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_SHOWN, "show")
            },
            hide: function(t) {
                function r() {
                    i.onHide.call(i, t)
                }
                var n;
                if (!i.status.rendered) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "hide");
                if (i.elements.tooltip.css("display") === "none") return i;
                clearTimeout(i.timers.show), i.elements.tooltip.stop(!0, !1), n = i.beforeHide.call(i, t);
                if (n === !1) return i;
                i.cache.toggle = 0;
                if (typeof i.options.hide.effect.type == "function") i.options.hide.effect.type.call(i.elements.tooltip, i.options.hide.effect.length), i.elements.tooltip.queue(function() {
                    r(), e(this).dequeue()
                });
                else {
                    switch (i.options.hide.effect.type.toLowerCase()) {
                        case "fade":
                            i.elements.tooltip.fadeOut(i.options.hide.effect.length, r);
                            break;
                        case "slide":
                            i.elements.tooltip.slideUp(i.options.hide.effect.length, r);
                            break;
                        case "grow":
                            i.elements.tooltip.hide(i.options.hide.effect.length, r);
                            break;
                        default:
                            i.elements.tooltip.hide(null, r)
                    }
                    i.elements.tooltip.removeClass(i.options.style.classes.active)
                }
                return e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_HIDDEN, "hide")
            },
            updatePosition: function(t, n) {
                var r, s, o, u, a, f, l, h, p, d, v, m, y, b;
                if (!i.status.rendered) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updatePosition");
                if (i.options.position.type == "static") return e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.CANNOT_POSITION_STATIC, "updatePosition");
                s = {
                    position: {
                        left: 0,
                        top: 0
                    },
                    dimensions: {
                        height: 0,
                        width: 0
                    },
                    corner: i.options.position.corner.target
                }, o = {
                    position: i.getPosition(),
                    dimensions: i.getDimensions(),
                    corner: i.options.position.corner.tooltip
                };
                if (i.options.position.target !== "mouse") {
                    if (i.options.position.target.get(0).nodeName.toLowerCase() == "area") {
                        u = i.options.position.target.attr("coords").split(",");
                        for (r = 0; r < u.length; r++) u[r] = parseInt(u[r]);
                        a = i.options.position.target.parent("map").attr("name"), f = e('img[usemap="#' + a + '"]:first').offset(), s.position = {
                            left: Math.floor(f.left + u[0]),
                            top: Math.floor(f.top + u[1])
                        };
                        switch (i.options.position.target.attr("shape").toLowerCase()) {
                            case "rect":
                                s.dimensions = {
                                    width: Math.ceil(Math.abs(u[2] - u[0])),
                                    height: Math.ceil(Math.abs(u[3] - u[1]))
                                };
                                break;
                            case "circle":
                                s.dimensions = {
                                    width: u[2] + 1,
                                    height: u[2] + 1
                                };
                                break;
                            case "poly":
                                s.dimensions = {
                                    width: u[0],
                                    height: u[1]
                                };
                                for (r = 0; r < u.length; r++) r % 2 == 0 ? (u[r] > s.dimensions.width && (s.dimensions.width = u[r]), u[r] < u[0] && (s.position.left = Math.floor(f.left + u[r]))) : (u[r] > s.dimensions.height && (s.dimensions.height = u[r]), u[r] < u[1] && (s.position.top = Math.floor(f.top + u[r])));
                                s.dimensions.width = s.dimensions.width - (s.position.left - f.left), s.dimensions.height = s.dimensions.height - (s.position.top - f.top);
                                break;
                            default:
                                return e.fn.qtip.log.error.call(i, 4, e.fn.qtip.constants.INVALID_AREA_SHAPE, "updatePosition")
                        }
                        s.dimensions.width -= 2, s.dimensions.height -= 2
                    } else i.options.position.target.add(document.body).length === 1 ? (s.position = {
                        left: e(document).scrollLeft(),
                        top: e(document).scrollTop()
                    }, s.dimensions = {
                        height: e(window).height(),
                        width: e(window).width()
                    }) : (typeof i.options.position.target.attr("qtip") != "undefined" ? s.position = i.options.position.target.qtip("api").cache.position : s.position = i.options.position.target.offset(), s.dimensions = {
                        height: i.options.position.target.outerHeight(),
                        width: i.options.position.target.outerWidth()
                    });
                    l = e.extend({}, s.position), s.corner.search(/right/i) !== -1 && (l.left += s.dimensions.width), s.corner.search(/bottom/i) !== -1 && (l.top += s.dimensions.height), s.corner.search(/((top|bottom)Middle)|center/) !== -1 && (l.left += s.dimensions.width / 2), s.corner.search(/((left|right)Middle)|center/) !== -1 && (l.top += s.dimensions.height / 2)
                } else s.position = l = {
                    left: i.cache.mouse.x,
                    top: i.cache.mouse.y
                }, s.dimensions = {
                    height: 1,
                    width: 1
                };
                o.corner.search(/right/i) !== -1 && (l.left -= o.dimensions.width), o.corner.search(/bottom/i) !== -1 && (l.top -= o.dimensions.height), o.corner.search(/((top|bottom)Middle)|center/) !== -1 && (l.left -= o.dimensions.width / 2), o.corner.search(/((left|right)Middle)|center/) !== -1 && (l.top -= o.dimensions.height / 2), h = e.browser.msie ? 1 : 0, p = e.browser.msie && parseInt(e.browser.version.charAt(0)) === 6 ? 1 : 0, i.options.style.border.radius > 0 && (o.corner.search(/Left/) !== -1 ? l.left -= i.options.style.border.radius : o.corner.search(/Right/) !== -1 && (l.left += i.options.style.border.radius), o.corner.search(/Top/) !== -1 ? l.top -= i.options.style.border.radius : o.corner.search(/Bottom/) !== -1 && (l.top += i.options.style.border.radius)), h && (o.corner.search(/top/) !== -1 ? l.top -= h : o.corner.search(/bottom/) !== -1 && (l.top += h), o.corner.search(/left/) !== -1 ? l.left -= h : o.corner.search(/right/) !== -1 && (l.left += h), o.corner.search(/leftMiddle|rightMiddle/) !== -1 && (l.top -= 1)), i.options.position.adjust.screen === !0 && (l = c.call(i, l, s, o)), i.options.position.target === "mouse" && i.options.position.adjust.mouse === !0 && (i.options.position.adjust.screen === !0 && i.elements.tip ? v = i.elements.tip.attr("rel") : v = i.options.position.corner.tooltip, l.left += v.search(/right/i) !== -1 ? -6 : 6, l.top += v.search(/bottom/i) !== -1 ? -6 : 6), !i.elements.bgiframe && e.browser.msie && parseInt(e.browser.version.charAt(0)) == 6 && e("select, object").each(function() {
                    m = e(this).offset(), m.bottom = m.top + e(this).height(), m.right = m.left + e(this).width(), l.top + o.dimensions.height >= m.top && l.left + o.dimensions.width >= m.left && g.call(i)
                }), l.left += i.options.position.adjust.x, l.top += i.options.position.adjust.y, y = i.getPosition();
                if (l.left != y.left || l.top != y.top) {
                    b = i.beforePositionUpdate.call(i, t);
                    if (b === !1) return i;
                    i.cache.position = l, n === !0 ? (i.status.animated = !0, i.elements.tooltip.animate(l, 200, "swing", function() {
                        i.status.animated = !1
                    })) : i.elements.tooltip.css(l), i.onPositionUpdate.call(i, t), typeof t != "undefined" && t.type && t.type !== "mousemove" && e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_POSITION_UPDATED, "updatePosition")
                }
                return i
            },
            updateWidth: function(t) {
                var n;
                return i.status.rendered ? t && typeof t != "number" ? e.fn.qtip.log.error.call(i, 2, "newWidth must be of type number", "updateWidth") : (n = i.elements.contentWrapper.siblings().add(i.elements.tip).add(i.elements.button), t || (typeof i.options.style.width.value == "number" ? t = i.options.style.width.value : (i.elements.tooltip.css({
                    width: "auto"
                }), n.hide(), e.browser.msie && i.elements.wrapper.add(i.elements.contentWrapper.children()).css({
                    zoom: "normal"
                }), t = i.getDimensions().width + 1, i.options.style.width.value || (t > i.options.style.width.max && (t = i.options.style.width.max), t < i.options.style.width.min && (t = i.options.style.width.min)))), t % 2 !== 0 && (t -= 1), i.elements.tooltip.width(t), n.show(), i.options.style.border.radius && i.elements.tooltip.find(".qtip-betweenCorners").each(function(n) {
                    e(this).width(t - i.options.style.border.radius * 2)
                }), e.browser.msie && (i.elements.wrapper.add(i.elements.contentWrapper.children()).css({
                    zoom: "1"
                }), i.elements.wrapper.width(t), i.elements.bgiframe && i.elements.bgiframe.width(t).height(i.getDimensions.height)), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_WIDTH_UPDATED, "updateWidth")) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateWidth")
            },
            updateStyle: function(t) {
                var n, r, o, a, f;
                return i.status.rendered ? typeof t != "string" || !e.fn.qtip.styles[t] ? e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.STYLE_NOT_DEFINED, "updateStyle") : (i.options.style = d.call(i, e.fn.qtip.styles[t], i.options.user.style), i.elements.content.css(h(i.options.style)), i.options.content.title.text !== !1 && i.elements.title.css(h(i.options.style.title, !0)), i.elements.contentWrapper.css({
                    borderColor: i.options.style.border.color
                }), i.options.style.tip.corner !== !1 && (e("<canvas>").get(0).getContext ? (n = i.elements.tooltip.find(".qtip-tip canvas:first"), o = n.get(0).getContext("2d"), o.clearRect(0, 0, 300, 300), a = n.parent("div[rel]:first").attr("rel"), f = v(a, i.options.style.tip.size.width, i.options.style.tip.size.height), u.call(i, n, f, i.options.style.tip.color || i.options.style.border.color)) : e.browser.msie && (n = i.elements.tooltip.find('.qtip-tip [nodeName="shape"]'), n.attr("fillcolor", i.options.style.tip.color || i.options.style.border.color))), i.options.style.border.radius > 0 && (i.elements.tooltip.find(".qtip-betweenCorners").css({
                    backgroundColor: i.options.style.border.color
                }), e("<canvas>").get(0).getContext ? (r = m(i.options.style.border.radius), i.elements.tooltip.find(".qtip-wrapper canvas").each(function() {
                    o = e(this).get(0).getContext("2d"), o.clearRect(0, 0, 300, 300), a = e(this).parent("div[rel]:first").attr("rel"), s.call(i, e(this), r[a], i.options.style.border.radius, i.options.style.border.color)
                })) : e.browser.msie && i.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function() {
                    e(this).attr("fillcolor", i.options.style.border.color)
                })), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_STYLE_UPDATED, "updateStyle")) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateStyle")
            },
            updateContent: function(t, n) {
                function u() {
                    i.updateWidth(), n !== !1 && (i.options.position.type !== "static" && i.updatePosition(i.elements.tooltip.is(":visible"), !0), i.options.style.tip.corner !== !1 && a.call(i))
                }
                var r, s, o;
                if (!i.status.rendered) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateContent");
                if (!t) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.NO_CONTENT_PROVIDED, "updateContent");
                r = i.beforeContentUpdate.call(i, t);
                if (typeof r == "string") t = r;
                else if (r === !1) return;
                return e.browser.msie && i.elements.contentWrapper.children().css({
                    zoom: "normal"
                }), t.jquery && t.length > 0 ? t.clone(!0).appendTo(i.elements.content).show() : i.elements.content.html(t), s = i.elements.content.find("img[complete=false]"), s.length > 0 ? (o = 0, s.each(function(t) {
                    e('<img src="' + e(this).attr("src") + '" />').load(function() {
                        ++o == s.length && u()
                    })
                })) : u(), i.onContentUpdate.call(i), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_CONTENT_UPDATED, "loadContent")
            },
            loadContent: function(t, n, r) {
                function o(t) {
                    i.onContentLoad.call(i), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_CONTENT_LOADED, "loadContent"), i.updateContent(t)
                }
                var s;
                return i.status.rendered ? (s = i.beforeContentLoad.call(i), s === !1 ? i : (r == "post" ? e.post(t, n, o) : e.get(t, n, o), i)) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "loadContent")
            },
            updateTitle: function(t) {
                return i.status.rendered ? t ? (returned = i.beforeTitleUpdate.call(i), returned === !1 ? i : (i.elements.button && (i.elements.button = i.elements.button.clone(!0)), i.elements.title.html(t), i.elements.button && i.elements.title.prepend(i.elements.button), i.onTitleUpdate.call(i), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_TITLE_UPDATED, "updateTitle"))) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.NO_CONTENT_PROVIDED, "updateTitle") : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "updateTitle")
            },
            focus: function(t) {
                var n, r, s, o;
                if (!i.status.rendered) return e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "focus");
                if (i.options.position.type == "static") return e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.CANNOT_FOCUS_STATIC, "focus");
                n = parseInt(i.elements.tooltip.css("z-index")), r = 6e3 + e("div.qtip[qtip]").length - 1;
                if (!i.status.focused && n !== r) {
                    o = i.beforeFocus.call(i, t);
                    if (o === !1) return i;
                    e("div.qtip[qtip]").not(i.elements.tooltip).each(function() {
                        e(this).qtip("api").status.rendered === !0 && (s = parseInt(e(this).css("z-index")), typeof s == "number" && s > -1 && e(this).css({
                            zIndex: parseInt(e(this).css("z-index")) - 1
                        }), e(this).qtip("api").status.focused = !1)
                    }), i.elements.tooltip.css({
                        zIndex: r
                    }), i.status.focused = !0, i.onFocus.call(i, t), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_FOCUSED, "focus")
                }
                return i
            },
            disable: function(t) {
                return i.status.rendered ? (t ? i.status.disabled ? e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED, "disable") : (i.status.disabled = !0, e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_DISABLED, "disable")) : i.status.disabled ? (i.status.disabled = !1, e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_ENABLED, "disable")) : e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED, "disable"), i) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "disable")
            },
            destroy: function() {
                var t, n, r;
                n = i.beforeDestroy.call(i);
                if (n === !1) return i;
                i.status.rendered ? (i.options.show.when.target.unbind("mousemove.qtip", i.updatePosition), i.options.show.when.target.unbind("mouseout.qtip", i.hide), i.options.show.when.target.unbind(i.options.show.when.event + ".qtip"), i.options.hide.when.target.unbind(i.options.hide.when.event + ".qtip"), i.elements.tooltip.unbind(i.options.hide.when.event + ".qtip"), i.elements.tooltip.unbind("mouseover.qtip", i.focus), i.elements.tooltip.remove()) : i.options.show.when.target.unbind(i.options.show.when.event + ".qtip-create");
                if (typeof i.elements.target.data("qtip") == "object") {
                    r = i.elements.target.data("qtip").interfaces;
                    if (typeof r == "object" && r.length > 0)
                        for (t = 0; t < r.length - 1; t++) r[t].id == i.id && r.splice(t, 1)
                }
                return delete e.fn.qtip.interfaces[i.id], typeof r == "object" && r.length > 0 ? i.elements.target.data("qtip").current = r.length - 1 : i.elements.target.removeData("qtip"), i.onDestroy.call(i), e.fn.qtip.log.error.call(i, 1, e.fn.qtip.constants.EVENT_DESTROYED, "destroy"), i.elements.target
            },
            getPosition: function() {
                var t, n;
                return i.status.rendered ? (t = i.elements.tooltip.css("display") !== "none" ? !1 : !0, t && i.elements.tooltip.css({
                    visiblity: "hidden"
                }).show(), n = i.elements.tooltip.offset(), t && i.elements.tooltip.css({
                    visiblity: "visible"
                }).hide(), n) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "getPosition")
            },
            getDimensions: function() {
                var t, n;
                return i.status.rendered ? (t = i.elements.tooltip.is(":visible") ? !1 : !0, t && i.elements.tooltip.css({
                    visiblity: "hidden"
                }).show(), n = {
                    height: i.elements.tooltip.outerHeight(),
                    width: i.elements.tooltip.outerWidth()
                }, t && i.elements.tooltip.css({
                    visiblity: "visible"
                }).hide(), n) : e.fn.qtip.log.error.call(i, 2, e.fn.qtip.constants.TOOLTIP_NOT_RENDERED, "getDimensions")
            }
        })
    }

    function n() {
        var t, n, i, s, u, a, c;
        t = this, t.beforeRender.call(t), t.status.rendered = !0, t.elements.tooltip = '<div qtip="' + t.id + '" class="qtip ' + (t.options.style.classes.tooltip || t.options.style) + '"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:' + t.options.position.type + ';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content ' + t.options.style.classes.content + '"></div></div></div></div>', t.elements.tooltip = e(t.elements.tooltip), t.elements.tooltip.appendTo(t.options.position.container), t.elements.tooltip.data("qtip", {
            current: 0,
            interfaces: [t]
        }), t.elements.wrapper = t.elements.tooltip.children("div:first"), t.elements.contentWrapper = t.elements.wrapper.children("div:first").css({
            background: t.options.style.background
        }), t.elements.content = t.elements.contentWrapper.children("div:first").css(h(t.options.style)), e.browser.msie && t.elements.wrapper.add(t.elements.content).css({
            zoom: 1
        }), t.options.hide.when.event == "unfocus" && t.elements.tooltip.attr("unfocus", !0), typeof t.options.style.width.value == "number" && t.updateWidth(), e("<canvas>").get(0).getContext || e.browser.msie ? (t.options.style.border.radius > 0 ? r.call(t) : t.elements.contentWrapper.css({
            border: t.options.style.border.width + "px solid " + t.options.style.border.color
        }), t.options.style.tip.corner !== !1 && o.call(t)) : (t.elements.contentWrapper.css({
            border: t.options.style.border.width + "px solid " + t.options.style.border.color
        }), t.options.style.border.radius = 0, t.options.style.tip.corner = !1, e.fn.qtip.log.error.call(t, 2, e.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED, "render")), typeof t.options.content.text == "string" && t.options.content.text.length > 0 || t.options.content.text.jquery && t.options.content.text.length > 0 ? i = t.options.content.text : typeof t.elements.target.attr("title") == "string" && t.elements.target.attr("title").length > 0 ? (i = t.elements.target.attr("title").replace("\\n", "<br />"), t.elements.target.attr("title", "")) : typeof t.elements.target.attr("alt") == "string" && t.elements.target.attr("alt").length > 0 ? (i = t.elements.target.attr("alt").replace("\\n", "<br />"), t.elements.target.attr("alt", "")) : (i = " ", e.fn.qtip.log.error.call(t, 1, e.fn.qtip.constants.NO_VALID_CONTENT, "render")), t.options.content.title.text !== !1 && f.call(t), t.updateContent(i), l.call(t), t.options.show.ready === !0 && t.show(), t.options.content.url !== !1 && (s = t.options.content.url, u = t.options.content.data, a = t.options.content.method || "get", t.loadContent(s, u, a)), t.onRender.call(t), e.fn.qtip.log.error.call(t, 1, e.fn.qtip.constants.EVENT_RENDERED, "render")
    }

    function r() {
        var t, n, r, i, o, u, a, f, l, c, h, p, d, v, g;
        t = this, t.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove(), r = t.options.style.border.width, i = t.options.style.border.radius, o = t.options.style.border.color || t.options.style.tip.color, u = m(i), a = {};
        for (n in u) a[n] = '<div rel="' + n + '" style="' + (n.search(/Left/) !== -1 ? "left" : "right") + ":0; position:absolute; height:" + i + "px; width:" + i + 'px; overflow:hidden; line-height:0.1px; font-size:1px">', e("<canvas>").get(0).getContext ? a[n] += '<canvas height="' + i + '" width="' + i + '" style="vertical-align: top"></canvas>' : e.browser.msie && (f = i * 2 + 3, a[n] += '<v:arc stroked="false" fillcolor="' + o + '" startangle="' + u[n][0] + '" endangle="' + u[n][1] + '" style="width:' + f + "px; height:" + f + "px; margin-top:" + (n.search(/bottom/) !== -1 ? -2 : -1) + "px; margin-left:" + (n.search(/Right/) !== -1 ? u[n][2] - 3.5 : -1) + 'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'), a[n] += "</div>";
        l = t.getDimensions().width - Math.max(r, i) * 2, c = '<div class="qtip-betweenCorners" style="height:' + i + "px; width:" + l + "px; overflow:hidden; background-color:" + o + '; line-height:0.1px; font-size:1px;">', h = '<div class="qtip-borderTop" dir="ltr" style="height:' + i + "px; margin-left:" + i + 'px; line-height:0.1px; font-size:1px; padding:0;">' + a.topLeft + a.topRight + c, t.elements.wrapper.prepend(h), p = '<div class="qtip-borderBottom" dir="ltr" style="height:' + i + "px; margin-left:" + i + 'px; line-height:0.1px; font-size:1px; padding:0;">' + a.bottomLeft + a.bottomRight + c, t.elements.wrapper.append(p), e("<canvas>").get(0).getContext ? t.elements.wrapper.find("canvas").each(function() {
            d = u[e(this).parent("[rel]:first").attr("rel")], s.call(t, e(this), d, i, o)
        }) : e.browser.msie && t.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>'), v = Math.max(i, i + (r - i)), g = Math.max(r - i, 0), t.elements.contentWrapper.css({
            border: "0px solid " + o,
            borderWidth: g + "px " + v + "px"
        })
    }

    function s(e, t, n, r) {
        var i = e.get(0).getContext("2d");
        i.fillStyle = r, i.beginPath(), i.arc(t[0], t[1], n, 0, Math.PI * 2, !1), i.fill()
    }

    function o(t) {
        var n, r, i, s, o;
        n = this, n.elements.tip !== null && n.elements.tip.remove(), r = n.options.style.tip.color || n.options.style.border.color;
        if (n.options.style.tip.corner === !1) return;
        t || (t = n.options.style.tip.corner), i = v(t, n.options.style.tip.size.width, n.options.style.tip.size.height), n.elements.tip = '<div class="' + n.options.style.classes.tip + '" dir="ltr" rel="' + t + '" style="position:absolute; height:' + n.options.style.tip.size.height + "px; width:" + n.options.style.tip.size.width + 'px; margin:0 auto; line-height:0.1px; font-size:1px;">', e("<canvas>").get(0).getContext ? n.elements.tip += '<canvas height="' + n.options.style.tip.size.height + '" width="' + n.options.style.tip.size.width + '"></canvas>' : e.browser.msie && (s = n.options.style.tip.size.width + "," + n.options.style.tip.size.height, o = "m" + i[0][0] + "," + i[0][1], o += " l" + i[1][0] + "," + i[1][1], o += " " + i[2][0] + "," + i[2][1], o += " xe", n.elements.tip += '<v:shape fillcolor="' + r + '" stroked="false" filled="true" path="' + o + '" coordsize="' + s + '" style="width:' + n.options.style.tip.size.width + "px; height:" + n.options.style.tip.size.height + "px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:" + (t.search(/top/) !== -1 ? "bottom" : "top") + '"></v:shape>', n.elements.tip += '<v:image style="behavior:url(#default#VML);"></v:image>', n.elements.contentWrapper.css("position", "relative")), n.elements.tooltip.prepend(n.elements.tip + "</div>"), n.elements.tip = n.elements.tooltip.find("." + n.options.style.classes.tip).eq(0), e("<canvas>").get(0).getContext && u.call(n, n.elements.tip.find("canvas:first"), i, r), t.search(/top/) !== -1 && e.browser.msie && parseInt(e.browser.version.charAt(0)) === 6 && n.elements.tip.css({
            marginTop: -4
        }), a.call(n, t)
    }

    function u(e, t, n) {
        var r = e.get(0).getContext("2d");
        r.fillStyle = n, r.beginPath(), r.moveTo(t[0][0], t[0][1]), r.lineTo(t[1][0], t[1][1]), r.lineTo(t[2][0], t[2][1]), r.fill()
    }

    function a(t) {
        var n, r, i, s, o;
        n = this;
        if (n.options.style.tip.corner === !1 || !n.elements.tip) return;
        t || (t = n.elements.tip.attr("rel")), r = positionAdjust = e.browser.msie ? 1 : 0, n.elements.tip.css(t.match(/left|right|top|bottom/)[0], 0), t.search(/top|bottom/) !== -1 ? (e.browser.msie && (parseInt(e.browser.version.charAt(0)) === 6 ? positionAdjust = t.search(/top/) !== -1 ? -3 : 1 : positionAdjust = t.search(/top/) !== -1 ? 1 : 2), t.search(/Middle/) !== -1 ? n.elements.tip.css({
            left: "50%",
            marginLeft: -(n.options.style.tip.size.width / 2)
        }) : t.search(/Left/) !== -1 ? n.elements.tip.css({
            left: n.options.style.border.radius - r
        }) : t.search(/Right/) !== -1 && n.elements.tip.css({
            right: n.options.style.border.radius + r
        }), t.search(/top/) !== -1 ? n.elements.tip.css({
            top: -positionAdjust
        }) : n.elements.tip.css({
            bottom: positionAdjust
        })) : t.search(/left|right/) !== -1 && (e.browser.msie && (positionAdjust = parseInt(e.browser.version.charAt(0)) === 6 ? 1 : t.search(/left/) !== -1 ? 1 : 2), t.search(/Middle/) !== -1 ? n.elements.tip.css({
            top: "50%",
            marginTop: -(n.options.style.tip.size.height / 2)
        }) : t.search(/Top/) !== -1 ? n.elements.tip.css({
            top: n.options.style.border.radius - r
        }) : t.search(/Bottom/) !== -1 && n.elements.tip.css({
            bottom: n.options.style.border.radius + r
        }), t.search(/left/) !== -1 ? n.elements.tip.css({
            left: -positionAdjust
        }) : n.elements.tip.css({
            right: positionAdjust
        })), i = "padding-" + t.match(/left|right|top|bottom/)[0], s = n.options.style.tip.size[i.search(/left|right/) !== -1 ? "width" : "height"], n.elements.tooltip.css("padding", 0), n.elements.tooltip.css(i, s), e.browser.msie && parseInt(e.browser.version.charAt(0)) == 6 && (o = parseInt(n.elements.tip.css("margin-top")) || 0, o += parseInt(n.elements.content.css("margin-top")) || 0, n.elements.tip.css({
            marginTop: o
        }))
    }

    function f() {
        var t = this;
        t.elements.title !== null && t.elements.title.remove(), t.elements.title = e('<div class="' + t.options.style.classes.title + '">').css(h(t.options.style.title, !0)).css({
            zoom: e.browser.msie ? 1 : 0
        }).prependTo(t.elements.contentWrapper), t.options.content.title.text && t.updateTitle.call(t, t.options.content.title.text), t.options.content.title.button !== !1 && typeof t.options.content.title.button == "string" && (t.elements.button = e('<a class="' + t.options.style.classes.button + '" style="float:right; position: relative"></a>').css(h(t.options.style.button, !0)).html(t.options.content.title.button).prependTo(t.elements.title).click(function(e) {
            t.status.disabled || t.hide(e)
        }))
    }

    function l() {
        function o(n) {
            if (t.status.disabled === !0) return;
            t.options.hide.when.event == "inactive" && (e(i).each(function() {
                r.bind(this + ".qtip-inactive", s), t.elements.content.bind(this + ".qtip-inactive", s)
            }), s()), clearTimeout(t.timers.show), clearTimeout(t.timers.hide), t.timers.show = setTimeout(function() {
                t.show(n)
            }, t.options.show.delay)
        }

        function u(n) {
            if (t.status.disabled === !0) return;
            if (t.options.hide.fixed === !0 && t.options.hide.when.event.search(/mouse(out|leave)/i) !== -1 && e(n.relatedTarget).parents("div.qtip[qtip]").length > 0) return n.stopPropagation(), n.preventDefault(), clearTimeout(t.timers.hide), !1;
            clearTimeout(t.timers.show), clearTimeout(t.timers.hide), t.elements.tooltip.stop(!0, !0), t.timers.hide = setTimeout(function() {
                t.hide(n)
            }, t.options.hide.delay)
        }
        var t, n, r, i;
        t = this, n = t.options.show.when.target, r = t.options.hide.when.target, t.options.hide.fixed && (r = r.add(t.elements.tooltip));
        if (t.options.hide.when.event == "inactive") {
            i = ["click", "dblclick", "mousedown", "mouseup", "mousemove", "mouseout", "mouseenter", "mouseleave", "mouseover"];

            function s(n) {
                if (t.status.disabled === !0) return;
                clearTimeout(t.timers.inactive), t.timers.inactive = setTimeout(function() {
                    e(i).each(function() {
                        r.unbind(this + ".qtip-inactive"), t.elements.content.unbind(this + ".qtip-inactive")
                    }), t.hide(n)
                }, t.options.hide.delay)
            }
        } else t.options.hide.fixed === !0 && t.elements.tooltip.bind("mouseover.qtip", function() {
            if (t.status.disabled === !0) return;
            clearTimeout(t.timers.hide)
        });
        t.options.show.when.target.add(t.options.hide.when.target).length === 1 && t.options.show.when.event == t.options.hide.when.event && t.options.hide.when.event !== "inactive" || t.options.hide.when.event == "unfocus" ? (t.cache.toggle = 0, n.bind(t.options.show.when.event + ".qtip", function(e) {
            t.cache.toggle == 0 ? o(e) : u(e)
        })) : (n.bind(t.options.show.when.event + ".qtip", o), t.options.hide.when.event !== "inactive" && r.bind(t.options.hide.when.event + ".qtip", u)), t.options.position.type.search(/(fixed|absolute)/) !== -1 && t.elements.tooltip.bind("mouseover.qtip", t.focus), t.options.position.target === "mouse" && t.options.position.type !== "static" && n.bind("mousemove.qtip", function(e) {
            t.cache.mouse = {
                x: e.pageX,
                y: e.pageY
            }, t.status.disabled === !1 && t.options.position.adjust.mouse === !0 && t.options.position.type !== "static" && t.elements.tooltip.css("display") !== "none" && t.updatePosition(e)
        })
    }

    function c(t, n, r) {
        var i, s, u, a, f, l;
        return i = this, r.corner == "center" ? n.position : (s = e.extend({}, t), a = {
            x: !1,
            y: !1
        }, f = {
            left: s.left < e.fn.qtip.cache.screen.scroll.left,
            right: s.left + r.dimensions.width + 2 >= e.fn.qtip.cache.screen.width + e.fn.qtip.cache.screen.scroll.left,
            top: s.top < e.fn.qtip.cache.screen.scroll.top,
            bottom: s.top + r.dimensions.height + 2 >= e.fn.qtip.cache.screen.height + e.fn.qtip.cache.screen.scroll.top
        }, u = {
            left: f.left && (r.corner.search(/right/i) != -1 || r.corner.search(/right/i) == -1 && !f.right),
            right: f.right && (r.corner.search(/left/i) != -1 || r.corner.search(/left/i) == -1 && !f.left),
            top: f.top && r.corner.search(/top/i) == -1,
            bottom: f.bottom && r.corner.search(/bottom/i) == -1
        }, u.left ? (i.options.position.target !== "mouse" ? s.left = n.position.left + n.dimensions.width : s.left = i.cache.mouse.x, a.x = "Left") : u.right && (i.options.position.target !== "mouse" ? s.left = n.position.left - r.dimensions.width : s.left = i.cache.mouse.x - r.dimensions.width, a.x = "Right"), u.top ? (i.options.position.target !== "mouse" ? s.top = n.position.top + n.dimensions.height : s.top = i.cache.mouse.y, a.y = "top") : u.bottom && (i.options.position.target !== "mouse" ? s.top = n.position.top - r.dimensions.height : s.top = i.cache.mouse.y - r.dimensions.height, a.y = "bottom"), s.left < 0 && (s.left = t.left, a.x = !1), s.top < 0 && (s.top = t.top, a.y = !1), i.options.style.tip.corner !== !1 && (s.corner = new String(r.corner), a.x !== !1 && (s.corner = s.corner.replace(/Left|Right|Middle/, a.x)), a.y !== !1 && (s.corner = s.corner.replace(/top|bottom/, a.y)), s.corner !== i.elements.tip.attr("rel") && o.call(i, s.corner)), s)
    }

    function h(t, n) {
        var r, i;
        r = e.extend(!0, {}, t);
        for (i in r) n === !0 && i.search(/(tip|classes)/i) !== -1 ? delete r[i] : !n && i.search(/(width|border|tip|title|classes|user)/i) !== -1 && delete r[i];
        return r
    }

    function p(e) {
        return typeof e.tip != "object" && (e.tip = {
            corner: e.tip
        }), typeof e.tip.size != "object" && (e.tip.size = {
            width: e.tip.size,
            height: e.tip.size
        }), typeof e.border != "object" && (e.border = {
            width: e.border
        }), typeof e.width != "object" && (e.width = {
            value: e.width
        }), typeof e.width.max == "string" && (e.width.max = parseInt(e.width.max.replace(/([0-9]+)/i, "$1"))), typeof e.width.min == "string" && (e.width.min = parseInt(e.width.min.replace(/([0-9]+)/i, "$1"))), typeof e.tip.size.x == "number" && (e.tip.size.width = e.tip.size.x, delete e.tip.size.x), typeof e.tip.size.y == "number" && (e.tip.size.height = e.tip.size.y, delete e.tip.size.y), e
    }

    function d() {
        var t, n, r, i, s, o;
        t = this, r = [!0, {}];
        for (n = 0; n < arguments.length; n++) r.push(arguments[n]);
        i = [e.extend.apply(e, r)];
        while (typeof i[0].name == "string") i.unshift(p(e.fn.qtip.styles[i[0].name]));
        return i.unshift(!0, {
            classes: {
                tooltip: "qtip-" + (arguments[0].name || "defaults")
            }
        }, e.fn.qtip.styles.defaults), s = e.extend.apply(e, i), o = e.browser.msie ? 1 : 0, s.tip.size.width += o, s.tip.size.height += o, s.tip.size.width % 2 > 0 && (s.tip.size.width += 1), s.tip.size.height % 2 > 0 && (s.tip.size.height += 1), s.tip.corner === !0 && (s.tip.corner = t.options.position.corner.tooltip === "center" ? !1 : t.options.position.corner.tooltip), s
    }

    function v(e, t, n) {
        var r = {
            bottomRight: [
                [0, 0],
                [t, n],
                [t, 0]
            ],
            bottomLeft: [
                [0, 0],
                [t, 0],
                [0, n]
            ],
            topRight: [
                [0, n],
                [t, 0],
                [t, n]
            ],
            topLeft: [
                [0, 0],
                [0, n],
                [t, n]
            ],
            topMiddle: [
                [0, n],
                [t / 2, 0],
                [t, n]
            ],
            bottomMiddle: [
                [0, 0],
                [t, 0],
                [t / 2, n]
            ],
            rightMiddle: [
                [0, 0],
                [t, n / 2],
                [0, n]
            ],
            leftMiddle: [
                [t, 0],
                [t, n],
                [0, n / 2]
            ]
        };
        return r.leftTop = r.bottomRight, r.rightTop = r.bottomLeft, r.leftBottom = r.topRight, r.rightBottom = r.topLeft, r[e]
    }

    function m(t) {
        var n;
        return e("<canvas>").get(0).getContext ? n = {
            topLeft: [t, t],
            topRight: [0, t],
            bottomLeft: [t, 0],
            bottomRight: [0, 0]
        } : e.browser.msie && (n = {
            topLeft: [-90, 90, 0],
            topRight: [-90, 90, -t],
            bottomLeft: [90, 270, 0],
            bottomRight: [90, 270, -t]
        }), n
    }

    function g() {
        var e, t, n;
        e = this, n = e.getDimensions(), t = '<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:' + n.height + "px; width:" + n.width + 'px" />', e.elements.bgiframe = e.elements.wrapper.prepend(t).children(".qtip-bgiframe:first")
    }
    e.fn.qtip = function(r, i) {
        var s, o, u, a, f, l, c, h;
        if (typeof r == "string") {
            typeof e(this).data("qtip") != "object" && e.fn.qtip.log.error.call(self, 1, e.fn.qtip.constants.NO_TOOLTIP_PRESENT, !1);
            if (r == "api") return e(this).data("qtip").interfaces[e(this).data("qtip").current];
            if (r == "interfaces") return e(this).data("qtip").interfaces
        } else {
            r || (r = {});
            if (typeof r.content != "object" || r.content.jquery && r.content.length > 0) r.content = {
                text: r.content
            };
            typeof r.content.title != "object" && (r.content.title = {
                text: r.content.title
            }), typeof r.position != "object" && (r.position = {
                corner: r.position
            }), typeof r.position.corner != "object" && (r.position.corner = {
                target: r.position.corner,
                tooltip: r.position.corner
            }), typeof r.show != "object" && (r.show = {
                when: r.show
            }), typeof r.show.when != "object" && (r.show.when = {
                event: r.show.when
            }), typeof r.show.effect != "object" && (r.show.effect = {
                type: r.show.effect
            }), typeof r.hide != "object" && (r.hide = {
                when: r.hide
            }), typeof r.hide.when != "object" && (r.hide.when = {
                event: r.hide.when
            }), typeof r.hide.effect != "object" && (r.hide.effect = {
                type: r.hide.effect
            }), typeof r.style != "object" && (r.style = {
                name: r.style
            }), r.style = p(r.style), a = e.extend(!0, {}, e.fn.qtip.defaults, r), a.style = d.call({
                options: a
            }, a.style), a.user = e.extend(!0, {}, r)
        }
        return e(this).each(function() {
            if (typeof r == "string") {
                l = r.toLowerCase(), u = e(this).qtip("interfaces");
                if (typeof u == "object")
                    if (i === !0 && l == "destroy")
                        while (u.length > 0) u[u.length - 1].destroy();
                    else {
                        i !== !0 && (u = [e(this).qtip("api")]);
                        for (s = 0; s < u.length; s++) l == "destroy" ? u[s].destroy() : u[s].status.rendered === !0 && (l == "show" ? u[s].show() : l == "hide" ? u[s].hide() : l == "focus" ? u[s].focus() : l == "disable" ? u[s].disable(!0) : l == "enable" && u[s].disable(!1))
                    }
            } else {
                c = e.extend(!0, {}, a), c.hide.effect.length = a.hide.effect.length, c.show.effect.length = a.show.effect.length, c.position.container === !1 && (c.position.container = e(document.body)), c.position.target === !1 && (c.position.target = e(this)), c.show.when.target === !1 && (c.show.when.target = e(this)), c.hide.when.target === !1 && (c.hide.when.target = e(this)), o = e.fn.qtip.interfaces.length;
                for (s = 0; s < o; s++)
                    if (typeof e.fn.qtip.interfaces[s] == "undefined") {
                        o = s;
                        break
                    }
                f = new t(e(this), c, o), e.fn.qtip.interfaces[o] = f, typeof e(this).data("qtip") == "object" ? (typeof e(this).attr("qtip") == "undefined" && (e(this).data("qtip").current = e(this).data("qtip").interfaces.length), e(this).data("qtip").interfaces.push(f)) : e(this).data("qtip", {
                    current: 0,
                    interfaces: [f]
                }), c.content.prerender === !1 && c.show.when.event !== !1 && c.show.ready !== !0 ? c.show.when.target.bind(c.show.when.event + ".qtip-" + o + "-create", {
                    qtip: o
                }, function(t) {
                    h = e.fn.qtip.interfaces[t.data.qtip], h.options.show.when.target.unbind(h.options.show.when.event + ".qtip-" + t.data.qtip + "-create"), h.cache.mouse = {
                        x: t.pageX,
                        y: t.pageY
                    }, n.call(h), h.options.show.when.target.trigger(h.options.show.when.event)
                }) : (f.cache.mouse = {
                    x: c.show.when.target.offset().left,
                    y: c.show.when.target.offset().top
                }, n.call(f))
            }
        })
    }, e(document).ready(function() {
        e.fn.qtip.cache = {
            screen: {
                scroll: {
                    left: e(window).scrollLeft(),
                    top: e(window).scrollTop()
                },
                width: e(window).width(),
                height: e(window).height()
            }
        };
        var t;
        e(window).bind("resize scroll", function(n) {
            clearTimeout(t), t = setTimeout(function() {
                n.type === "scroll" ? e.fn.qtip.cache.screen.scroll = {
                    left: e(window).scrollLeft(),
                    top: e(window).scrollTop()
                } : (e.fn.qtip.cache.screen.width = e(window).width(), e.fn.qtip.cache.screen.height = e(window).height());
                for (i = 0; i < e.fn.qtip.interfaces.length; i++) {
                    var t = e.fn.qtip.interfaces[i];
                    t.status.rendered === !0 && (t.options.position.type !== "static" || t.options.position.adjust.scroll && n.type === "scroll" || t.options.position.adjust.resize && n.type === "resize") && t.updatePosition(n, !0)
                }
            }, 100)
        }), e(document).bind("mousedown.qtip", function(t) {
            e(t.target).parents("div.qtip").length === 0 && e(".qtip[unfocus]").each(function() {
                var n = e(this).qtip("api");
                e(this).is(":visible") && !n.status.disabled && e(t.target).add(n.elements.target).length > 1 && n.hide(t)
            })
        })
    }), e.fn.qtip.interfaces = [], e.fn.qtip.log = {
        error: function() {
            return this
        }
    }, e.fn.qtip.constants = {}, e.fn.qtip.defaults = {
        content: {
            prerender: !1,
            text: !1,
            url: !1,
            data: null,
            title: {
                text: !1,
                button: !1
            }
        },
        position: {
            target: !1,
            corner: {
                target: "bottomRight",
                tooltip: "topLeft"
            },
            adjust: {
                x: 0,
                y: 0,
                mouse: !0,
                screen: !1,
                scroll: !0,
                resize: !0
            },
            type: "absolute",
            container: !1
        },
        show: {
            when: {
                target: !1,
                event: "mouseover"
            },
            effect: {
                type: "fade",
                length: 100
            },
            delay: 140,
            solo: !1,
            ready: !1
        },
        hide: {
            when: {
                target: !1,
                event: "mouseout"
            },
            effect: {
                type: "fade",
                length: 100
            },
            delay: 0,
            fixed: !1
        },
        api: {
            beforeRender: function() {},
            onRender: function() {},
            beforePositionUpdate: function() {},
            onPositionUpdate: function() {},
            beforeShow: function() {},
            onShow: function() {},
            beforeHide: function() {},
            onHide: function() {},
            beforeContentUpdate: function() {},
            onContentUpdate: function() {},
            beforeContentLoad: function() {},
            onContentLoad: function() {},
            beforeTitleUpdate: function() {},
            onTitleUpdate: function() {},
            beforeDestroy: function() {},
            onDestroy: function() {},
            beforeFocus: function() {},
            onFocus: function() {}
        }
    }, e.fn.qtip.styles = {
        defaults: {
            background: "white",
            color: "#111",
            overflow: "hidden",
            textAlign: "left",
            width: {
                min: 0,
                max: 250
            },
            padding: "5px 9px",
            border: {
                width: 1,
                radius: 0,
                color: "#d3d3d3"
            },
            tip: {
                corner: !1,
                color: !1,
                size: {
                    width: 13,
                    height: 13
                },
                opacity: 1
            },
            title: {
                background: "#e1e1e1",
                fontWeight: "bold",
                padding: "7px 12px"
            },
            button: {
                cursor: "pointer"
            },
            classes: {
                target: "",
                tip: "qtip-tip",
                title: "qtip-title",
                button: "qtip-button",
                content: "qtip-content",
                active: "qtip-active"
            }
        },
        cream: {
            border: {
                width: 3,
                radius: 0,
                color: "#F9E98E"
            },
            title: {
                background: "#F0DE7D",
                color: "#A27D35"
            },
            background: "#FBF7AA",
            color: "#A27D35",
            classes: {
                tooltip: "qtip-cream"
            }
        },
        light: {
            border: {
                width: 3,
                radius: 0,
                color: "#E2E2E2"
            },
            title: {
                background: "#f1f1f1",
                color: "#454545"
            },
            background: "white",
            color: "#454545",
            classes: {
                tooltip: "qtip-light"
            }
        },
        dark: {
            border: {
                width: 3,
                radius: 0,
                color: "#303030"
            },
            title: {
                background: "#404040",
                color: "#f3f3f3"
            },
            background: "#505050",
            color: "#f3f3f3",
            classes: {
                tooltip: "qtip-dark"
            }
        },
        red: {
            border: {
                width: 3,
                radius: 0,
                color: "#CE6F6F"
            },
            title: {
                background: "#f28279",
                color: "#9C2F2F"
            },
            background: "#F79992",
            color: "#9C2F2F",
            classes: {
                tooltip: "qtip-red"
            }
        },
        green: {
            border: {
                width: 3,
                radius: 0,
                color: "#A9DB66"
            },
            title: {
                background: "#b9db8c",
                color: "#58792E"
            },
            background: "#CDE6AC",
            color: "#58792E",
            classes: {
                tooltip: "qtip-green"
            }
        },
        blue: {
            border: {
                width: 3,
                radius: 0,
                color: "#ADD9ED"
            },
            title: {
                background: "#D0E9F5",
                color: "#5E99BD"
            },
            background: "#E5F6FE",
            color: "#4D9FBF",
            classes: {
                tooltip: "qtip-blue"
            }
        }
    }
}(jQuery),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : e(jQuery)
}(function(e) {
    function t(t, r) {
        var i, s, o, u = t.nodeName.toLowerCase();
        return "area" === u ? (i = t.parentNode, s = i.name, !t.href || !s || i.nodeName.toLowerCase() !== "map" ? !1 : (o = e("img[usemap='#" + s + "']")[0], !!o && n(o))) : (/^(input|select|textarea|button|object)$/.test(u) ? !t.disabled : "a" === u ? t.href || r : r) && n(t)
    }

    function n(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
            return e.css(this, "visibility") === "hidden"
        }).length
    }
    e.ui = e.ui || {}, e.extend(e.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), e.fn.extend({
        scrollParent: function(t) {
            var n = this.css("position"),
                r = n === "absolute",
                i = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                s = this.parents().filter(function() {
                    var t = e(this);
                    return r && t.css("position") === "static" ? !1 : i.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
                }).eq(0);
            return n === "fixed" || !s.length ? e(this[0].ownerDocument || document) : s
        },
        uniqueId: function() {
            var e = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++e)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id")
            })
        }
    }), e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(n) {
                return !!e.data(n, t)
            }
        }) : function(t, n, r) {
            return !!e.data(t, r[3])
        },
        focusable: function(n) {
            return t(n, !isNaN(e.attr(n, "tabindex")))
        },
        tabbable: function(n) {
            var r = e.attr(n, "tabindex"),
                i = isNaN(r);
            return (i || r >= 0) && t(n, !i)
        }
    }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(t, n) {
        function o(t, n, i, s) {
            return e.each(r, function() {
                n -= parseFloat(e.css(t, "padding" + this)) || 0, i && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0), s && (n -= parseFloat(e.css(t, "margin" + this)) || 0)
            }), n
        }
        var r = n === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
            i = n.toLowerCase(),
            s = {
                innerWidth: e.fn.innerWidth,
                innerHeight: e.fn.innerHeight,
                outerWidth: e.fn.outerWidth,
                outerHeight: e.fn.outerHeight
            };
        e.fn["inner" + n] = function(t) {
            return t === undefined ? s["inner" + n].call(this) : this.each(function() {
                e(this).css(i, o(this, t) + "px")
            })
        }, e.fn["outer" + n] = function(t, r) {
            return typeof t != "number" ? s["outer" + n].call(this, t) : this.each(function() {
                e(this).css(i, o(this, t, !0, r) + "px")
            })
        }
    }), e.fn.addBack || (e.fn.addBack = function(e) {
        return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
    }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(n) {
            return arguments.length ? t.call(this, e.camelCase(n)) : t.call(this)
        }
    }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.fn.extend({
        focus: function(t) {
            return function(n, r) {
                return typeof n == "number" ? this.each(function() {
                    var t = this;
                    setTimeout(function() {
                        e(t).focus(), r && r.call(t)
                    }, n)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),
        disableSelection: function() {
            var e = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(e + ".ui-disableSelection", function(e) {
                    e.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(t) {
            if (t !== undefined) return this.css("zIndex", t);
            if (this.length) {
                var n = e(this[0]),
                    r, i;
                while (n.length && n[0] !== document) {
                    r = n.css("position");
                    if (r === "absolute" || r === "relative" || r === "fixed") {
                        i = parseInt(n.css("zIndex"), 10);
                        if (!isNaN(i) && i !== 0) return i
                    }
                    n = n.parent()
                }
            }
            return 0
        }
    }), e.ui.plugin = {
        add: function(t, n, r) {
            var i, s = e.ui[t].prototype;
            for (i in r) s.plugins[i] = s.plugins[i] || [], s.plugins[i].push([n, r[i]])
        },
        call: function(e, t, n, r) {
            var i, s = e.plugins[t];
            if (!s) return;
            if (!r && (!e.element[0].parentNode || e.element[0].parentNode.nodeType === 11)) return;
            for (i = 0; i < s.length; i++) e.options[s[i][0]] && s[i][1].apply(e.element, n)
        }
    }
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery", "./core"], e) : e(jQuery)
}(function(e) {
    function n(e) {
        var t, n;
        while (e.length && e[0] !== document) {
            t = e.css("position");
            if (t === "absolute" || t === "relative" || t === "fixed") {
                n = parseInt(e.css("zIndex"), 10);
                if (!isNaN(n) && n !== 0) return n
            }
            e = e.parent()
        }
        return 0
    }

    function r() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, e.extend(this._defaults, this.regional[""]), this.regional.en = e.extend(!0, {}, this.regional[""]), this.regional["en-US"] = e.extend(!0, {}, this.regional.en), this.dpDiv = i(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function i(t) {
        var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return t.delegate(n, "mouseout", function() {
            e(this).removeClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && e(this).removeClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && e(this).removeClass("ui-datepicker-next-hover")
        }).delegate(n, "mouseover", s)
    }

    function s() {
        e.datepicker._isDisabledDatepicker(t.inline ? t.dpDiv.parent()[0] : t.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && e(this).addClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && e(this).addClass("ui-datepicker-next-hover"))
    }

    function o(t, n) {
        e.extend(t, n);
        for (var r in n) n[r] == null && (t[r] = n[r]);
        return t
    }
    e.extend(e.ui, {
        datepicker: {
            version: "1.11.4"
        }
    });
    var t;
    return e.extend(r.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(e) {
            return o(this._defaults, e || {}), this
        },
        _attachDatepicker: function(t, n) {
            var r, i, s;
            r = t.nodeName.toLowerCase(), i = r === "div" || r === "span", t.id || (this.uuid += 1, t.id = "dp" + this.uuid), s = this._newInst(e(t), i), s.settings = e.extend({}, n || {}), r === "input" ? this._connectDatepicker(t, s) : i && this._inlineDatepicker(t, s)
        },
        _newInst: function(t, n) {
            var r = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: r,
                input: t,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: n,
                dpDiv: n ? i(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(t, n) {
            var r = e(t);
            n.append = e([]), n.trigger = e([]);
            if (r.hasClass(this.markerClassName)) return;
            this._attachments(r, n), r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(n), e.data(t, "datepicker", n), n.settings.disabled && this._disableDatepicker(t)
        },
        _attachments: function(t, n) {
            var r, i, s, o = this._get(n, "appendText"),
                u = this._get(n, "isRTL");
            n.append && n.append.remove(), o && (n.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"), t[u ? "before" : "after"](n.append)), t.unbind("focus", this._showDatepicker), n.trigger && n.trigger.remove(), r = this._get(n, "showOn"), (r === "focus" || r === "both") && t.focus(this._showDatepicker);
            if (r === "button" || r === "both") i = this._get(n, "buttonText"), s = this._get(n, "buttonImage"), n.trigger = e(this._get(n, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                src: s,
                alt: i,
                title: i
            }) : e("<button type='button'></button>").addClass(this._triggerClass).html(s ? e("<img/>").attr({
                src: s,
                alt: i,
                title: i
            }) : i)), t[u ? "before" : "after"](n.trigger), n.trigger.click(function() {
                return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1
            })
        },
        _autoSize: function(e) {
            if (this._get(e, "autoSize") && !e.inline) {
                var t, n, r, i, s = new Date(2009, 11, 20),
                    o = this._get(e, "dateFormat");
                o.match(/[DM]/) && (t = function(e) {
                    n = 0, r = 0;
                    for (i = 0; i < e.length; i++) e[i].length > n && (n = e[i].length, r = i);
                    return r
                }, s.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))), s.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - s.getDay())), e.input.attr("size", this._formatDate(e, s).length)
            }
        },
        _inlineDatepicker: function(t, n) {
            var r = e(t);
            if (r.hasClass(this.markerClassName)) return;
            r.addClass(this.markerClassName).append(n.dpDiv), e.data(t, "datepicker", n), this._setDate(n, this._getDefaultDate(n), !0), this._updateDatepicker(n), this._updateAlternate(n), n.settings.disabled && this._disableDatepicker(t), n.dpDiv.css("display", "block")
        },
        _dialogDatepicker: function(t, n, r, i, s) {
            var u, a, f, l, c, h = this._dialogInst;
            return h || (this.uuid += 1, u = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + u + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), h = this._dialogInst = this._newInst(this._dialogInput, !1), h.settings = {}, e.data(this._dialogInput[0], "datepicker", h)), o(h.settings, i || {}), n = n && n.constructor === Date ? this._formatDate(h, n) : n, this._dialogInput.val(n), this._pos = s ? s.length ? s : [s.pageX, s.pageY] : null, this._pos || (a = document.documentElement.clientWidth, f = document.documentElement.clientHeight, l = document.documentElement.scrollLeft || document.body.scrollLeft, c = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [a / 2 - 100 + l, f / 2 - 150 + c]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), h.settings.onSelect = r, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], "datepicker", h), this
        },
        _destroyDatepicker: function(n) {
            var r, i = e(n),
                s = e.data(n, "datepicker");
            if (!i.hasClass(this.markerClassName)) return;
            r = n.nodeName.toLowerCase(), e.removeData(n, "datepicker"), r === "input" ? (s.append.remove(), s.trigger.remove(), i.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : (r === "div" || r === "span") && i.removeClass(this.markerClassName).empty(), t === s && (t = null)
        },
        _enableDatepicker: function(t) {
            var n, r, i = e(t),
                s = e.data(t, "datepicker");
            if (!i.hasClass(this.markerClassName)) return;
            n = t.nodeName.toLowerCase();
            if (n === "input") t.disabled = !1, s.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            });
            else if (n === "div" || n === "span") r = i.children("." + this._inlineClass), r.children().removeClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1);
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            })
        },
        _disableDatepicker: function(t) {
            var n, r, i = e(t),
                s = e.data(t, "datepicker");
            if (!i.hasClass(this.markerClassName)) return;
            n = t.nodeName.toLowerCase();
            if (n === "input") t.disabled = !0, s.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            });
            else if (n === "div" || n === "span") r = i.children("." + this._inlineClass), r.children().addClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0);
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            }), this._disabledInputs[this._disabledInputs.length] = t
        },
        _isDisabledDatepicker: function(e) {
            if (!e) return !1;
            for (var t = 0; t < this._disabledInputs.length; t++)
                if (this._disabledInputs[t] === e) return !0;
            return !1
        },
        _getInst: function(t) {
            try {
                return e.data(t, "datepicker")
            } catch (n) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(t, n, r) {
            var i, s, u, a, f = this._getInst(t);
            if (arguments.length === 2 && typeof n == "string") return n === "defaults" ? e.extend({}, e.datepicker._defaults) : f ? n === "all" ? e.extend({}, f.settings) : this._get(f, n) : null;
            i = n || {}, typeof n == "string" && (i = {}, i[n] = r), f && (this._curInst === f && this._hideDatepicker(), s = this._getDateDatepicker(t, !0), u = this._getMinMaxDate(f, "min"), a = this._getMinMaxDate(f, "max"), o(f.settings, i), u !== null && i.dateFormat !== undefined && i.minDate === undefined && (f.settings.minDate = this._formatDate(f, u)), a !== null && i.dateFormat !== undefined && i.maxDate === undefined && (f.settings.maxDate = this._formatDate(f, a)), "disabled" in i && (i.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(e(t), f), this._autoSize(f), this._setDate(f, s), this._updateAlternate(f), this._updateDatepicker(f))
        },
        _changeDatepicker: function(e, t, n) {
            this._optionDatepicker(e, t, n)
        },
        _refreshDatepicker: function(e) {
            var t = this._getInst(e);
            t && this._updateDatepicker(t)
        },
        _setDateDatepicker: function(e, t) {
            var n = this._getInst(e);
            n && (this._setDate(n, t), this._updateDatepicker(n), this._updateAlternate(n))
        },
        _getDateDatepicker: function(e, t) {
            var n = this._getInst(e);
            return n && !n.inline && this._setDateFromField(n, t), n ? this._getDate(n) : null
        },
        _doKeyDown: function(t) {
            var n, r, i, s = e.datepicker._getInst(t.target),
                o = !0,
                u = s.dpDiv.is(".ui-datepicker-rtl");
            s._keyEvent = !0;
            if (e.datepicker._datepickerShowing) switch (t.keyCode) {
                case 9:
                    e.datepicker._hideDatepicker(), o = !1;
                    break;
                case 13:
                    return i = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", s.dpDiv), i[0] && e.datepicker._selectDay(t.target, s.selectedMonth, s.selectedYear, i[0]), n = e.datepicker._get(s, "onSelect"), n ? (r = e.datepicker._formatDate(s), n.apply(s.input ? s.input[0] : null, [r, s])) : e.datepicker._hideDatepicker(), !1;
                case 27:
                    e.datepicker._hideDatepicker();
                    break;
                case 33:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 34:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 35:
                    (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), o = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), o = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? 1 : -1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 38:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), o = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? -1 : 1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 40:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), o = t.ctrlKey || t.metaKey;
                    break;
                default:
                    o = !1
            } else t.keyCode === 36 && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1;
            o && (t.preventDefault(), t.stopPropagation())
        },
        _doKeyPress: function(t) {
            var n, r, i = e.datepicker._getInst(t.target);
            if (e.datepicker._get(i, "constrainInput")) return n = e.datepicker._possibleChars(e.datepicker._get(i, "dateFormat")), r = String.fromCharCode(t.charCode == null ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || r < " " || !n || n.indexOf(r) > -1
        },
        _doKeyUp: function(t) {
            var n, r = e.datepicker._getInst(t.target);
            if (r.input.val() !== r.lastVal) try {
                n = e.datepicker.parseDate(e.datepicker._get(r, "dateFormat"), r.input ? r.input.val() : null, e.datepicker._getFormatConfig(r)), n && (e.datepicker._setDateFromField(r), e.datepicker._updateAlternate(r), e.datepicker._updateDatepicker(r))
            } catch (i) {}
            return !0
        },
        _showDatepicker: function(t) {
            t = t.target || t, t.nodeName.toLowerCase() !== "input" && (t = e("input", t.parentNode)[0]);
            if (e.datepicker._isDisabledDatepicker(t) || e.datepicker._lastInput === t) return;
            var r, i, s, u, a, f, l;
            r = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== r && (e.datepicker._curInst.dpDiv.stop(!0, !0), r && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), i = e.datepicker._get(r, "beforeShow"), s = i ? i.apply(t, [t, r]) : {};
            if (s === !1) return;
            o(r.settings, s), r.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(r), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), u = !1, e(t).parents().each(function() {
                return u |= e(this).css("position") === "fixed", !u
            }), a = {
                left: e.datepicker._pos[0],
                top: e.datepicker._pos[1]
            }, e.datepicker._pos = null, r.dpDiv.empty(), r.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px"
            }), e.datepicker._updateDatepicker(r), a = e.datepicker._checkOffset(r, a, u), r.dpDiv.css({
                position: e.datepicker._inDialog && e.blockUI ? "static" : u ? "fixed" : "absolute",
                display: "none",
                left: a.left + "px",
                top: a.top + "px"
            }), r.inline || (f = e.datepicker._get(r, "showAnim"), l = e.datepicker._get(r, "duration"), r.dpDiv.css("z-index", n(e(t)) + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[f] ? r.dpDiv.show(f, e.datepicker._get(r, "showOptions"), l) : r.dpDiv[f || "show"](f ? l : null), e.datepicker._shouldFocusInput(r) && r.input.focus(), e.datepicker._curInst = r)
        },
        _updateDatepicker: function(n) {
            this.maxRows = 4, t = n, n.dpDiv.empty().append(this._generateHTML(n)), this._attachHandlers(n);
            var r, i = this._getNumberOfMonths(n),
                o = i[1],
                u = 17,
                a = n.dpDiv.find("." + this._dayOverClass + " a");
            a.length > 0 && s.apply(a.get(0)), n.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), o > 1 && n.dpDiv.addClass("ui-datepicker-multi-" + o).css("width", u * o + "em"), n.dpDiv[(i[0] !== 1 || i[1] !== 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi"), n.dpDiv[(this._get(n, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), n === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(n) && n.input.focus(), n.yearshtml && (r = n.yearshtml, setTimeout(function() {
                r === n.yearshtml && n.yearshtml && n.dpDiv.find("select.ui-datepicker-year:first").replaceWith(n.yearshtml), r = n.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(e) {
            return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
        },
        _checkOffset: function(t, n, r) {
            var i = t.dpDiv.outerWidth(),
                s = t.dpDiv.outerHeight(),
                o = t.input ? t.input.outerWidth() : 0,
                u = t.input ? t.input.outerHeight() : 0,
                a = document.documentElement.clientWidth + (r ? 0 : e(document).scrollLeft()),
                f = document.documentElement.clientHeight + (r ? 0 : e(document).scrollTop());
            return n.left -= this._get(t, "isRTL") ? i - o : 0, n.left -= r && n.left === t.input.offset().left ? e(document).scrollLeft() : 0, n.top -= r && n.top === t.input.offset().top + u ? e(document).scrollTop() : 0, n.left -= Math.min(n.left, n.left + i > a && a > i ? Math.abs(n.left + i - a) : 0), n.top -= Math.min(n.top, n.top + s > f && f > s ? Math.abs(s + u) : 0), n
        },
        _findPos: function(t) {
            var n, r = this._getInst(t),
                i = this._get(r, "isRTL");
            while (t && (t.type === "hidden" || t.nodeType !== 1 || e.expr.filters.hidden(t))) t = t[i ? "previousSibling" : "nextSibling"];
            return n = e(t).offset(), [n.left, n.top]
        },
        _hideDatepicker: function(t) {
            var n, r, i, s, o = this._curInst;
            if (!o || t && o !== e.data(t, "datepicker")) return;
            this._datepickerShowing && (n = this._get(o, "showAnim"), r = this._get(o, "duration"), i = function() {
                e.datepicker._tidyDialog(o)
            }, e.effects && (e.effects.effect[n] || e.effects[n]) ? o.dpDiv.hide(n, e.datepicker._get(o, "showOptions"), r, i) : o.dpDiv[n === "slideDown" ? "slideUp" : n === "fadeIn" ? "fadeOut" : "hide"](n ? r : null, i), n || i(), this._datepickerShowing = !1, s = this._get(o, "onClose"), s && s.apply(o.input ? o.input[0] : null, [o.input ? o.input.val() : "", o]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function(e) {
            e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(t) {
            if (!e.datepicker._curInst) return;
            var n = e(t.target),
                r = e.datepicker._getInst(n[0]);
            (n[0].id !== e.datepicker._mainDivId && n.parents("#" + e.datepicker._mainDivId).length === 0 && !n.hasClass(e.datepicker.markerClassName) && !n.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || n.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== r) && e.datepicker._hideDatepicker()
        },
        _adjustDate: function(t, n, r) {
            var i = e(t),
                s = this._getInst(i[0]);
            if (this._isDisabledDatepicker(i[0])) return;
            this._adjustInstDate(s, n + (r === "M" ? this._get(s, "showCurrentAtPos") : 0), r), this._updateDatepicker(s)
        },
        _gotoToday: function(t) {
            var n, r = e(t),
                i = this._getInst(r[0]);
            this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay, i.drawMonth = i.selectedMonth = i.currentMonth, i.drawYear = i.selectedYear = i.currentYear) : (n = new Date, i.selectedDay = n.getDate(), i.drawMonth = i.selectedMonth = n.getMonth(), i.drawYear = i.selectedYear = n.getFullYear()), this._notifyChange(i), this._adjustDate(r)
        },
        _selectMonthYear: function(t, n, r) {
            var i = e(t),
                s = this._getInst(i[0]);
            s["selected" + (r === "M" ? "Month" : "Year")] = s["draw" + (r === "M" ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10), this._notifyChange(s), this._adjustDate(i)
        },
        _selectDay: function(t, n, r, i) {
            var s, o = e(t);
            if (e(i).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0])) return;
            s = this._getInst(o[0]), s.selectedDay = s.currentDay = e("a", i).html(), s.selectedMonth = s.currentMonth = n, s.selectedYear = s.currentYear = r, this._selectDate(t, this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear))
        },
        _clearDate: function(t) {
            var n = e(t);
            this._selectDate(n, "")
        },
        _selectDate: function(t, n) {
            var r, i = e(t),
                s = this._getInst(i[0]);
            n = n != null ? n : this._formatDate(s), s.input && s.input.val(n), this._updateAlternate(s), r = this._get(s, "onSelect"), r ? r.apply(s.input ? s.input[0] : null, [n, s]) : s.input && s.input.trigger("change"), s.inline ? this._updateDatepicker(s) : (this._hideDatepicker(), this._lastInput = s.input[0], typeof s.input[0] != "object" && s.input.focus(), this._lastInput = null)
        },
        _updateAlternate: function(t) {
            var n, r, i, s = this._get(t, "altField");
            s && (n = this._get(t, "altFormat") || this._get(t, "dateFormat"), r = this._getDate(t), i = this.formatDate(n, r, this._getFormatConfig(t)), e(s).each(function() {
                e(this).val(i)
            }))
        },
        noWeekends: function(e) {
            var t = e.getDay();
            return [t > 0 && t < 6, ""]
        },
        iso8601Week: function(e) {
            var t, n = new Date(e.getTime());
            return n.setDate(n.getDate() + 4 - (n.getDay() || 7)), t = n.getTime(), n.setMonth(0), n.setDate(1), Math.floor(Math.round((t - n) / 864e5) / 7) + 1
        },
        parseDate: function(t, n, r) {
            if (t == null || n == null) throw "Invalid arguments";
            n = typeof n == "object" ? n.toString() : n + "";
            if (n === "") return null;
            var i, s, o, u = 0,
                a = (r ? r.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                f = typeof a != "string" ? a : (new Date).getFullYear() % 100 + parseInt(a, 10),
                l = (r ? r.dayNamesShort : null) || this._defaults.dayNamesShort,
                c = (r ? r.dayNames : null) || this._defaults.dayNames,
                h = (r ? r.monthNamesShort : null) || this._defaults.monthNamesShort,
                p = (r ? r.monthNames : null) || this._defaults.monthNames,
                d = -1,
                v = -1,
                m = -1,
                g = -1,
                y = !1,
                b, w = function(
                    e) {
                    var n = i + 1 < t.length && t.charAt(i + 1) === e;
                    return n && i++, n
                },
                E = function(e) {
                    var t = w(e),
                        r = e === "@" ? 14 : e === "!" ? 20 : e === "y" && t ? 4 : e === "o" ? 3 : 2,
                        i = e === "y" ? r : 1,
                        s = new RegExp("^\\d{" + i + "," + r + "}"),
                        o = n.substring(u).match(s);
                    if (!o) throw "Missing number at position " + u;
                    return u += o[0].length, parseInt(o[0], 10)
                },
                S = function(t, r, i) {
                    var s = -1,
                        o = e.map(w(t) ? i : r, function(e, t) {
                            return [
                                [t, e]
                            ]
                        }).sort(function(e, t) {
                            return -(e[1].length - t[1].length)
                        });
                    e.each(o, function(e, t) {
                        var r = t[1];
                        if (n.substr(u, r.length).toLowerCase() === r.toLowerCase()) return s = t[0], u += r.length, !1
                    });
                    if (s !== -1) return s + 1;
                    throw "Unknown name at position " + u
                },
                x = function() {
                    if (n.charAt(u) !== t.charAt(i)) throw "Unexpected literal at position " + u;
                    u++
                };
            for (i = 0; i < t.length; i++)
                if (y) t.charAt(i) === "'" && !w("'") ? y = !1 : x();
                else switch (t.charAt(i)) {
                    case "d":
                        m = E("d");
                        break;
                    case "D":
                        S("D", l, c);
                        break;
                    case "o":
                        g = E("o");
                        break;
                    case "m":
                        v = E("m");
                        break;
                    case "M":
                        v = S("M", h, p);
                        break;
                    case "y":
                        d = E("y");
                        break;
                    case "@":
                        b = new Date(E("@")), d = b.getFullYear(), v = b.getMonth() + 1, m = b.getDate();
                        break;
                    case "!":
                        b = new Date((E("!") - this._ticksTo1970) / 1e4), d = b.getFullYear(), v = b.getMonth() + 1, m = b.getDate();
                        break;
                    case "'":
                        w("'") ? x() : y = !0;
                        break;
                    default:
                        x()
                }
                if (u < n.length) {
                    o = n.substr(u);
                    if (!/^\s+/.test(o)) throw "Extra/unparsed characters found in date: " + o
                }
            d === -1 ? d = (new Date).getFullYear() : d < 100 && (d += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (d <= f ? 0 : -100));
            if (g > -1) {
                v = 1, m = g;
                do {
                    s = this._getDaysInMonth(d, v - 1);
                    if (m <= s) break;
                    v++, m -= s
                } while (!0)
            }
            b = this._daylightSavingAdjust(new Date(d, v - 1, m));
            if (b.getFullYear() !== d || b.getMonth() + 1 !== v || b.getDate() !== m) throw "Invalid date";
            return b
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 24 * 60 * 60 * 1e7,
        formatDate: function(e, t, n) {
            if (!t) return "";
            var r, i = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
                s = (n ? n.dayNames : null) || this._defaults.dayNames,
                o = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
                u = (n ? n.monthNames : null) || this._defaults.monthNames,
                a = function(t) {
                    var n = r + 1 < e.length && e.charAt(r + 1) === t;
                    return n && r++, n
                },
                f = function(e, t, n) {
                    var r = "" + t;
                    if (a(e))
                        while (r.length < n) r = "0" + r;
                    return r
                },
                l = function(e, t, n, r) {
                    return a(e) ? r[t] : n[t]
                },
                c = "",
                h = !1;
            if (t)
                for (r = 0; r < e.length; r++)
                    if (h) e.charAt(r) === "'" && !a("'") ? h = !1 : c += e.charAt(r);
                    else switch (e.charAt(r)) {
                        case "d":
                            c += f("d", t.getDate(), 2);
                            break;
                        case "D":
                            c += l("D", t.getDay(), i, s);
                            break;
                        case "o":
                            c += f("o", Math.round(((new Date(t.getFullYear(), t.getMonth(), t.getDate())).getTime() - (new Date(t.getFullYear(), 0, 0)).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            c += f("m", t.getMonth() + 1, 2);
                            break;
                        case "M":
                            c += l("M", t.getMonth(), o, u);
                            break;
                        case "y":
                            c += a("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;
                            break;
                        case "@":
                            c += t.getTime();
                            break;
                        case "!":
                            c += t.getTime() * 1e4 + this._ticksTo1970;
                            break;
                        case "'":
                            a("'") ? c += "'" : h = !0;
                            break;
                        default:
                            c += e.charAt(r)
                    }
                    return c
        },
        _possibleChars: function(e) {
            var t, n = "",
                r = !1,
                i = function(n) {
                    var r = t + 1 < e.length && e.charAt(t + 1) === n;
                    return r && t++, r
                };
            for (t = 0; t < e.length; t++)
                if (r) e.charAt(t) === "'" && !i("'") ? r = !1 : n += e.charAt(t);
                else switch (e.charAt(t)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        n += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        i("'") ? n += "'" : r = !0;
                        break;
                    default:
                        n += e.charAt(t)
                }
                return n
        },
        _get: function(e, t) {
            return e.settings[t] !== undefined ? e.settings[t] : this._defaults[t]
        },
        _setDateFromField: function(e, t) {
            if (e.input.val() === e.lastVal) return;
            var n = this._get(e, "dateFormat"),
                r = e.lastVal = e.input ? e.input.val() : null,
                i = this._getDefaultDate(e),
                s = i,
                o = this._getFormatConfig(e);
            try {
                s = this.parseDate(n, r, o) || i
            } catch (u) {
                r = t ? "" : r
            }
            e.selectedDay = s.getDate(), e.drawMonth = e.selectedMonth = s.getMonth(), e.drawYear = e.selectedYear = s.getFullYear(), e.currentDay = r ? s.getDate() : 0, e.currentMonth = r ? s.getMonth() : 0, e.currentYear = r ? s.getFullYear() : 0, this._adjustInstDate(e)
        },
        _getDefaultDate: function(e) {
            return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
        },
        _determineDate: function(t, n, r) {
            var i = function(e) {
                    var t = new Date;
                    return t.setDate(t.getDate() + e), t
                },
                s = function(n) {
                    try {
                        return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), n, e.datepicker._getFormatConfig(t))
                    } catch (r) {}
                    var i = (n.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date,
                        s = i.getFullYear(),
                        o = i.getMonth(),
                        u = i.getDate(),
                        a = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                        f = a.exec(n);
                    while (f) {
                        switch (f[2] || "d") {
                            case "d":
                            case "D":
                                u += parseInt(f[1], 10);
                                break;
                            case "w":
                            case "W":
                                u += parseInt(f[1], 10) * 7;
                                break;
                            case "m":
                            case "M":
                                o += parseInt(f[1], 10), u = Math.min(u, e.datepicker._getDaysInMonth(s, o));
                                break;
                            case "y":
                            case "Y":
                                s += parseInt(f[1], 10), u = Math.min(u, e.datepicker._getDaysInMonth(s, o))
                        }
                        f = a.exec(n)
                    }
                    return new Date(s, o, u)
                },
                o = n == null || n === "" ? r : typeof n == "string" ? s(n) : typeof n == "number" ? isNaN(n) ? r : i(n) : new Date(n.getTime());
            return o = o && o.toString() === "Invalid Date" ? r : o, o && (o.setHours(0), o.setMinutes(0), o.setSeconds(0), o.setMilliseconds(0)), this._daylightSavingAdjust(o)
        },
        _daylightSavingAdjust: function(e) {
            return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null
        },
        _setDate: function(e, t, n) {
            var r = !t,
                i = e.selectedMonth,
                s = e.selectedYear,
                o = this._restrictMinMax(e, this._determineDate(e, t, new Date));
            e.selectedDay = e.currentDay = o.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(), e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(), (i !== e.selectedMonth || s !== e.selectedYear) && !n && this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(r ? "" : this._formatDate(e))
        },
        _getDate: function(e) {
            var t = !e.currentYear || e.input && e.input.val() === "" ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
            return t
        },
        _attachHandlers: function(t) {
            var n = this._get(t, "stepMonths"),
                r = "#" + t.id.replace(/\\\\/g, "\\");
            t.dpDiv.find("[data-handler]").map(function() {
                var t = {
                    prev: function() {
                        e.datepicker._adjustDate(r, -n, "M")
                    },
                    next: function() {
                        e.datepicker._adjustDate(r, +n, "M")
                    },
                    hide: function() {
                        e.datepicker._hideDatepicker()
                    },
                    today: function() {
                        e.datepicker._gotoToday(r)
                    },
                    selectDay: function() {
                        return e.datepicker._selectDay(r, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    },
                    selectMonth: function() {
                        return e.datepicker._selectMonthYear(r, this, "M"), !1
                    },
                    selectYear: function() {
                        return e.datepicker._selectMonthYear(r, this, "Y"), !1
                    }
                };
                e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(e) {
            var t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, C, k, L, A, O, M, _, D, P, H, B, j, F, I, q = new Date,
                R = this._daylightSavingAdjust(new Date(q.getFullYear(), q.getMonth(), q.getDate())),
                U = this._get(e, "isRTL"),
                z = this._get(e, "showButtonPanel"),
                W = this._get(e, "hideIfNoPrevNext"),
                X = this._get(e, "navigationAsDateFormat"),
                V = this._getNumberOfMonths(e),
                $ = this._get(e, "showCurrentAtPos"),
                J = this._get(e, "stepMonths"),
                K = V[0] !== 1 || V[1] !== 1,
                Q = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
                G = this._getMinMaxDate(e, "min"),
                Y = this._getMinMaxDate(e, "max"),
                Z = e.drawMonth - $,
                et = e.drawYear;
            Z < 0 && (Z += 12, et--);
            if (Y) {
                t = this._daylightSavingAdjust(new Date(Y.getFullYear(), Y.getMonth() - V[0] * V[1] + 1, Y.getDate())), t = G && t < G ? G : t;
                while (this._daylightSavingAdjust(new Date(et, Z, 1)) > t) Z--, Z < 0 && (Z = 11, et--)
            }
            e.drawMonth = Z, e.drawYear = et, n = this._get(e, "prevText"), n = X ? this.formatDate(n, this._daylightSavingAdjust(new Date(et, Z - J, 1)), this._getFormatConfig(e)) : n, r = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>" : W ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>", i = this._get(e, "nextText"), i = X ? this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z + J, 1)), this._getFormatConfig(e)) : i, s = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>" : W ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>", o = this._get(e, "currentText"), u = this._get(e, "gotoCurrent") && e.currentDay ? Q : R, o = X ? this.formatDate(o, u, this._getFormatConfig(e)) : o, a = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", f = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (U ? a : "") + (this._isInRange(e, u) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (U ? "" : a) + "</div>" : "", l = parseInt(this._get(e, "firstDay"), 10), l = isNaN(l) ? 0 : l, c = this._get(e, "showWeek"), h = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), d = this._get(e, "monthNames"), v = this._get(e, "monthNamesShort"), m = this._get(e, "beforeShowDay"), g = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), w = "", E;
            for (S = 0; S < V[0]; S++) {
                x = "", this.maxRows = 4;
                for (T = 0; T < V[1]; T++) {
                    N = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), C = " ui-corner-all", k = "";
                    if (K) {
                        k += "<div class='ui-datepicker-group";
                        if (V[1] > 1) switch (T) {
                            case 0:
                                k += " ui-datepicker-group-first", C = " ui-corner-" + (U ? "right" : "left");
                                break;
                            case V[1] - 1:
                                k += " ui-datepicker-group-last", C = " ui-corner-" + (U ? "left" : "right");
                                break;
                            default:
                                k += " ui-datepicker-group-middle", C = ""
                        }
                        k += "'>"
                    }
                    k += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + C + "'>" + (/all|left/.test(C) && S === 0 ? U ? s : r : "") + (/all|right/.test(C) && S === 0 ? U ? r : s : "") + this._generateMonthYearHeader(e, Z, et, G, Y, S > 0 || T > 0, d, v) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", L = c ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "";
                    for (E = 0; E < 7; E++) A = (E + l) % 7, L += "<th scope='col'" + ((E + l + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + h[A] + "'>" + p[A] + "</span></th>";
                    k += L + "</tr></thead><tbody>", O = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, O)), M = (this._getFirstDayOfMonth(et, Z) - l + 7) % 7, _ = Math.ceil((M + O) / 7), D = K ? this.maxRows > _ ? this.maxRows : _ : _, this.maxRows = D, P = this._daylightSavingAdjust(new Date(et, Z, 1 - M));
                    for (H = 0; H < D; H++) {
                        k += "<tr>", B = c ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(P) + "</td>" : "";
                        for (E = 0; E < 7; E++) j = m ? m.apply(e.input ? e.input[0] : null, [P]) : [!0, ""], F = P.getMonth() !== Z, I = F && !y || !j[0] || G && P < G || Y && P > Y, B += "<td class='" + ((E + l + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (P.getTime() === N.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === P.getTime() && b.getTime() === N.getTime() ? " " + this._dayOverClass : "") + (I ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !g ? "" : " " + j[1] + (P.getTime() === Q.getTime() ? " " + this._currentClass : "") + (P.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!F || g) && j[2] ? " title='" + j[2].replace(/'/g, "&#39;") + "'" : "") + (I ? "" : " data-handler='selectDay' data-event='click' data-month='" + P.getMonth() + "' data-year='" + P.getFullYear() + "'") + ">" + (F && !g ? "&#xa0;" : I ? "<span class='ui-state-default'>" + P.getDate() + "</span>" : "<a class='ui-state-default" + (P.getTime() === R.getTime() ? " ui-state-highlight" : "") + (P.getTime() === Q.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + P.getDate() + "</a>") + "</td>", P.setDate(P.getDate() + 1), P = this._daylightSavingAdjust(P);
                        k += B + "</tr>"
                    }
                    Z++, Z > 11 && (Z = 0, et++), k += "</tbody></table>" + (K ? "</div>" + (V[0] > 0 && T === V[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), x += k
                }
                w += x
            }
            return w += f, e._keyEvent = !1, w
        },
        _generateMonthYearHeader: function(e, t, n, r, i, s, o, u) {
            var a, f, l, c, h, p, d, v, m = this._get(e, "changeMonth"),
                g = this._get(e, "changeYear"),
                y = this._get(e, "showMonthAfterYear"),
                b = "<div class='ui-datepicker-title'>",
                w = "";
            if (s || !m) w += "<span class='ui-datepicker-month'>" + o[t] + "</span>";
            else {
                a = r && r.getFullYear() === n, f = i && i.getFullYear() === n, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
                for (l = 0; l < 12; l++)(!a || l >= r.getMonth()) && (!f || l <= i.getMonth()) && (w += "<option value='" + l + "'" + (l === t ? " selected='selected'" : "") + ">" + u[l] + "</option>");
                w += "</select>"
            }
            y || (b += w + (s || !m || !g ? "&#xa0;" : ""));
            if (!e.yearshtml) {
                e.yearshtml = "";
                if (s || !g) b += "<span class='ui-datepicker-year'>" + n + "</span>";
                else {
                    c = this._get(e, "yearRange").split(":"), h = (new Date).getFullYear(), p = function(e) {
                        var t = e.match(/c[+\-].*/) ? n + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? h + parseInt(e, 10) : parseInt(e, 10);
                        return isNaN(t) ? h : t
                    }, d = p(c[0]), v = Math.max(d, p(c[1] || "")), d = r ? Math.max(d, r.getFullYear()) : d, v = i ? Math.min(v, i.getFullYear()) : v, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                    for (; d <= v; d++) e.yearshtml += "<option value='" + d + "'" + (d === n ? " selected='selected'" : "") + ">" + d + "</option>";
                    e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null
                }
            }
            return b += this._get(e, "yearSuffix"), y && (b += (s || !m || !g ? "&#xa0;" : "") + w), b += "</div>", b
        },
        _adjustInstDate: function(e, t, n) {
            var r = e.drawYear + (n === "Y" ? t : 0),
                i = e.drawMonth + (n === "M" ? t : 0),
                s = Math.min(e.selectedDay, this._getDaysInMonth(r, i)) + (n === "D" ? t : 0),
                o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(r, i, s)));
            e.selectedDay = o.getDate(), e.drawMonth = e.selectedMonth = o.getMonth(), e.drawYear = e.selectedYear = o.getFullYear(), (n === "M" || n === "Y") && this._notifyChange(e)
        },
        _restrictMinMax: function(e, t) {
            var n = this._getMinMaxDate(e, "min"),
                r = this._getMinMaxDate(e, "max"),
                i = n && t < n ? n : t;
            return r && i > r ? r : i
        },
        _notifyChange: function(e) {
            var t = this._get(e, "onChangeMonthYear");
            t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
        },
        _getNumberOfMonths: function(e) {
            var t = this._get(e, "numberOfMonths");
            return t == null ? [1, 1] : typeof t == "number" ? [1, t] : t
        },
        _getMinMaxDate: function(e, t) {
            return this._determineDate(e, this._get(e, t + "Date"), null)
        },
        _getDaysInMonth: function(e, t) {
            return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
        },
        _getFirstDayOfMonth: function(e, t) {
            return (new Date(e, t, 1)).getDay()
        },
        _canAdjustMonth: function(e, t, n, r) {
            var i = this._getNumberOfMonths(e),
                s = this._daylightSavingAdjust(new Date(n, r + (t < 0 ? t : i[0] * i[1]), 1));
            return t < 0 && s.setDate(this._getDaysInMonth(s.getFullYear(), s.getMonth())), this._isInRange(e, s)
        },
        _isInRange: function(e, t) {
            var n, r, i = this._getMinMaxDate(e, "min"),
                s = this._getMinMaxDate(e, "max"),
                o = null,
                u = null,
                a = this._get(e, "yearRange");
            return a && (n = a.split(":"), r = (new Date).getFullYear(), o = parseInt(n[0], 10), u = parseInt(n[1], 10), n[0].match(/[+\-].*/) && (o += r), n[1].match(/[+\-].*/) && (u += r)), (!i || t.getTime() >= i.getTime()) && (!s || t.getTime() <= s.getTime()) && (!o || t.getFullYear() >= o) && (!u || t.getFullYear() <= u)
        },
        _getFormatConfig: function(e) {
            var t = this._get(e, "shortYearCutoff");
            return t = typeof t != "string" ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
                shortYearCutoff: t,
                dayNamesShort: this._get(e, "dayNamesShort"),
                dayNames: this._get(e, "dayNames"),
                monthNamesShort: this._get(e, "monthNamesShort"),
                monthNames: this._get(e, "monthNames")
            }
        },
        _formatDate: function(e, t, n, r) {
            t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
            var i = t ? typeof t == "object" ? t : this._daylightSavingAdjust(new Date(r, n, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
            return this.formatDate(this._get(e, "dateFormat"), i, this._getFormatConfig(e))
        }
    }), e.fn.datepicker = function(t) {
        if (!this.length) return this;
        e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), e("#" + e.datepicker._mainDivId).length === 0 && e("body").append(e.datepicker.dpDiv);
        var n = Array.prototype.slice.call(arguments, 1);
        return typeof t != "string" || t !== "isDisabled" && t !== "getDate" && t !== "widget" ? t === "option" && arguments.length === 2 && typeof arguments[1] == "string" ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n)) : this.each(function() {
            typeof t == "string" ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(n)) : e.datepicker._attachDatepicker(this, t)
        }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n))
    }, e.datepicker = new r, e.datepicker.initialized = !1, e.datepicker.uuid = (new Date).getTime(), e.datepicker.version = "1.11.4", e.datepicker
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : e(jQuery)
}(function(e) {
    var t = 0,
        n = Array.prototype.slice;
    return e.cleanData = function(t) {
        return function(n) {
            var r, i, s;
            for (s = 0;
                (i = n[s]) != null; s++) try {
                r = e._data(i, "events"), r && r.remove && e(i).triggerHandler("remove")
            } catch (o) {}
            t(n)
        }
    }(e.cleanData), e.widget = function(t, n, r) {
        var i, s, o, u, a = {},
            f = t.split(".")[0];
        return t = t.split(".")[1], i = f + "-" + t, r || (r = n, n = e.Widget), e.expr[":"][i.toLowerCase()] = function(t) {
            return !!e.data(t, i)
        }, e[f] = e[f] || {}, s = e[f][t], o = e[f][t] = function(e, t) {
            if (!this._createWidget) return new o(e, t);
            arguments.length && this._createWidget(e, t)
        }, e.extend(o, s, {
            version: r.version,
            _proto: e.extend({}, r),
            _childConstructors: []
        }), u = new n, u.options = e.widget.extend({}, u.options), e.each(r, function(t, r) {
            if (!e.isFunction(r)) {
                a[t] = r;
                return
            }
            a[t] = function() {
                var e = function() {
                        return n.prototype[t].apply(this, arguments)
                    },
                    i = function(e) {
                        return n.prototype[t].apply(this, e)
                    };
                return function() {
                    var t = this._super,
                        n = this._superApply,
                        s;
                    return this._super = e, this._superApply = i, s = r.apply(this, arguments), this._super = t, this._superApply = n, s
                }
            }()
        }), o.prototype = e.widget.extend(u, {
            widgetEventPrefix: s ? u.widgetEventPrefix || t : t
        }, a, {
            constructor: o,
            namespace: f,
            widgetName: t,
            widgetFullName: i
        }), s ? (e.each(s._childConstructors, function(t, n) {
            var r = n.prototype;
            e.widget(r.namespace + "." + r.widgetName, o, n._proto)
        }), delete s._childConstructors) : n._childConstructors.push(o), e.widget.bridge(t, o), o
    }, e.widget.extend = function(t) {
        var r = n.call(arguments, 1),
            i = 0,
            s = r.length,
            o, u;
        for (; i < s; i++)
            for (o in r[i]) u = r[i][o], r[i].hasOwnProperty(o) && u !== undefined && (e.isPlainObject(u) ? t[o] = e.isPlainObject(t[o]) ? e.widget.extend({}, t[o], u) : e.widget.extend({}, u) : t[o] = u);
        return t
    }, e.widget.bridge = function(t, r) {
        var i = r.prototype.widgetFullName || t;
        e.fn[t] = function(s) {
            var o = typeof s == "string",
                u = n.call(arguments, 1),
                a = this;
            return o ? this.each(function() {
                var n, r = e.data(this, i);
                if (s === "instance") return a = r, !1;
                if (!r) return e.error("cannot call methods on " + t + " prior to initialization; " + "attempted to call method '" + s + "'");
                if (!e.isFunction(r[s]) || s.charAt(0) === "_") return e.error("no such method '" + s + "' for " + t + " widget instance");
                n = r[s].apply(r, u);
                if (n !== r && n !== undefined) return a = n && n.jquery ? a.pushStack(n.get()) : n, !1
            }) : (u.length && (s = e.widget.extend.apply(null, [s].concat(u))), this.each(function() {
                var t = e.data(this, i);
                t ? (t.option(s || {}), t._init && t._init()) : e.data(this, i, new r(s, this))
            })), a
        }
    }, e.Widget = function() {}, e.Widget._childConstructors = [], e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(n, r) {
            r = e(r || this.defaultElement || this)[0], this.element = e(r), this.uuid = t++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = e(), this.hoverable = e(), this.focusable = e(), r !== this && (e.data(r, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(e) {
                    e.target === r && this.destroy()
                }
            }), this.document = e(r.style ? r.ownerDocument : r.document || r), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this.options = e.widget.extend({}, this.options, this._getCreateOptions(), n), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(t, n) {
            var r = t,
                i, s, o;
            if (arguments.length === 0) return e.widget.extend({}, this.options);
            if (typeof t == "string") {
                r = {}, i = t.split("."), t = i.shift();
                if (i.length) {
                    s = r[t] = e.widget.extend({}, this.options[t]);
                    for (o = 0; o < i.length - 1; o++) s[i[o]] = s[i[o]] || {}, s = s[i[o]];
                    t = i.pop();
                    if (arguments.length === 1) return s[t] === undefined ? null : s[t];
                    s[t] = n
                } else {
                    if (arguments.length === 1) return this.options[t] === undefined ? null : this.options[t];
                    r[t] = n
                }
            }
            return this._setOptions(r), this
        },
        _setOptions: function(e) {
            var t;
            for (t in e) this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t, e === "disabled" && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t), t && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(t, n, r) {
            var i, s = this;
            typeof t != "boolean" && (r = n, n = t, t = !1), r ? (n = i = e(n), this.bindings = this.bindings.add(n)) : (r = n, n = this.element, i = this.widget()), e.each(r, function(r, o) {
                function u() {
                    if (!t && (s.options.disabled === !0 || e(this).hasClass("ui-state-disabled"))) return;
                    return (typeof o == "string" ? s[o] : o).apply(s, arguments)
                }
                typeof o != "string" && (u.guid = o.guid = o.guid || u.guid || e.guid++);
                var a = r.match(/^([\w:-]*)\s*(.*)$/),
                    f = a[1] + s.eventNamespace,
                    l = a[2];
                l ? i.delegate(l, f, u) : n.bind(f, u)
            })
        },
        _off: function(t, n) {
            n = (n || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.unbind(n).undelegate(n), this.bindings = e(this.bindings.not(t).get()), this.focusable = e(this.focusable.not(t).get()), this.hoverable = e(this.hoverable.not(t).get())
        },
        _delay: function(e, t) {
            function n() {
                return (typeof e == "string" ? r[e] : e).apply(r, arguments)
            }
            var r = this;
            return setTimeout(n, t || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t), this._on(t, {
                mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t), this._on(t, {
                focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, n, r) {
            var i, s, o = this.options[t];
            r = r || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], s = n.originalEvent;
            if (s)
                for (i in s) i in n || (n[i] = s[i]);
            return this.element.trigger(n, r), !(e.isFunction(o) && o.apply(this.element[0], [n].concat(r)) === !1 || n.isDefaultPrevented())
        }
    }, e.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(t, n) {
        e.Widget.prototype["_" + t] = function(r, i, s) {
            typeof i == "string" && (i = {
                effect: i
            });
            var o, u = i ? i === !0 || typeof i == "number" ? n : i.effect || n : t;
            i = i || {}, typeof i == "number" && (i = {
                duration: i
            }), o = !e.isEmptyObject(i), i.complete = s, i.delay && r.delay(i.delay), o && e.effects && e.effects.effect[u] ? r[t](i) : u !== t && r[u] ? r[u](i.duration, i.easing, s) : r.queue(function(n) {
                e(this)[t](), s && s.call(r[0]), n()
            })
        }
    }), e.widget
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery", "./widget"], e) : e(jQuery)
}(function(e) {
    var t = !1;
    return e(document).mouseup(function() {
        t = !1
    }), e.widget("ui.mouse", {
        version: "1.11.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName, function(n) {
                if (!0 === e.data(n.target, t.widgetName + ".preventClickEvent")) return e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1
            }), this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(n) {
            if (t) return;
            this._mouseMoved = !1, this._mouseStarted && this._mouseUp(n), this._mouseDownEvent = n;
            var r = this,
                i = n.which === 1,
                s = typeof this.options.cancel == "string" && n.target.nodeName ? e(n.target).closest(this.options.cancel).length : !1;
            if (!i || s || !this._mouseCapture(n)) return !0;
            this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                r.mouseDelayMet = !0
            }, this.options.delay));
            if (this._mouseDistanceMet(n) && this._mouseDelayMet(n)) {
                this._mouseStarted = this._mouseStart(n) !== !1;
                if (!this._mouseStarted) return n.preventDefault(), !0
            }
            return !0 === e.data(n.target, this.widgetName + ".preventClickEvent") && e.removeData(n.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(e) {
                return r._mouseMove(e)
            }, this._mouseUpDelegate = function(e) {
                return r._mouseUp(e)
            }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), n.preventDefault(), t = !0, !0
        },
        _mouseMove: function(t) {
            if (this._mouseMoved) {
                if (e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button) return this._mouseUp(t);
                if (!t.which) return this._mouseUp(t)
            }
            if (t.which || t.button) this._mouseMoved = !0;
            return this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted)
        },
        _mouseUp: function(n) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, n.target === this._mouseDownEvent.target && e.data(n.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(n)), t = !1, !1
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    })
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery", "./core", "./mouse", "./widget"], e) : e(jQuery)
}(function(e) {
    return e.widget("ui.slider", e.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function() {
            var t, n, r = this.options,
                i = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                s = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
                o = [];
            n = r.values && r.values.length || 1, i.length > n && (i.slice(n).remove(), i = i.slice(0, n));
            for (t = i.length; t < n; t++) o.push(s);
            this.handles = i.add(e(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(t) {
                e(this).data("ui-slider-handle-index", t)
            })
        },
        _createRange: function() {
            var t = this.options,
                n = "";
            t.range ? (t.range === !0 && (t.values ? t.values.length && t.values.length !== 2 ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), !this.range || !this.range.length ? (this.range = e("<div></div>").appendTo(this.element), n = "ui-slider-range ui-widget-header ui-corner-all") : this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }), this.range.addClass(n + (t.range === "min" || t.range === "max" ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var n, r, i, s, o, u, a, f, l = this,
                c = this.options;
            return c.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), n = {
                x: t.pageX,
                y: t.pageY
            }, r = this._normValueFromMouse(n), i = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
                var n = Math.abs(r - l.values(t));
                if (i > n || i === n && (t === l._lastChangedValue || l.values(t) === c.min)) i = n, s = e(this), o = t
            }), u = this._start(t, o), u === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, s.addClass("ui-state-active").focus(), a = s.offset(), f = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = f ? {
                left: 0,
                top: 0
            } : {
                left: t.pageX - a.left - s.width() / 2,
                top: t.pageY - a.top - s.height() / 2 - (parseInt(s.css("borderTopWidth"), 10) || 0) - (parseInt(s.css("borderBottomWidth"), 10) || 0) + (parseInt(s.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(t, o, r), this._animateOff = !0, !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(e) {
            var t = {
                    x: e.pageX,
                    y: e.pageY
                },
                n = this._normValueFromMouse(t);
            return this._slide(e, this._handleIndex, n), !1
        },
        _mouseStop: function(e) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function() {
            this.orientation = this.options.orientation === "vertical" ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(e) {
            var t, n, r, i, s;
            return this.orientation === "horizontal" ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), r = n / t, r > 1 && (r = 1), r < 0 && (r = 0), this.orientation === "vertical" && (r = 1 - r), i = this._valueMax() - this._valueMin(), s = this._valueMin() + r * i, this._trimAlignValue(s)
        },
        _start: function(e, t) {
            var n = {
                handle: this.handles[t],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("start", e, n)
        },
        _slide: function(e, t, n) {
            var r, i, s;
            this.options.values && this.options.values.length ? (r = this.values(t ? 0 : 1), this.options.values.length === 2 && this.options.range === !0 && (t === 0 && n > r || t === 1 && n < r) && (n = r), n !== this.values(t) && (i = this.values(), i[t] = n, s = this._trigger("slide", e, {
                handle: this.handles[t],
                value: n,
                values: i
            }), r = this.values(t ? 0 : 1), s !== !1 && this.values(t, n))) : n !== this.value() && (s = this._trigger("slide", e, {
                handle: this.handles[t],
                value: n
            }), s !== !1 && this.value(n))
        },
        _stop: function(e, t) {
            var n = {
                handle: this.handles[t],
                value: this.value()
            };
            this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("stop", e, n)
        },
        _change: function(e, t) {
            if (!this._keySliding && !this._mouseSliding) {
                var n = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._lastChangedValue = t, this._trigger("change", e, n)
            }
        },
        value: function(e) {
            if (arguments.length) {
                this.options.value = this._trimAlignValue(e), this._refreshValue(), this._change(null, 0);
                return
            }
            return this._value()
        },
        values: function(t, n) {
            var r, i, s;
            if (arguments.length > 1) {
                this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), this._change(null, t);
                return
            }
            if (!arguments.length) return this._values();
            if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value();
            r = this.options.values, i = arguments[0];
            for (s = 0; s < r.length; s += 1) r[s] = this._trimAlignValue(i[s]), this._change(null, s);
            this._refreshValue()
        },
        _setOption: function(t, n) {
            var r, i = 0;
            t === "range" && this.options.range === !0 && (n === "min" ? (this.options.value = this._values(0), this.options.values = null) : n === "max" && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (i = this.options.values.length), t === "disabled" && this.element.toggleClass("ui-state-disabled", !!n), this._super(t, n);
            switch (t) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(), this.handles.css(n === "horizontal" ? "bottom" : "left", "");
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    this._animateOff = !0, this._refreshValue();
                    for (r = 0; r < i; r += 1) this._change(null, r);
                    this._animateOff = !1;
                    break;
                case "step":
                case "min":
                case "max":
                    this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function() {
            var e = this.options.value;
            return e = this._trimAlignValue(e), e
        },
        _values: function(e) {
            var t, n, r;
            if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t), t;
            if (this.options.values && this.options.values.length) {
                n = this.options.values.slice();
                for (r = 0; r < n.length; r += 1) n[r] = this._trimAlignValue(n[r]);
                return n
            }
            return []
        },
        _trimAlignValue: function(e) {
            if (e <= this._valueMin()) return this._valueMin();
            if (e >= this._valueMax()) return this._valueMax();
            var t = this.options.step > 0 ? this.options.step : 1,
                n = (e - this._valueMin()) % t,
                r = e - n;
            return Math.abs(n) * 2 >= t && (r += n > 0 ? t : -t), parseFloat(r.toFixed(5))
        },
        _calculateNewMax: function() {
            var e = this.options.max,
                t = this._valueMin(),
                n = this.options.step,
                r = Math.floor(+(e - t).toFixed(this._precision()) / n) * n;
            e = r + t, this.max = parseFloat(e.toFixed(this._precision()))
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            return this.options.min !== null && (e = Math.max(e, this._precisionOf(this.options.min))), e
        },
        _precisionOf: function(e) {
            var t = e.toString(),
                n = t.indexOf(".");
            return n === -1 ? 0 : t.length - n - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshValue: function() {
            var t, n, r, i, s, o = this.options.range,
                u = this.options,
                a = this,
                f = this._animateOff ? !1 : u.animate,
                l = {};
            this.options.values && this.options.values.length ? this.handles.each(function(r) {
                n = (a.values(r) - a._valueMin()) / (a._valueMax() - a._valueMin()) * 100, l[a.orientation === "horizontal" ? "left" : "bottom"] = n + "%", e(this).stop(1, 1)[f ? "animate" : "css"](l, u.animate), a.options.range === !0 && (a.orientation === "horizontal" ? (r === 0 && a.range.stop(1, 1)[f ? "animate" : "css"]({
                    left: n + "%"
                }, u.animate), r === 1 && a.range[f ? "animate" : "css"]({
                    width: n - t + "%"
                }, {
                    queue: !1,
                    duration: u.animate
                })) : (r === 0 && a.range.stop(1, 1)[f ? "animate" : "css"]({
                    bottom: n + "%"
                }, u.animate), r === 1 && a.range[f ? "animate" : "css"]({
                    height: n - t + "%"
                }, {
                    queue: !1,
                    duration: u.animate
                }))), t = n
            }) : (r = this.value(), i = this._valueMin(), s = this._valueMax(), n = s !== i ? (r - i) / (s - i) * 100 : 0, l[this.orientation === "horizontal" ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[f ? "animate" : "css"](l, u.animate), o === "min" && this.orientation === "horizontal" && this.range.stop(1, 1)[f ? "animate" : "css"]({
                width: n + "%"
            }, u.animate), o === "max" && this.orientation === "horizontal" && this.range[f ? "animate" : "css"]({
                width: 100 - n + "%"
            }, {
                queue: !1,
                duration: u.animate
            }), o === "min" && this.orientation === "vertical" && this.range.stop(1, 1)[f ? "animate" : "css"]({
                height: n + "%"
            }, u.animate), o === "max" && this.orientation === "vertical" && this.range[f ? "animate" : "css"]({
                height: 100 - n + "%"
            }, {
                queue: !1,
                duration: u.animate
            }))
        },
        _handleEvents: {
            keydown: function(t) {
                var n, r, i, s, o = e(t.target).data("ui-slider-handle-index");
                switch (t.keyCode) {
                    case e.ui.keyCode.HOME:
                    case e.ui.keyCode.END:
                    case e.ui.keyCode.PAGE_UP:
                    case e.ui.keyCode.PAGE_DOWN:
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        t.preventDefault();
                        if (!this._keySliding) {
                            this._keySliding = !0, e(t.target).addClass("ui-state-active"), n = this._start(t, o);
                            if (n === !1) return
                        }
                }
                s = this.options.step, this.options.values && this.options.values.length ? r = i = this.values(o) : r = i = this.value();
                switch (t.keyCode) {
                    case e.ui.keyCode.HOME:
                        i = this._valueMin();
                        break;
                    case e.ui.keyCode.END:
                        i = this._valueMax();
                        break;
                    case e.ui.keyCode.PAGE_UP:
                        i = this._trimAlignValue(r + (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case e.ui.keyCode.PAGE_DOWN:
                        i = this._trimAlignValue(r - (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                        if (r === this._valueMax()) return;
                        i = this._trimAlignValue(r + s);
                        break;
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        if (r === this._valueMin()) return;
                        i = this._trimAlignValue(r - s)
                }
                this._slide(t, o, i)
            },
            keyup: function(t) {
                var n = e(t.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), e(t.target).removeClass("ui-state-active"))
            }
        }
    })
}),
function(e) {
    typeof define == "function" && define.amd ? define(["jquery", "./core", "./widget"], e) : e(jQuery)
}(function(e) {
    return e.widget("ui.tabs", {
        version: "1.11.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function() {
            var e = /#.*$/;
            return function(t) {
                var n, r;
                t = t.cloneNode(!1), n = t.href.replace(e, ""), r = location.href.replace(e, "");
                try {
                    n = decodeURIComponent(n)
                } catch (i) {}
                try {
                    r = decodeURIComponent(r)
                } catch (i) {}
                return t.hash.length > 1 && n === r
            }
        }(),
        _create: function() {
            var t = this,
                n = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", n.collapsible), this._processTabs(), n.active = this._initialActive(), e.isArray(n.disabled) && (n.disabled = e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                return t.tabs.index(e)
            }))).sort()), this.options.active !== !1 && this.anchors.length ? this.active = this._findActive(n.active) : this.active = e(), this._refresh(), this.active.length && this.load(n.active)
        },
        _initialActive: function() {
            var t = this.options.active,
                n = this.options.collapsible,
                r = location.hash.substring(1);
            if (t === null) {
                r && this.tabs.each(function(n, i) {
                    if (e(i).attr("aria-controls") === r) return t = n, !1
                }), t === null && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active")));
                if (t === null || t === -1) t = this.tabs.length ? 0 : !1
            }
            return t !== !1 && (t = this.tabs.index(this.tabs.eq(t)), t === -1 && (t = n ? !1 : 0)), !n && t === !1 && this.anchors.length && (t = 0), t
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : e()
            }
        },
        _tabKeydown: function(t) {
            var n = e(this.document[0].activeElement).closest("li"),
                r = this.tabs.index(n),
                i = !0;
            if (this._handlePageNav(t)) return;
            switch (t.keyCode) {
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                    r++;
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.LEFT:
                    i = !1, r--;
                    break;
                case e.ui.keyCode.END:
                    r = this.anchors.length - 1;
                    break;
                case e.ui.keyCode.HOME:
                    r = 0;
                    break;
                case e.ui.keyCode.SPACE:
                    t.preventDefault(), clearTimeout(this.activating), this._activate(r);
                    return;
                case e.ui.keyCode.ENTER:
                    t.preventDefault(), clearTimeout(this.activating), this._activate(r === this.options.active ? !1 : r);
                    return;
                default:
                    return
            }
            t.preventDefault(), clearTimeout(this.activating), r = this._focusNextTab(r, i), !t.ctrlKey && !t.metaKey && (n.attr("aria-selected", "false"), this.tabs.eq(r).attr("aria-selected", "true"), this.activating = this._delay(function() {
                this.option("active", r)
            }, this.delay))
        },
        _panelKeydown: function(t) {
            if (this._handlePageNav(t)) return;
            t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.focus())
        },
        _handlePageNav: function(t) {
            if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP) return this._activate(this._focusNextTab(this.options.active - 1, !1)), !0;
            if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN) return this._activate(this._focusNextTab(this.options.active + 1, !0)), !0
        },
        _findNextTab: function(t, n) {
            function i() {
                return t > r && (t = 0), t < 0 && (t = r), t
            }
            var r = this.tabs.length - 1;
            while (e.inArray(i(), this.options.disabled) !== -1) t = n ? t + 1 : t - 1;
            return t
        },
        _focusNextTab: function(e, t) {
            return e = this._findNextTab(e, t), this.tabs.eq(e).focus(), e
        },
        _setOption: function(e, t) {
            if (e === "active") {
                this._activate(t);
                return
            }
            if (e === "disabled") {
                this._setupDisabled(t);
                return
            }
            this._super(e, t), e === "collapsible" && (this.element.toggleClass("ui-tabs-collapsible", t), !t && this.options.active === !1 && this._activate(0)), e === "event" && this._setupEvents(t), e === "heightStyle" && this._setupHeightStyle(t)
        },
        _sanitizeSelector: function(e) {
            return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var t = this.options,
                n = this.tablist.children(":has(a[href])");
            t.disabled = e.map(n.filter(".ui-state-disabled"), function(e) {
                return n.index(e)
            }), this._processTabs(), t.active === !1 || !this.anchors.length ? (t.active = !1, this.active = e()) : this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active), this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }), this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var t = this,
                n = this.tabs,
                r = this.anchors,
                i = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(t) {
                e(this).is(".ui-state-disabled") && t.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                e(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }), this.anchors = this.tabs.map(function() {
                return e("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }), this.panels = e(), this.anchors.each(function(n, r) {
                var i, s, o, u = e(r).uniqueId().attr("id"),
                    a = e(r).closest("li"),
                    f = a.attr("aria-controls");
                t._isLocal(r) ? (i = r.hash, o = i.substring(1), s = t.element.find(t._sanitizeSelector(i))) : (o = a.attr("aria-controls") || e({}).uniqueId()[0].id, i = "#" + o, s = t.element.find(i), s.length || (s = t._createPanel(o), s.insertAfter(t.panels[n - 1] || t.tablist)), s.attr("aria-live", "polite")), s.length && (t.panels = t.panels.add(s)), f && a.data("ui-tabs-aria-controls", f), a.attr({
                    "aria-controls": o,
                    "aria-labelledby": u
                }), s.attr("aria-labelledby", u)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"), n && (this._off(n.not(this.tabs)), this._off(r.not(this.anchors)), this._off(i.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(t) {
            return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(t) {
            e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
            for (var n = 0, r; r = this.tabs[n]; n++) t === !0 || e.inArray(n, t) !== -1 ? e(r).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = t
        },
        _setupEvents: function(t) {
            var n = {};
            t && e.each(t.split(" "), function(e, t) {
                n[t] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
                click: function(e) {
                    e.preventDefault()
                }
            }), this._on(this.anchors, n), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(t) {
            var n, r = this.element.parent();
            t === "fill" ? (n = r.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                var t = e(this),
                    r = t.css("position");
                if (r === "absolute" || r === "fixed") return;
                n -= t.outerHeight(!0)
            }), this.element.children().not(this.panels).each(function() {
                n -= e(this).outerHeight(!0)
            }), this.panels.each(function() {
                e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : t === "auto" && (n = 0, this.panels.each(function() {
                n = Math.max(n, e(this).height("").height())
            }).height(n))
        },
        _eventHandler: function(t) {
            var n = this.options,
                r = this.active,
                i = e(t.currentTarget),
                s = i.closest("li"),
                o = s[0] === r[0],
                u = o && n.collapsible,
                a = u ? e() : this._getPanelForTab(s),
                f = r.length ? this._getPanelForTab(r) : e(),
                l = {
                    oldTab: r,
                    oldPanel: f,
                    newTab: u ? e() : s,
                    newPanel: a
                };
            t.preventDefault();
            if (s.hasClass("ui-state-disabled") || s.hasClass("ui-tabs-loading") || this.running || o && !n.collapsible || this._trigger("beforeActivate", t, l) === !1) return;
            n.active = u ? !1 : this.tabs.index(s), this.active = o ? e() : s, this.xhr && this.xhr.abort(), !f.length && !a.length && e.error("jQuery UI Tabs: Mismatching fragment identifier."), a.length && this.load(this.tabs.index(s), t), this._toggle(t, l)
        },
        _toggle: function(t, n) {
            function o() {
                r.running = !1, r._trigger("activate", t, n)
            }

            function u() {
                n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), i.length && r.options.show ? r._show(i, r.options.show, o) : (i.show(), o())
            }
            var r = this,
                i = n.newPanel,
                s = n.oldPanel;
            this.running = !0, s.length && this.options.hide ? this._hide(s, this.options.hide, function() {
                n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), u()
            }) : (n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), s.hide(), u()), s.attr("aria-hidden", "true"), n.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), i.length && s.length ? n.oldTab.attr("tabIndex", -1) : i.length && this.tabs.filter(function() {
                return e(this).attr("tabIndex") === 0
            }).attr("tabIndex", -1), i.attr("aria-hidden", "false"), n.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(t) {
            var n, r = this._findActive(t);
            if (r[0] === this.active[0]) return;
            r.length || (r = this.active), n = r.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: n,
                currentTarget: n,
                preventDefault: e.noop
            })
        },
        _findActive: function(t) {
            return t === !1 ? e() : this.tabs.eq(t)
        },
        _getIndex: function(e) {
            return typeof e == "string" && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))), e
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tablist.unbind(this.eventNamespace), this.tabs.add(this.panels).each(function() {
                e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function() {
                var t = e(this),
                    n = t.data("ui-tabs-aria-controls");
                n ? t.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
            }), this.panels.show(), this.options.heightStyle !== "content" && this.panels.css("height", "")
        },
        enable: function(t) {
            var n = this.options.disabled;
            if (n === !1) return;
            t === undefined ? n = !1 : (t = this._getIndex(t), e.isArray(n) ? n = e.map(n, function(e) {
                return e !== t ? e : null
            }) : n = e.map(this.tabs, function(e, n) {
                return n !== t ? n : null
            })), this._setupDisabled(n)
        },
        disable: function(t) {
            var n = this.options.disabled;
            if (n === !0) return;
            if (t === undefined) n = !0;
            else {
                t = this._getIndex(t);
                if (e.inArray(t, n) !== -1) return;
                e.isArray(n) ? n = e.merge([t], n).sort() : n = [t]
            }
            this._setupDisabled(n)
        },
        load: function(t, n) {
            t = this._getIndex(t);
            var r = this,
                i = this.tabs.eq(t),
                s = i.find(".ui-tabs-anchor"),
                o = this._getPanelForTab(i),
                u = {
                    tab: i,
                    panel: o
                },
                a = function(e, t) {
                    t === "abort" && r.panels.stop(!1, !0), i.removeClass("ui-tabs-loading"), o.removeAttr("aria-busy"), e === r.xhr && delete r.xhr
                };
            if (this._isLocal(s[0])) return;
            this.xhr = e.ajax(this._ajaxSettings(s, n, u)), this.xhr && this.xhr.statusText !== "canceled" && (i.addClass("ui-tabs-loading"), o.attr("aria-busy", "true"), this.xhr.done(function(e, t, i) {
                setTimeout(function() {
                    o.html(e), r._trigger("load", n, u), a(i, t)
                }, 1)
            }).fail(function(e, t) {
                setTimeout(function() {
                    a(e, t)
                }, 1)
            }))
        },
        _ajaxSettings: function(t, n, r) {
            var i = this;
            return {
                url: t.attr("href"),
                beforeSend: function(t, s) {
                    return i._trigger("beforeLoad", n, e.extend({
                        jqXHR: t,
                        ajaxSettings: s
                    }, r))
                }
            }
        },
        _getPanelForTab: function(t) {
            var n = e(t).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + n))
        }
    })
}), window.Modernizr = function(e, t, n) {
        function A(e) {
            f.cssText = e
        }

        function O(e, t) {
            return A(p.join(e + ";") + (t || ""))
        }

        function M(e, t) {
            return typeof e === t
        }

        function _(e, t) {
            return !!~("" + e).indexOf(t)
        }

        function D(e, t) {
            for (var r in e) {
                var i = e[r];
                if (!_(i, "-") && f[i] !== n) return t == "pfx" ? i : !0
            }
            return !1
        }

        function P(e, t, r) {
            for (var i in e) {
                var s = t[e[i]];
                if (s !== n) return r === !1 ? e[i] : M(s, "function") ? s.bind(r || t) : s
            }
            return !1
        }

        function H(e, t, n) {
            var r = e.charAt(0).toUpperCase() + e.slice(1),
                i = (e + " " + v.join(r + " ") + r).split(" ");
            return M(t, "string") || M(t, "undefined") ? D(i, t) : (i = (e + " " + m.join(r + " ") + r).split(" "), P(i, t, n))
        }

        function B() {
            i.input = function(n) {
                for (var r = 0, i = n.length; r < i; r++) w[n[r]] = n[r] in l;
                return w.list && (w.list = !!t.createElement("datalist") && !!e.HTMLDataListElement), w
            }("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")), i.inputtypes = function(e) {
                for (var r = 0, i, s, u, a = e.length; r < a; r++) l.setAttribute("type", s = e[r]), i = l.type !== "text", i && (l.value = c, l.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(s) && l.style.WebkitAppearance !== n ? (o.appendChild(l), u = t.defaultView, i = u.getComputedStyle && u.getComputedStyle(l, null).WebkitAppearance !== "textfield" && l.offsetHeight !== 0, o.removeChild(l)) : /^(search|tel)$/.test(s) || (/^(url|email)$/.test(s) ? i = l.checkValidity && l.checkValidity() === !1 : i = l.value != c)), b[e[r]] = !!i;
                return b
            }("search tel url email datetime date month week time datetime-local number range color".split(" "))
        }
        var r = "2.8.3",
            i = {},
            s = !0,
            o = t.documentElement,
            u = "modernizr",
            a = t.createElement(u),
            f = a.style,
            l = t.createElement("input"),
            c = ":)",
            h = {}.toString,
            p = " -webkit- -moz- -o- -ms- ".split(" "),
            d = "Webkit Moz O ms",
            v = d.split(" "),
            m = d.toLowerCase().split(" "),
            g = {
                svg: "http://www.w3.org/2000/svg"
            },
            y = {},
            b = {},
            w = {},
            E = [],
            S = E.slice,
            x, T = function(e, n, r, i) {
                var s, a, f, l, c = t.createElement("div"),
                    h = t.body,
                    p = h || t.createElement("body");
                if (parseInt(r, 10))
                    while (r--) f = t.createElement("div"), f.id = i ? i[r] : u + (r + 1), c.appendChild(f);
                return s = ["&#173;", '<style id="s', u, '">', e, "</style>"].join(""), c.id = u, (h ? c : p).innerHTML += s, p.appendChild(c), h || (p.style.background = "", p.style.overflow = "hidden", l = o.style.overflow, o.style.overflow = "hidden", o.appendChild(p)), a = n(c, e), h ? c.parentNode.removeChild(c) : (p.parentNode.removeChild(p), o.style.overflow = l), !!a
            },
            N = function(t) {
                var n = e.matchMedia || e.msMatchMedia;
                if (n) return n(t) && n(t).matches || !1;
                var r;
                return T("@media " + t + " { #" + u + " { position: absolute; } }", function(t) {
                    r = (e.getComputedStyle ? getComputedStyle(t, null) : t.currentStyle)["position"] == "absolute"
                }), r
            },
            C = function() {
                function r(r, i) {
                    i = i || t.createElement(e[r] || "div"), r = "on" + r;
                    var s = r in i;
                    return s || (i.setAttribute || (i = t.createElement("div")), i.setAttribute && i.removeAttribute && (i.setAttribute(r, ""), s = M(i[r], "function"), M(i[r], "undefined") || (i[r] = n), i.removeAttribute(r))), i = null, s
                }
                var e = {
                    select: "input",
                    change: "input",
                    submit: "form",
                    reset: "form",
                    error: "img",
                    load: "img",
                    abort: "img"
                };
                return r
            }(),
            k = {}.hasOwnProperty,
            L;
        !M(k, "undefined") && !M(k.call, "undefined") ? L = function(e, t) {
            return k.call(e, t)
        } : L = function(e, t) {
            return t in e && M(e.constructor.prototype[t], "undefined")
        }, Function.prototype.bind || (Function.prototype.bind = function(t) {
            var n = this;
            if (typeof n != "function") throw new TypeError;
            var r = S.call(arguments, 1),
                i = function() {
                    if (this instanceof i) {
                        var e = function() {};
                        e.prototype = n.prototype;
                        var s = new e,
                            o = n.apply(s, r.concat(S.call(arguments)));
                        return Object(o) === o ? o : s
                    }
                    return n.apply(t, r.concat(S.call(arguments)))
                };
            return i
        }), y.flexbox = function() {
            return H("flexWrap")
        }, y.flexboxlegacy = function() {
            return H("boxDirection")
        }, y.canvas = function() {
            var e = t.createElement("canvas");
            return !!e.getContext && !!e.getContext("2d")
        }, y.canvastext = function() {
            return !!i.canvas && !!M(t.createElement("canvas").getContext("2d").fillText, "function")
        }, y.webgl = function() {
            return !!e.WebGLRenderingContext
        }, y.touch = function() {
            var n;
            return "ontouchstart" in e || e.DocumentTouch && t instanceof DocumentTouch ? n = !0 : T(["@media (", p.join("touch-enabled),("), u, ")", "{#modernizr{top:9px;position:absolute}}"].join(""), function(e) {
                n = e.offsetTop === 9
            }), n
        }, y.geolocation = function() {
            return "geolocation" in navigator
        }, y.postmessage = function() {
            return !!e.postMessage
        }, y.websqldatabase = function() {
            return !!e.openDatabase
        }, y.indexedDB = function() {
            return !!H("indexedDB", e)
        }, y.hashchange = function() {
            return C("hashchange", e) && (t.documentMode === n || t.documentMode > 7)
        }, y.history = function() {
            return !!e.history && !!history.pushState
        }, y.draganddrop = function() {
            var e = t.createElement("div");
            return "draggable" in e || "ondragstart" in e && "ondrop" in e
        }, y.websockets = function() {
            return "WebSocket" in e || "MozWebSocket" in e
        }, y.rgba = function() {
            return A("background-color:rgba(150,255,150,.5)"), _(f.backgroundColor, "rgba")
        }, y.hsla = function() {
            return A("background-color:hsla(120,40%,100%,.5)"), _(f.backgroundColor, "rgba") || _(f.backgroundColor, "hsla")
        }, y.multiplebgs = function() {
            return A("background:url(https://),url(https://),red url(https://)"), /(url\s*\(.*?){3}/.test(f.background)
        }, y.backgroundsize = function() {
            return H("backgroundSize")
        }, y.borderimage = function() {
            return H("borderImage")
        }, y.borderradius = function() {
            return H("borderRadius")
        }, y.boxshadow = function() {
            return H("boxShadow")
        }, y.textshadow = function() {
            return t.createElement("div").style.textShadow === ""
        }, y.opacity = function() {
            return O("opacity:.55"), /^0.55$/.test(f.opacity)
        }, y.cssanimations = function() {
            return H("animationName")
        }, y.csscolumns = function() {
            return H("columnCount")
        }, y.cssgradients = function() {
            var e = "background-image:",
                t = "gradient(linear,left top,right bottom,from(#9f9),to(white));",
                n = "linear-gradient(left top,#9f9, white);";
            return A((e + "-webkit- ".split(" ").join(t + e) + p.join(n + e)).slice(0, -e.length)), _(f.backgroundImage, "gradient")
        }, y.cssreflections = function() {
            return H("boxReflect")
        }, y.csstransforms = function() {
            return !!H("transform")
        }, y.csstransforms3d = function() {
            var e = !!H("perspective");
            return e && "webkitPerspective" in o.style && T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}", function(t, n) {
                e = t.offsetLeft === 9 && t.offsetHeight === 3
            }), e
        }, y.csstransitions = function() {
            return H("transition")
        }, y.fontface = function() {
            var e;
            return T('@font-face {font-family:"font";src:url("https://")}', function(n, r) {
                var i = t.getElementById("smodernizr"),
                    s = i.sheet || i.styleSheet,
                    o = s ? s.cssRules && s.cssRules[0] ? s.cssRules[0].cssText : s.cssText || "" : "";
                e = /src/i.test(o) && o.indexOf(r.split(" ")[0]) === 0
            }), e
        }, y.generatedcontent = function() {
            var e;
            return T(["#", u, "{font:0/0 a}#", u, ':after{content:"', c, '";visibility:hidden;font:3px/1 a}'].join(""), function(t) {
                e = t.offsetHeight >= 3
            }), e
        }, y.video = function() {
            var e = t.createElement("video"),
                n = !1;
            try {
                if (n = !!e.canPlayType) n = new Boolean(n), n.ogg = e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, ""), n.h264 = e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, ""), n.webm = e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, "")
            } catch (r) {}
            return n
        }, y.audio = function() {
            var e = t.createElement("audio"),
                n = !1;
            try {
                if (n = !!e.canPlayType) n = new Boolean(n), n.ogg = e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""), n.mp3 = e.canPlayType("audio/mpeg;").replace(/^no$/, ""), n.wav = e.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""), n.m4a = (e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, "")
            } catch (r) {}
            return n
        }, y.localstorage = function() {
            try {
                return localStorage.setItem(u, u), localStorage.removeItem(u), !0
            } catch (e) {
                return !1
            }
        }, y.sessionstorage = function() {
            try {
                return sessionStorage.setItem(u, u), sessionStorage.removeItem(u), !0
            } catch (e) {
                return !1
            }
        }, y.webworkers = function() {
            return !!e.Worker
        }, y.applicationcache = function() {
            return !!e.applicationCache
        }, y.svg = function() {
            return !!t.createElementNS && !!t.createElementNS(g.svg, "svg").createSVGRect
        }, y.inlinesvg = function() {
            var e = t.createElement("div");
            return e.innerHTML = "<svg/>", (e.firstChild && e.firstChild.namespaceURI) == g.svg
        }, y.smil = function() {
            return !!t.createElementNS && /SVGAnimate/.test(h.call(t.createElementNS(g.svg, "animate")))
        }, y.svgclippaths = function() {
            return !!t.createElementNS && /SVGClipPath/.test(h.call(t.createElementNS(g.svg, "clipPath")))
        };
        for (var j in y) L(y, j) && (x = j.toLowerCase(), i[x] = y[j](), E.push((i[x] ? "" : "no-") + x));
        return i.input || B(), i.addTest = function(e, t) {
                if (typeof e == "object")
                    for (var r in e) L(e, r) && i.addTest(r, e[r]);
                else {
                    e = e.toLowerCase();
                    if (i[e] !== n) return i;
                    t = typeof t == "function" ? t() : t, typeof s != "undefined" && s && (o.className += " " + (t ? "" : "no-") + e), i[e] = t
                }
                return i
            }, A(""), a = l = null,
            function(e, t) {
                function c(e, t) {
                    var n = e.createElement("p"),
                        r = e.getElementsByTagName("head")[0] || e.documentElement;
                    return n.innerHTML = "x<style>" + t + "</style>", r.insertBefore(n.lastChild, r.firstChild)
                }

                function h() {
                    var e = y.elements;
                    return typeof e == "string" ? e.split(" ") : e
                }

                function p(e) {
                    var t = f[e[u]];
                    return t || (t = {}, a++, e[u] = a, f[a] = t), t
                }

                function d(e, n, r) {
                    n || (n = t);
                    if (l) return n.createElement(e);
                    r || (r = p(n));
                    var o;
                    return r.cache[e] ? o = r.cache[e].cloneNode() : s.test(e) ? o = (r.cache[e] = r.createElem(e)).cloneNode() : o = r.createElem(e), o.canHaveChildren && !i.test(e) && !o.tagUrn ? r.frag.appendChild(o) : o
                }

                function v(e, n) {
                    e || (e = t);
                    if (l) return e.createDocumentFragment();
                    n = n || p(e);
                    var r = n.frag.cloneNode(),
                        i = 0,
                        s = h(),
                        o = s.length;
                    for (; i < o; i++) r.createElement(s[i]);
                    return r
                }

                function m(e, t) {
                    t.cache || (t.cache = {}, t.createElem = e.createElement, t.createFrag = e.createDocumentFragment, t.frag = t.createFrag()), e.createElement = function(n) {
                        return y.shivMethods ? d(n, e, t) : t.createElem(n)
                    }, e.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + h().join().replace(/[\w\-]+/g, function(e) {
                        return t.createElem(e), t.frag.createElement(e), 'c("' + e + '")'
                    }) + ");return n}")(y, t.frag)
                }

                function g(e) {
                    e || (e = t);
                    var n = p(e);
                    return y.shivCSS && !o && !n.hasCSS && (n.hasCSS = !!c(e, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")), l || m(e, n), e
                }
                var n = "3.7.0",
                    r = e.html5 || {},
                    i = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
                    s = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
                    o, u = "_html5shiv",
                    a = 0,
                    f = {},
                    l;
                (function() {
                    try {
                        var e = t.createElement("a");
                        e.innerHTML = "<xyz></xyz>", o = "hidden" in e, l = e.childNodes.length == 1 || function() {
                            t.createElement("a");
                            var e = t.createDocumentFragment();
                            return typeof e.cloneNode == "undefined" || typeof e.createDocumentFragment == "undefined" || typeof e.createElement == "undefined"
                        }()
                    } catch (n) {
                        o = !0, l = !0
                    }
                })();
                var y = {
                    elements: r.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
                    version: n,
                    shivCSS: r.shivCSS !== !1,
                    supportsUnknownElements: l,
                    shivMethods: r.shivMethods !== !1,
                    type: "default",
                    shivDocument: g,
                    createElement: d,
                    createDocumentFragment: v
                };
                e.html5 = y, g(t)
            }(this, t), i._version = r, i._prefixes = p, i._domPrefixes = m, i._cssomPrefixes = v, i.mq = N, i.hasEvent = C, i.testProp = function(e) {
                return D([e])
            }, i.testAllProps = H, i.testStyles = T, i.prefixed = function(e, t, n) {
                return t ? H(e, t, n) : H(e, "pfx")
            }, o.className = o.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (s ? " js " + E.join(" ") : ""), i
    }(this, this.document),
    function(e, t, n, r) {
        "use strict";

        function l(e) {
            if (typeof e == "string" || e instanceof String) e = e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g, "");
            return e
        }

        function c(e) {
            this.selector = e, this.query = ""
        }
        var i = function(t) {
            var n = e("head");
            n.prepend(e.map(t, function(e) {
                if (n.has("." + e).length === 0) return '<meta class="' + e + '" />'
            }))
        };
        i(["foundation-mq-small", "foundation-mq-small-only", "foundation-mq-medium", "foundation-mq-medium-only", "foundation-mq-large", "foundation-mq-large-only", "foundation-mq-xlarge", "foundation-mq-xlarge-only", "foundation-mq-xxlarge", "foundation-data-attribute-namespace"]), e(function() {
            typeof FastClick != "undefined" && typeof n.body != "undefined" && FastClick.attach(n.body)
        });
        var s = function(t, r) {
                if (typeof t == "string") {
                    if (r) {
                        var i;
                        if (r.jquery) {
                            i = r[0];
                            if (!i) return r
                        } else i = r;
                        return e(i.querySelectorAll(t))
                    }
                    return e(n.querySelectorAll(t))
                }
                return e(t, r)
            },
            o = function(e) {
                var t = [];
                return e || t.push("data"), this.namespace.length > 0 && t.push(this.namespace), t.push(this.name), t.join("-")
            },
            u = function(e) {
                var t = e.split("-"),
                    n = t.length,
                    r = [];
                while (n--) n !== 0 ? r.push(t[n]) : this.namespace.length > 0 ? r.push(this.namespace, t[n]) : r.push(t[n]);
                return r.reverse().join("-")
            },
            a = function(t, n) {
                var r = this,
                    i = function() {
                        var i = s(this),
                            o = !i.data(r.attr_name(!0) + "-init");
                        i.data(r.attr_name(!0) + "-init", e.extend({}, r.settings, n || t, r.data_options(i))), o && r.events(this)
                    };
                s(this.scope).is("[" + this.attr_name() + "]") ? i.call(this.scope) : s("[" + this.attr_name() + "]", this.scope).each(i);
                if (typeof t == "string") return this[t].call(this, n)
            },
            f = function(e, t) {
                function n() {
                    t(e[0])
                }

                function r() {
                    this.one("load", n);
                    if (/MSIE (\d+\.\d+);/.test(navigator.userAgent)) {
                        var e = this.attr("src"),
                            t = e.match(/\?/) ? "&" : "?";
                        t += "random=" + (new Date).getTime(), this.attr("src", e + t)
                    }
                }
                if (!e.attr("src")) {
                    n();
                    return
                }
                e[0].complete || e[0].readyState === 4 ? n() : r.call(e)
            };
        t.matchMedia || (t.matchMedia = function() {
                var e = t.styleMedia || t.media;
                if (!e) {
                    var r = n.createElement("style"),
                        i = n.getElementsByTagName("script")[0],
                        s = null;
                    r.type = "text/css", r.id = "matchmediajs-test", i.parentNode.insertBefore(r, i), s = "getComputedStyle" in t && t.getComputedStyle(r, null) || r.currentStyle, e = {
                        matchMedium: function(e) {
                            var t = "@media " + e + "{ #matchmediajs-test { width: 1px; } }";
                            return r.styleSheet ? r.styleSheet.cssText = t : r.textContent = t, s.width === "1px"
                        }
                    }
                }
                return function(t) {
                    return {
                        matches: e.matchMedium(t || "all"),
                        media: t || "all"
                    }
                }
            }()),
            function(e) {
                function a() {
                    n && (s(a), u && e.fx.tick())
                }
                var n, r = 0,
                    i = ["webkit", "moz"],
                    s = t.requestAnimationFrame,
                    o = t.cancelAnimationFrame,
                    u = "undefined" != typeof e.fx;
                for (; r < i.length && !s; r++) s = t[i[r] + "RequestAnimationFrame"], o = o || t[i[r] + "CancelAnimationFrame"] || t[i[r] + "CancelRequestAnimationFrame"];
                s ? (t.requestAnimationFrame = s, t.cancelAnimationFrame = o, u && (e.fx.timer = function(t) {
                    t() && e.timers.push(t) && !n && (n = !0, a())
                }, e.fx.stop = function() {
                    n = !1
                })) : (t.requestAnimationFrame = function(e) {
                    var n = (new Date).getTime(),
                        i = Math.max(0, 16 - (n - r)),
                        s = t.setTimeout(function() {
                            e(n + i)
                        }, i);
                    return r = n + i, s
                }, t.cancelAnimationFrame = function(e) {
                    clearTimeout(e)
                })
            }(e), c.prototype.toString = function() {
                return this.query || (this.query = s(this.selector).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g, ""))
            }, t.Foundation = {
                name: "Foundation",
                version: "5.5.3",
                media_queries: {
                    small: new c(".foundation-mq-small"),
                    "small-only": new c(".foundation-mq-small-only"),
                    medium: new c(".foundation-mq-medium"),
                    "medium-only": new c(".foundation-mq-medium-only"),
                    large: new c(".foundation-mq-large"),
                    "large-only": new c(".foundation-mq-large-only"),
                    xlarge: new c(".foundation-mq-xlarge"),
                    "xlarge-only": new c(".foundation-mq-xlarge-only"),
                    xxlarge: new c(".foundation-mq-xxlarge")
                },
                stylesheet: e("<style></style>").appendTo("head")[0].sheet,
                global: {
                    namespace: r
                },
                init: function(e, n, r, i, o) {
                    var u = [e, r, i, o],
                        a = [];
                    this.rtl = /rtl/i.test(s("html").attr("dir")), this.scope = e || this.scope, this.set_namespace();
                    if (n && typeof n == "string" && !/reflow/i.test(n)) this.libs.hasOwnProperty(n) && a.push(this.init_lib(n, u));
                    else
                        for (var f in this.libs) a.push(this.init_lib(f, n));
                    return s(t).load(function() {
                        s(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")
                    }), e
                },
                init_lib: function(t, n) {
                    return this.libs.hasOwnProperty(t) ? (this.patch(this.libs[t]), n && n.hasOwnProperty(t) ? (typeof this.libs[t].settings != "undefined" ? e.extend(!0, this.libs[t].settings, n[t]) : typeof this.libs[t].defaults != "undefined" && e.extend(!0, this.libs[t].defaults, n[t]), this.libs[t].init.apply(this.libs[t], [this.scope, n[t]])) : (n = n instanceof Array ? n : new Array(n), this.libs[t].init.apply(this.libs[t], n))) : function() {}
                },
                patch: function(e) {
                    e.scope = this.scope, e.namespace = this.global.namespace, e.rtl = this.rtl, e.data_options = this.utils.data_options, e.attr_name = o, e.add_namespace = u, e.bindings = a, e.S = this.utils.S
                },
                inherit: function(e, t) {
                    var n = t.split(" "),
                        r = n.length;
                    while (r--) this.utils.hasOwnProperty(n[r]) && (e[n[r]] = this.utils[n[r]])
                },
                set_namespace: function() {
                    var t = this.global.namespace === r ? e(".foundation-data-attribute-namespace").css("font-family") : this.global.namespace;
                    this.global.namespace = t === r || /false/i.test(t) ? "" : t
                },
                libs: {},
                utils: {
                    S: s,
                    throttle: function(e, t) {
                        var n = null;
                        return function() {
                            var r = this,
                                i = arguments;
                            n == null && (n = setTimeout(function() {
                                e.apply(r, i), n = null
                            }, t))
                        }
                    },
                    debounce: function(e, t, n) {
                        var r, i;
                        return function() {
                            var s = this,
                                o = arguments,
                                u = function() {
                                    r = null, n || (i = e.apply(s, o))
                                },
                                a = n && !r;
                            return clearTimeout(r), r = setTimeout(u, t), a && (i = e.apply(s, o)), i
                        }
                    },
                    data_options: function(t, n) {
                        function f(e) {
                            return !isNaN(e - 0) && e !== null && e !== "" && e !== !1 && e !== !0
                        }

                        function l(t) {
                            return typeof t == "string" ? e.trim(t) : t
                        }
                        n = n || "options";
                        var r = {},
                            i, s, o, u = function(
                                e) {
                                var t = Foundation.global.namespace;
                                return t.length > 0 ? e.data(t + "-" + n) : e.data(n)
                            },
                            a = u(t);
                        if (typeof a == "object") return a;
                        o = (a || ":").split(";"), i = o.length;
                        while (i--) s = o[i].split(":"), s = [s[0], s.slice(1).join(":")], /true/i.test(s[1]) && (s[1] = !0), /false/i.test(s[1]) && (s[1] = !1), f(s[1]) && (s[1].indexOf(".") === -1 ? s[1] = parseInt(s[1], 10) : s[1] = parseFloat(s[1])), s.length === 2 && s[0].length > 0 && (r[l(s[0])] = l(s[1]));
                        return r
                    },
                    register_media: function(t, n) {
                        Foundation.media_queries[t] === r && (e("head").append('<meta class="' + n + '"/>'), Foundation.media_queries[t] = l(e("." + n).css("font-family")))
                    },
                    add_custom_rule: function(e, t) {
                        if (t === r && Foundation.stylesheet) Foundation.stylesheet.insertRule(e, Foundation.stylesheet.cssRules.length);
                        else {
                            var n = Foundation.media_queries[t];
                            n !== r && Foundation.stylesheet.insertRule("@media " + Foundation.media_queries[t] + "{ " + e + " }", Foundation.stylesheet.cssRules.length)
                        }
                    },
                    image_loaded: function(e, t) {
                        function s(e) {
                            var t = e.length;
                            for (var n = t - 1; n >= 0; n--)
                                if (e.attr("height") === r) return !1;
                            return !0
                        }
                        var n = this,
                            i = e.length;
                        (i === 0 || s(e)) && t(e), e.each(function() {
                            f(n.S(this), function() {
                                i -= 1, i === 0 && t(e)
                            })
                        })
                    },
                    random_str: function() {
                        return this.fidx || (this.fidx = 0), this.prefix = this.prefix || [this.name || "F", (+(new Date)).toString(36)].join("-"), this.prefix + (this.fidx++).toString(36)
                    },
                    match: function(e) {
                        return t.matchMedia(e).matches
                    },
                    is_small_up: function() {
                        return this.match(Foundation.media_queries.small)
                    },
                    is_medium_up: function() {
                        return this.match(Foundation.media_queries.medium)
                    },
                    is_large_up: function() {
                        return this.match(Foundation.media_queries.large)
                    },
                    is_xlarge_up: function() {
                        return this.match(Foundation.media_queries.xlarge)
                    },
                    is_xxlarge_up: function() {
                        return this.match(Foundation.media_queries.xxlarge)
                    },
                    is_small_only: function() {
                        return !this.is_medium_up() && !this.is_large_up() && !this.is_xlarge_up() && !this.is_xxlarge_up()
                    },
                    is_medium_only: function() {
                        return this.is_medium_up() && !this.is_large_up() && !this.is_xlarge_up() && !this.is_xxlarge_up()
                    },
                    is_large_only: function() {
                        return this.is_medium_up() && this.is_large_up() && !this.is_xlarge_up() && !this.is_xxlarge_up()
                    },
                    is_xlarge_only: function() {
                        return this.is_medium_up() && this.is_large_up() && this.is_xlarge_up() && !this.is_xxlarge_up()
                    },
                    is_xxlarge_only: function() {
                        return this.is_medium_up() && this.is_large_up() && this.is_xlarge_up() && this.is_xxlarge_up()
                    }
                }
            }, e.fn.foundation = function() {
                var e = Array.prototype.slice.call(arguments, 0);
                return this.each(function() {
                    return Foundation.init.apply(Foundation, [this].concat(e)), this
                })
            }
    }(jQuery, window, window.document),
    function(e, t, n, r) {
        "use strict";
        Foundation.libs.dropdown = {
            name: "dropdown",
            version: "5.5.3",
            settings: {
                active_class: "open",
                disabled_class: "disabled",
                mega_class: "mega",
                align: "bottom",
                is_hover: !1,
                hover_timeout: 150,
                opened: function() {},
                closed: function() {}
            },
            init: function(t, n, r) {
                Foundation.inherit(this, "throttle"), e.extend(!0, this.settings, n, r), this.bindings(n, r)
            },
            events: function(r) {
                var i = this,
                    s = i.S;
                s(this.scope).off(".dropdown").on("click.fndtn.dropdown", "[" + this.attr_name() + "]", function(t) {
                    var n = s(this).data(i.attr_name(!0) + "-init") || i.settings;
                    if (!n.is_hover || Modernizr.touch) t.preventDefault(), s(this).parent("[data-reveal-id]").length && t.stopPropagation(), i.toggle(e(this))
                }).on("mouseenter.fndtn.dropdown", "[" + this.attr_name() + "], [" + this.attr_name() + "-content]", function(e) {
                    var t = s(this),
                        n, r;
                    clearTimeout(i.timeout), t.data(i.data_attr()) ? (n = s("#" + t.data(i.data_attr())), r = t) : (n = t, r = s("[" + i.attr_name() + '="' + n.attr("id") + '"]'));
                    var o = r.data(i.attr_name(!0) + "-init") || i.settings;
                    s(e.currentTarget).data(i.data_attr()) && o.is_hover && i.closeall.call(i), o.is_hover && i.open.apply(i, [n, r])
                }).on("mouseleave.fndtn.dropdown", "[" + this.attr_name() + "], [" + this.attr_name() + "-content]", function(e) {
                    var t = s(this),
                        n;
                    if (t.data(i.data_attr())) n = t.data(i.data_attr(!0) + "-init") || i.settings;
                    else var r = s("[" + i.attr_name() + '="' + s(this).attr("id") + '"]'),
                        n = r.data(i.attr_name(!0) + "-init") || i.settings;
                    i.timeout = setTimeout(function() {
                        t.data(i.data_attr()) ? n.is_hover && i.close.call(i, s("#" + t.data(i.data_attr()))) : n.is_hover && i.close.call(i, t)
                    }.bind(this), n.hover_timeout)
                }).on("click.fndtn.dropdown", function(t) {
                    var r = s(t.target).closest("[" + i.attr_name() + "-content]"),
                        o = r.find("a");
                    o.length > 0 && r.attr("aria-autoclose") !== "false" && i.close.call(i, s("[" + i.attr_name() + "-content]"));
                    if (t.target !== n && !e.contains(n.documentElement, t.target)) return;
                    if (s(t.target).closest("[" + i.attr_name() + "]").length > 0) return;
                    if (!s(t.target).data("revealId") && r.length > 0 && (s(t.target).is("[" + i.attr_name() + "-content]") || e.contains(r.first()[0], t.target))) {
                        t.stopPropagation();
                        return
                    }
                    i.close.call(i, s("[" + i.attr_name() + "-content]"))
                }).on("opened.fndtn.dropdown", "[" + i.attr_name() + "-content]", function() {
                    i.settings.opened.call(this)
                }).on("closed.fndtn.dropdown", "[" + i.attr_name() + "-content]", function() {
                    i.settings.closed.call(this)
                }), s(t).off(".dropdown").on("resize.fndtn.dropdown", i.throttle(function() {
                    i.resize.call(i)
                }, 50)), this.resize()
            },
            close: function(t) {
                var n = this;
                t.each(function(r) {
                    var i = e("[" + n.attr_name() + "=" + t[r].id + "]") || e("aria-controls=" + t[r].id + "]");
                    i.attr("aria-expanded", "false"), n.S(this).hasClass(n.settings.active_class) && (n.S(this).css(Foundation.rtl ? "right" : "left", "-99999px").attr("aria-hidden", "true").removeClass(n.settings.active_class).prev("[" + n.attr_name() + "]").removeClass(n.settings.active_class).removeData("target"), n.S(this).trigger("closed.fndtn.dropdown", [t]))
                }), t.removeClass("f-open-" + this.attr_name(!0))
            },
            closeall: function() {
                var t = this;
                e.each(t.S(".f-open-" + this.attr_name(!0)), function() {
                    t.close.call(t, t.S(this))
                })
            },
            open: function(e, t) {
                this.css(e.addClass(this.settings.active_class), t), e.prev("[" + this.attr_name() + "]").addClass(this.settings.active_class), e.data("target", t.get(0)).trigger("opened.fndtn.dropdown", [e, t]), e.attr("aria-hidden", "false"), t.attr("aria-expanded", "true"), e.focus(), e.addClass("f-open-" + this.attr_name(!0))
            },
            data_attr: function() {
                return this.namespace.length > 0 ? this.namespace + "-" + this.name : this.name
            },
            toggle: function(e) {
                if (e.hasClass(this.settings.disabled_class)) return;
                var t = this.S("#" + e.data(this.data_attr()));
                if (t.length === 0) return;
                this.close.call(this, this.S("[" + this.attr_name() + "-content]").not(t)), t.hasClass(this.settings.active_class) ? (this.close.call(this, t), t.data("target") !== e.get(0) && this.open.call(this, t, e)) : this.open.call(this, t, e)
            },
            resize: function() {
                var t = this.S("[" + this.attr_name() + "-content].open"),
                    n = e(t.data("target"));
                t.length && n.length && this.css(t, n)
            },
            css: function(e, t) {
                var n = Math.max((t.width() - e.width()) / 2, 8),
                    r = t.data(this.attr_name(!0) + "-init") || this.settings,
                    i = e.parent().css("overflow-y") || e.parent().css("overflow");
                this.clear_idx();
                if (this.small()) {
                    var s = this.dirs.bottom.call(e, t, r);
                    e.attr("style", "").removeClass("drop-left drop-right drop-top").css({
                        position: "absolute",
                        width: "95%",
                        "max-width": "none",
                        top: s.top
                    }), e.css(Foundation.rtl ? "right" : "left", n)
                } else if (i !== "visible") {
                    var o = t[0].offsetTop + t[0].offsetHeight;
                    e.attr("style", "").css({
                        position: "absolute",
                        top: o
                    }), e.css(Foundation.rtl ? "right" : "left", n)
                } else this.style(e, t, r);
                return e
            },
            style: function(t, n, r) {
                var i = e.extend({
                    position: "absolute"
                }, this.dirs[r.align].call(t, n, r));
                t.attr("style", "").css(i)
            },
            dirs: {
                _base: function(e, r) {
                    var i = this.offsetParent(),
                        s = i.offset(),
                        o = e.offset();
                    o.top -= s.top, o.left -= s.left, o.missRight = !1, o.missTop = !1, o.missLeft = !1, o.leftRightFlag = !1;
                    var u, a = t.innerWidth;
                    n.getElementsByClassName("row")[0] ? u = n.getElementsByClassName("row")[0].clientWidth : u = a;
                    var f = (a - u) / 2,
                        l = u;
                    if (!this.hasClass("mega") && !r.ignore_repositioning) {
                        var c = this.outerWidth(),
                            h = e.offset().left;
                        e.offset().top <= this.outerHeight() && (o.missTop = !0, l = a - f, o.leftRightFlag = !0), h + c > h + f && h - f > c && (o.missRight = !0, o.missLeft = !1), h - c <= 0 && (o.missLeft = !0, o.missRight = !1)
                    }
                    return o
                },
                top: function(e, t) {
                    var n = Foundation.libs.dropdown,
                        r = n.dirs._base.call(this, e, t);
                    return this.addClass("drop-top"), r.missTop == 1 && (r.top = r.top + e.outerHeight() + this.outerHeight(), this.removeClass("drop-top")), r.missRight == 1 && (r.left = r.left - this.outerWidth() + e.outerWidth()), (e.outerWidth() < this.outerWidth() || n.small() || this.hasClass(t.mega_menu)) && n.adjust_pip(this, e, t, r), Foundation.rtl ? {
                        left: r.left - this.outerWidth() + e.outerWidth(),
                        top: r.top - this.outerHeight()
                    } : {
                        left: r.left,
                        top: r.top - this.outerHeight()
                    }
                },
                bottom: function(e, t) {
                    var n = Foundation.libs.dropdown,
                        r = n.dirs._base.call(this, e, t);
                    return r.missRight == 1 && (r.left = r.left - this.outerWidth() + e.outerWidth()), (e.outerWidth() < this.outerWidth() || n.small() || this.hasClass(t.mega_menu)) && n.adjust_pip(this, e, t, r), n.rtl ? {
                        left: r.left - this.outerWidth() + e.outerWidth(),
                        top: r.top + e.outerHeight()
                    } : {
                        left: r.left,
                        top: r.top + e.outerHeight()
                    }
                },
                left: function(e, t) {
                    var n = Foundation.libs.dropdown.dirs._base.call(this, e, t);
                    return this.addClass("drop-left"), n.missLeft == 1 && (n.left = n.left + this.outerWidth(), n.top = n.top + e.outerHeight(), this.removeClass("drop-left")), {
                        left: n.left - this.outerWidth(),
                        top: n.top
                    }
                },
                right: function(e, t) {
                    var n = Foundation.libs.dropdown.dirs._base.call(this, e, t);
                    this.addClass("drop-right"), n.missRight == 1 ? (n.left = n.left - this.outerWidth(), n.top = n.top + e.outerHeight(), this.removeClass("drop-right")) : n.triggeredRight = !0;
                    var r = Foundation.libs.dropdown;
                    return (e.outerWidth() < this.outerWidth() || r.small() || this.hasClass(t.mega_menu)) && r.adjust_pip(this, e, t, n), {
                        left: n.left + e.outerWidth(),
                        top: n.top
                    }
                }
            },
            adjust_pip: function(e, t, n, r) {
                var i = Foundation.stylesheet,
                    s = 8;
                e.hasClass(n.mega_class) ? s = r.left + t.outerWidth() / 2 - 8 : this.small() && (s += r.left - 8), this.rule_idx = i.cssRules.length;
                var o = ".f-dropdown.open:before",
                    u = ".f-dropdown.open:after",
                    a = "left: " + s + "px;",
                    f = "left: " + (s - 1) + "px;";
                r.missRight == 1 && (s = e.outerWidth() - 23, o = ".f-dropdown.open:before", u = ".f-dropdown.open:after", a = "left: " + s + "px;", f = "left: " + (s - 1) + "px;"), r.triggeredRight == 1 && (o = ".f-dropdown.open:before", u = ".f-dropdown.open:after", a = "left:-12px;", f = "left:-14px;"), i.insertRule ? (i.insertRule([o, "{", a, "}"].join(" "), this.rule_idx), i.insertRule([u, "{", f, "}"].join(" "), this.rule_idx + 1)) : (i.addRule(o, a, this.rule_idx), i.addRule(u, f, this.rule_idx + 1))
            },
            clear_idx: function() {
                var e = Foundation.stylesheet;
                typeof this.rule_idx != "undefined" && (e.deleteRule(this.rule_idx), e.deleteRule(this.rule_idx), delete this.rule_idx)
            },
            small: function() {
                return matchMedia(Foundation.media_queries.small).matches && !matchMedia(Foundation.media_queries.medium).matches
            },
            off: function() {
                this.S(this.scope).off(".fndtn.dropdown"), this.S("html, body").off(".fndtn.dropdown"), this.S(t).off(".fndtn.dropdown"), this.S("[data-dropdown-content]").off(".fndtn.dropdown")
            },
            reflow: function() {}
        }
    }(jQuery, window, window.document),
    function(e, t, n, r) {
        "use strict";

        function s(e) {
            var t = /fade/i.test(e),
                n = /pop/i.test(e);
            return {
                animate: t || n,
                pop: n,
                fade: t
            }
        }
        var i = [];
        Foundation.libs.reveal = {
            name: "reveal",
            version: "5.5.3",
            locked: !1,
            settings: {
                animation: "fadeAndPop",
                animation_speed: 250,
                close_on_background_click: !0,
                close_on_esc: !0,
                dismiss_modal_class: "close-reveal-modal",
                multiple_opened: !1,
                bg_class: "reveal-modal-bg",
                root_element: "body",
                open: function() {},
                opened: function() {},
                close: function() {},
                closed: function() {},
                on_ajax_error: e.noop,
                bg: e(".reveal-modal-bg"),
                css: {
                    open: {
                        opacity: 0,
                        visibility: "visible",
                        display: "block"
                    },
                    close: {
                        opacity: 1,
                        visibility: "hidden",
                        display: "none"
                    }
                }
            },
            init: function(t, n, r) {
                e.extend(!0, this.settings, n, r), this.bindings(n, r)
            },
            events: function(e) {
                var t = this,
                    r = t.S;
                return r(this.scope).off(".reveal").on("click.fndtn.reveal", "[" + this.add_namespace("data-reveal-id") + "]:not([disabled])", function(e) {
                    e.preventDefault();
                    if (!t.locked) {
                        var n = r(this),
                            i = n.data(t.data_attr("reveal-ajax")),
                            s = n.data(t.data_attr("reveal-replace-content"));
                        t.locked = !0;
                        if (typeof i == "undefined") t.open.call(t, n);
                        else {
                            var o = i === !0 ? n.attr("href") : i;
                            t.open.call(t, n, {
                                url: o
                            }, {
                                replaceContentSel: s
                            })
                        }
                    }
                }), r(n).on("click.fndtn.reveal", this.close_targets(), function(e) {
                    e.preventDefault();
                    if (!t.locked) {
                        var n = r("[" + t.attr_name() + "].open").data(t.attr_name(!0) + "-init") || t.settings,
                            i = r(e.target)[0] === r("." + n.bg_class)[0];
                        if (i) {
                            if (!n.close_on_background_click) return;
                            e.stopPropagation()
                        }
                        t.locked = !0, t.close.call(t, i ? r("[" + t.attr_name() + "].open:not(.toback)") : r(this).closest("[" + t.attr_name() + "]"))
                    }
                }), r("[" + t.attr_name() + "]", this.scope).length > 0 ? r(this.scope).on("open.fndtn.reveal", this.settings.open).on("opened.fndtn.reveal", this.settings.opened).on("opened.fndtn.reveal", this.open_video).on("close.fndtn.reveal", this.settings.close).on("closed.fndtn.reveal", this.settings.closed).on("closed.fndtn.reveal", this.close_video) : r(this.scope).on("open.fndtn.reveal", "[" + t.attr_name() + "]", this.settings.open).on("opened.fndtn.reveal", "[" + t.attr_name() + "]", this.settings.opened).on("opened.fndtn.reveal", "[" + t.attr_name() + "]", this.open_video).on("close.fndtn.reveal", "[" + t.attr_name() + "]", this.settings.close).on("closed.fndtn.reveal", "[" + t.attr_name() + "]", this.settings.closed).on("closed.fndtn.reveal", "[" + t.attr_name() + "]", this.close_video), !0
            },
            key_up_on: function(e) {
                var t = this;
                return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal", function(e) {
                    var n = t.S("[" + t.attr_name() + "].open"),
                        r = n.data(t.attr_name(!0) + "-init") || t.settings;
                    r && e.which === 27 && r.close_on_esc && !t.locked && t.close.call(t, n)
                }), !0
            },
            key_up_off: function(e) {
                return this.S("body").off("keyup.fndtn.reveal"), !0
            },
            open: function(n, s) {
                var o = this,
                    u;
                n ? typeof n.selector != "undefined" ? u = o.S("#" + n.data(o.data_attr("reveal-id"))).first() : (u = o.S(this.scope), s = n) : u = o.S(this.scope);
                var a = u.data(o.attr_name(!0) + "-init");
                a = a || this.settings;
                if (u.hasClass("open") && n !== r && n.attr("data-reveal-id") == u.attr("id")) return o.close(u);
                if (!u.hasClass("open")) {
                    var f = o.S("[" + o.attr_name() + "].open");
                    typeof u.data("css-top") == "undefined" && u.data("css-top", parseInt(u.css("top"), 10)).data("offset", this.cache_offset(u)), u.attr("tabindex", "0").attr("aria-hidden", "false"), this.key_up_on(u), u.on("open.fndtn.reveal", function(e) {
                        if (e.namespace !== "fndtn.reveal") return
                    }), u.on("open.fndtn.reveal").trigger("open.fndtn.reveal"), f.length < 1 && this.toggle_bg(u, !0), typeof s == "string" && (s = {
                        url: s
                    });
                    var l = function() {
                        f.length > 0 && (a.multiple_opened ? o.to_back(f) : o.hide(f, a.css.close)), a.multiple_opened && i.push(u), o.show(u, a.css.open)
                    };
                    if (typeof s == "undefined" || !s.url) l();
                    else {
                        var c = typeof s.success != "undefined" ? s.success : null;
                        e.extend(s, {
                            success: function(t, n, r) {
                                if (e.isFunction(c)) {
                                    var i = c(t, n, r);
                                    typeof i == "string" && (t = i)
                                }
                                typeof options != "undefined" && typeof options.replaceContentSel != "undefined" ? u.find(options.replaceContentSel).html(t) : u.html(t), o.S(u).foundation("section", "reflow"), o.S(u).children().foundation(), l()
                            }
                        }), a.on_ajax_error !== e.noop && e.extend(s, {
                            error: a.on_ajax_error
                        }), e.ajax(s)
                    }
                }
                o.S(t).trigger("resize")
            },
            close: function(t) {
                var t = t && t.length ? t : this.S(this.scope),
                    n = this.S("[" + this.attr_name() + "].open"),
                    r = t.data(this.attr_name(!0) + "-init") || this.settings,
                    s = this;
                if (n.length > 0) {
                    t.removeAttr("tabindex", "0").attr("aria-hidden", "true"), this.locked = !0, this.key_up_off(t), t.trigger("close.fndtn.reveal");
                    if (r.multiple_opened && n.length === 1 || !r.multiple_opened || t.length > 1) s.toggle_bg(t, !1), s.to_front(t);
                    if (r.multiple_opened) {
                        var o = t.is(":not(.toback)");
                        s.hide(t, r.css.close, r), o ? i.pop() : i = e.grep(i, function(e) {
                            var n = e[0] === t[0];
                            return n && s.to_front(t), !n
                        }), i.length > 0 && s.to_front(i[i.length - 1])
                    } else s.hide(n, r.css.close, r)
                }
            },
            close_targets: function() {
                var e = "." + this.settings.dismiss_modal_class;
                return this.settings.close_on_background_click ? e + ", ." + this.settings.bg_class : e
            },
            toggle_bg: function(t, n) {
                this.S("." + this.settings.bg_class).length === 0 && (this.settings.bg = e("<div />", {
                    "class": this.settings.bg_class
                }).appendTo("body").hide());
                var i = this.settings.bg.filter(":visible").length > 0;
                n != i && ((n == r ? i : !n) ? this.hide(this.settings.bg) : this.show(this.settings.bg))
            },
            show: function(n, r) {
                if (r) {
                    var i = n.data(this.attr_name(!0) + "-init") || this.settings,
                        o = i.root_element,
                        u = this;
                    if (n.parent(o).length === 0) {
                        var a = n.wrap('<div style="display: none;" />').parent();
                        n.on("closed.fndtn.reveal.wrapped", function() {
                            n.detach().appendTo(a), n.unwrap().unbind("closed.fndtn.reveal.wrapped")
                        }), n.detach().appendTo(o)
                    }
                    var f = s(i.animation);
                    f.animate || (this.locked = !1);
                    if (f.pop) {
                        r.top = e(t).scrollTop() - n.data("offset") + "px";
                        var l = {
                            top: e(t).scrollTop() + n.data("css-top") + "px",
                            opacity: 1
                        };
                        return setTimeout(function() {
                            return n.css(r).animate(l, i.animation_speed, "linear", function() {
                                u.locked = !1, n.trigger("opened.fndtn.reveal")
                            }).addClass("open")
                        }, i.animation_speed / 2)
                    }
                    r.top = e(t).scrollTop() + n.data("css-top") + "px";
                    if (f.fade) {
                        var l = {
                            opacity: 1
                        };
                        return setTimeout(function() {
                            return n.css(r).animate(l, i.animation_speed, "linear", function() {
                                u.locked = !1, n.trigger("opened.fndtn.reveal")
                            }).addClass("open")
                        }, i.animation_speed / 2)
                    }
                    return n.css(r).show().css({
                        opacity: 1
                    }).addClass("open").trigger("opened.fndtn.reveal")
                }
                var i = this.settings;
                return s(i.animation).fade ? n.fadeIn(i.animation_speed / 2) : (this.locked = !1, n.show())
            },
            to_back: function(e) {
                e.addClass("toback")
            },
            to_front: function(e) {
                e.removeClass("toback")
            },
            hide: function(n, r) {
                if (r) {
                    var i = n.data(this.attr_name(!0) + "-init"),
                        o = this;
                    i = i || this.settings;
                    var u = s(i.animation);
                    u.animate || (this.locked = !1);
                    if (u.pop) {
                        var a = {
                            top: -e(t).scrollTop() - n.data("offset") + "px",
                            opacity: 0
                        };
                        return setTimeout(function() {
                            return n.animate(a, i.animation_speed, "linear", function() {
                                o.locked = !1, n.css(r).trigger("closed.fndtn.reveal")
                            }).removeClass("open")
                        }, i.animation_speed / 2)
                    }
                    if (u.fade) {
                        var a = {
                            opacity: 0
                        };
                        return setTimeout(function() {
                            return n.animate(a, i.animation_speed, "linear", function() {
                                o.locked = !1, n.css(r).trigger("closed.fndtn.reveal")
                            }).removeClass("open")
                        }, i.animation_speed / 2)
                    }
                    return n.hide().css(r).removeClass("open").trigger("closed.fndtn.reveal")
                }
                var i = this.settings;
                return s(i.animation).fade ? n.fadeOut(i.animation_speed / 2) : n.hide()
            },
            close_video: function(t) {
                var n = e(".flex-video", t.target),
                    r = e("iframe", n);
                r.length > 0 && (r.attr("data-src", r[0].src), r.attr("src", r.attr("src")), n.hide())
            },
            open_video: function(t) {
                var n = e(".flex-video", t.target),
                    i = n.find("iframe");
                if (i.length > 0) {
                    var s = i.attr("data-src");
                    if (typeof s == "string") i[0].src = i.attr("data-src");
                    else {
                        var o = i[0].src;
                        i[0].src = r, i[0].src = o
                    }
                    n.show()
                }
            },
            data_attr: function(e) {
                return this.namespace.length > 0 ? this.namespace + "-" + e : e
            },
            cache_offset: function(e) {
                var t = e.show().height() + parseInt(e.css("top"), 10) + e.scrollY;
                return e.hide(), t
            },
            off: function() {
                e(this.scope).off(".fndtn.reveal")
            },
            reflow: function() {}
        }
    }(jQuery, window, window.document),
    function(e, t, n, r) {
        "use strict";
        Foundation.libs.topbar = {
            name: "topbar",
            version: "5.5.3",
            settings: {
                index: 0,
                start_offset: 0,
                sticky_class: "sticky",
                custom_back_text: !0,
                back_text: "Back",
                mobile_show_parent_link: !0,
                is_hover: !0,
                scrolltop: !0,
                sticky_on: "all",
                dropdown_autoclose: !0
            },
            init: function(t, n, r) {
                Foundation.inherit(this, "add_custom_rule register_media throttle");
                var i = this;
                i.register_media("topbar", "foundation-mq-topbar"), this.bindings(n, r), i.S("[" + this.attr_name() + "]", this.scope).each(function() {
                    var t = e(this),
                        n = t.data(i.attr_name(!0) + "-init"),
                        r = i.S("section, .top-bar-section", this);
                    t.data("index", 0);
                    var s = t.parent();
                    s.hasClass("fixed") || i.is_sticky(t, s, n) ? (i.settings.sticky_class = n.sticky_class, i.settings.sticky_topbar = t, t.data("height", s.outerHeight()), t.data("stickyoffset", s.offset().top)) : t.data("height", t.outerHeight()), n.assembled || i.assemble(t), n.is_hover ? i.S(".has-dropdown", t).addClass("not-click") : i.S(".has-dropdown", t).removeClass("not-click"), i.add_custom_rule(".f-topbar-fixed { padding-top: " + t.data("height") + "px }"), s.hasClass("fixed") && i.S("body").addClass("f-topbar-fixed")
                })
            },
            is_sticky: function(e, t, n) {
                var r = t.hasClass(n.sticky_class),
                    i = matchMedia(Foundation.media_queries.small).matches,
                    s = matchMedia(Foundation.media_queries.medium).matches,
                    o = matchMedia(Foundation.media_queries.large).matches;
                return r && n.sticky_on === "all" ? !0 : r && this.small() && n.sticky_on.indexOf("small") !== -1 && i && !s && !o ? !0 : r && this.medium() && n.sticky_on.indexOf("medium") !== -1 && i && s && !o ? !0 : r && this.large() && n.sticky_on.indexOf("large") !== -1 && i && s && o ? !0 : !1
            },
            toggle: function(n) {
                var r = this,
                    i;
                n ? i = r.S(n).closest("[" + this.attr_name() + "]") : i = r.S("[" + this.attr_name() + "]");
                var s = i.data(this.attr_name(!0) + "-init"),
                    o = r.S("section, .top-bar-section", i);
                r.breakpoint() && (r.rtl ? (o.css({
                    right: "0%"
                }), e(">.name", o).css({
                    right: "100%"
                })) : (o.css({
                    left: "0%"
                }), e(">.name", o).css({
                    left: "100%"
                })), r.S("li.moved", o).removeClass("moved"), i.data("index", 0), i.toggleClass("expanded").css("height", "")), s.scrolltop ? i.hasClass("expanded") ? i.parent().hasClass("fixed") && (s.scrolltop ? (i.parent().removeClass("fixed"), i.addClass("fixed"), r.S("body").removeClass("f-topbar-fixed"), t.scrollTo(0, 0)) : i.parent().removeClass("expanded")) : i.hasClass("fixed") && (i.parent().addClass("fixed"), i.removeClass("fixed"), r.S("body").addClass("f-topbar-fixed")) : (r.is_sticky(i, i.parent(), s) && i.parent().addClass("fixed"), i.parent().hasClass("fixed") && (i.hasClass("expanded") ? (i.addClass("fixed"), i.parent().addClass("expanded"), r.S("body").addClass("f-topbar-fixed")) : (i.removeClass("fixed"), i.parent().removeClass("expanded"), r.update_sticky_positioning())))
            },
            timer: null,
            events: function(n) {
                var r = this,
                    i = this.S;
                i(this.scope).off(".topbar").on("click.fndtn.topbar", "[" + this.attr_name() + "] .toggle-topbar", function(e) {
                    e.preventDefault(), r.toggle(this)
                }).on("click.fndtn.topbar contextmenu.fndtn.topbar", '.top-bar .top-bar-section li a[href^="#"],[' + this.attr_name() + '] .top-bar-section li a[href^="#"]', function(t) {
                    var n = e(this).closest("li"),
                        i = n.closest("[" + r.attr_name() + "]"),
                        s = i.data(r.attr_name(!0) + "-init");
                    if (s.dropdown_autoclose && s.is_hover) {
                        var o = e(this).closest(".hover");
                        o.removeClass("hover")
                    }
                    r.breakpoint() && !n.hasClass("back") && !n.hasClass("has-dropdown") && r.toggle()
                }).on("click.fndtn.topbar", "[" + this.attr_name() + "] li.has-dropdown", function(t) {
                    var n = i(this),
                        s = i(t.target),
                        o = n.closest("[" + r.attr_name() + "]"),
                        u = o.data(r.attr_name(!0) + "-init");
                    if (s.data("revealId")) {
                        r.toggle();
                        return
                    }
                    if (r.breakpoint()) return;
                    if (u.is_hover && !Modernizr.touch) return;
                    t.stopImmediatePropagation(), n.hasClass("hover") ? (n.removeClass("hover").find("li").removeClass("hover"), n.parents("li.hover").removeClass("hover")) : (n.addClass("hover"), e(n).siblings().removeClass("hover"), s[0].nodeName === "A" && s.parent().hasClass("has-dropdown") && t.preventDefault())
                }).on("click.fndtn.topbar", "[" + this.attr_name() + "] .has-dropdown>a", function(e) {
                    if (r.breakpoint()) {
                        e.preventDefault();
                        var t = i(this),
                            n = t.closest("[" + r.attr_name() + "]"),
                            s = n.find("section, .top-bar-section"),
                            o = t.next(".dropdown").outerHeight(),
                            u = t.closest("li");
                        n.data("index", n.data("index") + 1), u.addClass("moved"), r.rtl ? (s.css({
                            right: -(100 * n.data("index")) + "%"
                        }), s.find(">.name").css({
                            right: 100 * n.data("index") + "%"
                        })) : (s.css({
                            left: -(100 * n.data("index")) + "%"
                        }), s.find(">.name").css({
                            left: 100 * n.data("index") + "%"
                        })), n.css("height", t.siblings("ul").outerHeight(!0) + n.data("height"))
                    }
                }), i(t).off(".topbar").on("resize.fndtn.topbar", r.throttle(function() {
                    r.resize.call(r)
                }, 50)).trigger("resize.fndtn.topbar").load(function() {
                    i(this).trigger("resize.fndtn.topbar")
                }), i("body").off(".topbar").on("click.fndtn.topbar", function(e) {
                    var t = i(e.target).closest("li").closest("li.hover");
                    if (t.length > 0) return;
                    i("[" + r.attr_name() + "] li.hover").removeClass("hover")
                }), i(this.scope).on("click.fndtn.topbar", "[" + this.attr_name() + "] .has-dropdown .back", function(e) {
                    e.preventDefault();
                    var t = i(this),
                        n = t.closest("[" + r.attr_name() + "]"),
                        s = n.find("section, .top-bar-section"),
                        o = n.data(r.attr_name(!0) + "-init"),
                        u = t.closest("li.moved"),
                        a = u.parent();
                    n.data("index", n.data("index") - 1), r.rtl ? (s.css({
                        right: -(100 * n.data("index")) + "%"
                    }), s.find(">.name").css({
                        right: 100 * n.data("index") + "%"
                    })) : (s.css({
                        left: -(100 * n.data("index")) + "%"
                    }), s.find(">.name").css({
                        left: 100 * n.data("index") + "%"
                    })), n.data("index") === 0 ? n.css("height", "") : n.css("height", a.outerHeight(!0) + n.data("height")), setTimeout(function() {
                        u.removeClass("moved")
                    }, 300)
                }), i(this.scope).find(".dropdown a").focus(function() {
                    e(this).parents(".has-dropdown").addClass("hover")
                }).blur(function() {
                    e(this).parents(".has-dropdown").removeClass("hover")
                })
            },
            resize: function() {
                var e = this;
                e.S("[" + this.attr_name() + "]").each(function() {
                    var t = e.S(this),
                        r = t.data(e.attr_name(!0) + "-init"),
                        i = t.parent("." + e.settings.sticky_class),
                        s;
                    if (!e.breakpoint()) {
                        var o = t.hasClass("expanded");
                        t.css("height", "").removeClass("expanded").find("li").removeClass("hover"), o && e.toggle(t)
                    }
                    e.is_sticky(t, i, r) && (i.hasClass("fixed") ? (i.removeClass("fixed"), s = i.offset().top, e.S(n.body).hasClass("f-topbar-fixed") && (s -= t.data("height")), t.data("stickyoffset", s), i.addClass("fixed")) : (s = i.offset().top, t.data("stickyoffset", s)))
                })
            },
            breakpoint: function() {
                return !matchMedia(Foundation.media_queries.topbar).matches
            },
            small: function() {
                return matchMedia(Foundation.media_queries.small).matches
            },
            medium: function() {
                return matchMedia(Foundation.media_queries.medium).matches
            },
            large: function() {
                return matchMedia(Foundation.media_queries.large).matches
            },
            assemble: function(t) {
                var n = this,
                    r = t.data(this.attr_name(!0) + "-init"),
                    i = n.S("section, .top-bar-section", t);
                i.detach(), n.S(".has-dropdown>a", i).each(function() {
                    var t = n.S(this),
                        i = t.siblings(".dropdown"),
                        s = t.attr("href"),
                        o;
                    i.find(".title.back").length || (r.mobile_show_parent_link == 1 && s ? o = e('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="' + s + '">' + t.html() + "</a></li>") : o = e('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'), r.custom_back_text == 1 ? e("h5>a", o).html(r.back_text) : e("h5>a", o).html("&laquo; " + t.html()), i.prepend(o))
                }), i.appendTo(t), this.sticky(), this.assembled(t)
            },
            assembled: function(t) {
                t.data(this.attr_name(!0), e.extend({}, t.data(this.attr_name(!0)), {
                    assembled: !0
                }))
            },
            height: function(t) {
                var n = 0,
                    r = this;
                return e("> li", t).each(function() {
                    n += r.S(this).outerHeight(!0)
                }), n
            },
            sticky: function() {
                var e = this;
                this.S(t).on("scroll", function() {
                    e.update_sticky_positioning()
                })
            },
            update_sticky_positioning: function() {
                var e = "." + this.settings.sticky_class,
                    n = this.S(t),
                    r = this;
                if (r.settings.sticky_topbar && r.is_sticky(this.settings.sticky_topbar, this.settings.sticky_topbar.parent(), this.settings)) {
                    var i = this.settings.sticky_topbar.data("stickyoffset") + this.settings.start_offset;
                    r.S(e).hasClass("expanded") || (n.scrollTop() > i ? r.S(e).hasClass("fixed") || (r.S(e).addClass("fixed"), r.S("body").addClass("f-topbar-fixed")) : n.scrollTop() <= i && r.S(e).hasClass("fixed") && (r.S(e).removeClass("fixed"), r.S("body").removeClass("f-topbar-fixed")))
                }
            },
            off: function() {
                this.S(this.scope).off(".fndtn.topbar"), this.S(t).off(".fndtn.topbar")
            },
            reflow: function() {}
        }
    }(jQuery, window, window.document),
    function(e) {
        e.fn.foundationSelect = function() {
            if (!e(".custom-dropdown-area").length) return this.each(function() {
                selectPrompt = "", selected = "", translateClasses = "", select = e(this), selectId = select.attr("id"), multiple = !1, multiple = select.prop("multiple") ? !0 : !1, options = "", select.data("prompt") ? selectPrompt = '<span class="default-label">' + select.data("prompt") + "</span>" : selectPrompt = "Choose...", select.find("option").each(function() {
                    e(this).attr("selected") && (selected = "selected", selectPrompt = "<div class='" + e(this).attr("class") + "'>" + e(this).html() + "</div>"), e(this).attr("class") && (translateClasses = e(this).attr("class") + " "), disabledOption = e(this).is(":disabled") ? "disabled" : "", options += '<li data-value="' + this.value + '" class="' + translateClasses + selected + disabledOption + '"><span class="option-title">' + e(this).html() + "</span></li>", selected = ""
                }), disabledSelect = e(this).is(":disabled") ? "disabled" : "", newButton = '<div class="custom-dropdown-area" data-orig-select="#' + selectId + '"' + '><a href="#" data-dropdown="select-' + selectId + '" class="custom-dropdown-button ' + disabledSelect + '">' + selectPrompt + '</a>         <ul id="select-' + selectId + '" class="f-dropdown custom-dropdown-options" data-dropdown-content>           ' + options + "         </ul></div>", select.hide(), select.after(newButton)
            })
        }, e(document).on("click", ".custom-dropdown-area li", function() {
            if (e(this).hasClass("disabled")) return NScout.SubscribePopup.show(), !1;
            dropdown = e(this).closest(".custom-dropdown-area"), value = e(this).data("value"), tag = value == "" ? "span" : "div", text = "<" + tag + " class='" + e(this).attr("class") + "'>" + e(this).find(".option-title").html() + "</" + tag + ">", totalOptions = dropdown.find("li").not(".disabled").length, origDropdown = e(dropdown.data("orig-select")), prompt = origDropdown.data("prompt") ? origDropdown.data("prompt") : "Choose...", dropdown.find("li").removeClass("selected"), Foundation.libs.dropdown.close(e("#" + dropdown.find("ul").attr("id"))), origDropdown.val(value).change(), e(this).toggleClass("selected"), dropdown.find(".custom-dropdown-button").html(text)
        }), e(document).on("reset", "form", function() {
            e(this).children(".custom-dropdown-area").length && e(this).find(".custom-dropdown-area").each(function() {
                origDropdown = e(e(this).data("orig-select")), dropdown = e(this), multiple = dropdown.data("multiple") ? !0 : !1, dropdown.find("li").removeClass("selected"), origDropdown.data("prompt") ? prompt = origDropdown.data("prompt") : origDropdown.find("option").each(function() {
                    e(this).attr("selected") && (prompt = e(this).html(), dropdown.find('li[data-value="' + this.value + '"]').addClass("selected"))
                }), dropdown.find(".custom-dropdown-button").html(prompt)
            })
        })
    }(jQuery);
if (!jQuery.browser) {
    var uaMatch = function(e) {
        e = e.toLowerCase();
        var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
        return {
            browser: t[1] || "",
            version: t[2] || "0"
        }
    };
    matched = uaMatch(navigator.userAgent), browser = {}, matched.browser && (browser[matched.browser] = !0, browser.version = matched.version), browser.chrome ? browser.webkit = !0 : browser.webkit && (browser.safari = !0), jQuery.browser = browser
}(function(e) {
    var t, n, r, i, s, o, u, a, f, l, c = 0,
        h = {},
        p = [],
        d = 0,
        v = {},
        m = [],
        g = null,
        y = new Image,
        b = /\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,
        w = /[^\.]\.(swf)\s*$/i,
        E, S = 1,
        x = 0,
        T = "",
        N, C, k = !1,
        L = e.extend(e("<div/>")[0], {
            prop: 0
        }),
        A = e.browser.msie && e.browser.version < 7 && !window.XMLHttpRequest,
        O = function() {
            n.hide(), y.onerror = y.onload = null, g && g.abort(), t.empty()
        },
        M = function() {
            if (!1 === h.onError(p, c, h)) {
                n.hide(), k = !1;
                return
            }
            h.titleShow = !1, h.width = "auto", h.height = "auto", t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'), D()
        },
        _ = function() {
            var r = p[c],
                i, s, u, a, f, l;
            O(), h = e.extend({}, e.fn.fancybox.defaults, typeof e(r).data("fancybox") == "undefined" ? h : e(r).data("fancybox")), l = h.onStart(p, c, h);
            if (l === !1) {
                k = !1;
                return
            }
            typeof l == "object" && (h = e.extend(h, l)), u = h.title || (r.nodeName ? e(r).attr("title") : r.title) || "", r.nodeName && !h.orig && (h.orig = e(r).children("img:first").length ? e(r).children("img:first") : e(r)), u === "" && h.orig && h.titleFromAlt && (u = h.orig.attr("alt")), i = h.href || (r.nodeName ? e(r).attr("href") : r.href) || null;
            if (/^(?:javascript)/i.test(i) || i == "#") i = null;
            h.type ? (s = h.type, i || (i = h.content)) : h.content ? s = "html" : i && (i.match(b) ? s = "image" : i.match(w) ? s = "swf" : e(r).hasClass("iframe") ? s = "iframe" : i.indexOf("#") === 0 ? s = "inline" : s = "ajax");
            if (!s) {
                M();
                return
            }
            s == "inline" && (r = i.substr(i.indexOf("#")), s = e(r).length > 0 ? "inline" : "ajax"), h.type = s, h.href = i, h.title = u, h.autoDimensions && (h.type == "html" || h.type == "inline" || h.type == "ajax" ? (h.width = "auto", h.height = "auto") : h.autoDimensions = !1), h.modal && (h.overlayShow = !0, h.hideOnOverlayClick = !1, h.hideOnContentClick = !1, h.enableEscapeButton = !1, h.showCloseButton = !1), h.padding = parseInt(h.padding, 10), h.margin = parseInt(h.margin, 10), t.css("padding", h.padding + h.margin), e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change", function() {
                e(this).replaceWith(o.children())
            });
            switch (s) {
                case "html":
                    t.html(h.content), D();
                    break;
                case "inline":
                    if (e(r).parent().is("#fancybox-content") === !0) {
                        k = !1;
                        return
                    }
                    e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(r)).bind("fancybox-cleanup", function() {
                        e(this).replaceWith(o.children())
                    }).bind("fancybox-cancel", function() {
                        e(this).replaceWith(t.children())
                    }), e(r).appendTo(t), D();
                    break;
                case "image":
                    k = !1, e.fancybox.showActivity(), y = new Image, y.onerror = function() {
                        M()
                    }, y.onload = function() {
                        k = !0, y.onerror = y.onload = null, P()
                    }, y.src = i;
                    break;
                case "swf":
                    h.scrolling = "no", a = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="' + h.width + '" height="' + h.height + '"><param name="movie" value="' + i + '"></param>', f = "", e.each(h.swf, function(e, t) {
                        a += '<param name="' + e + '" value="' + t + '"></param>', f += " " + e + '="' + t + '"'
                    }), a += '<embed src="' + i + '" type="application/x-shockwave-flash" width="' + h.width + '" height="' + h.height + '"' + f + "></embed></object>", t.html(a), D();
                    break;
                case "ajax":
                    k = !1, e.fancybox.showActivity(), h.ajax.win = h.ajax.success, g = e.ajax(e.extend({}, h.ajax, {
                        url: i,
                        data: h.ajax.data || {},
                        error: function(e, t, n) {
                            e.status > 0 && M()
                        },
                        success: function(e, r, s) {
                            var o = typeof s == "object" ? s : g;
                            if (o.status == 200) {
                                if (typeof h.ajax.win == "function") {
                                    l = h.ajax.win(i, e, r, s);
                                    if (l === !1) {
                                        n.hide();
                                        return
                                    }
                                    if (typeof l == "string" || typeof l == "object") e = l
                                }
                                t.html(e), D()
                            }
                        }
                    }));
                    break;
                case "iframe":
                    H()
            }
        },
        D = function() {
            var n = h.width,
                r = h.height;
            n.toString().indexOf("%") > -1 ? n = parseInt((e(window).width() - h.margin * 2) * parseFloat(n) / 100, 10) + "px" :
                n = n == "auto" ? "auto" : n + "px", r.toString().indexOf("%") > -1 ? r = parseInt((e(window).height() - h.margin * 2) * parseFloat(r) / 100, 10) + "px" : r = r == "auto" ? "auto" : r + "px", t.wrapInner('<div style="width:' + n + ";height:" + r + ";overflow: " + (h.scrolling == "auto" ? "auto" : h.scrolling == "yes" ? "scroll" : "hidden") + ';position:relative;"></div>'), h.width = t.width(), h.height = t.height(), H()
        },
        P = function() {
            h.width = y.width, h.height = y.height, e("<img />").attr({
                id: "fancybox-img",
                src: y.src,
                alt: h.title
            }).appendTo(t), H()
        },
        H = function() {
            var s, g;
            n.hide();
            if (i.is(":visible") && !1 === v.onCleanup(m, d, v)) {
                e.event.trigger("fancybox-cancel"), k = !1;
                return
            }
            k = !0, e(o.add(r)).unbind(), e(window).unbind("resize.fb scroll.fb"), e(document).unbind("keydown.fb"), i.is(":visible") && v.titlePosition !== "outside" && i.css("height", i.height()), m = p, d = c, v = h, v.overlayShow ? (r.css({
                "background-color": v.overlayColor,
                opacity: v.overlayOpacity,
                cursor: v.hideOnOverlayClick ? "pointer" : "auto",
                height: e(document).height()
            }), r.is(":visible") || (A && e("select:not(#fancybox-tmp select)").filter(function() {
                return this.style.visibility !== "hidden"
            }).css({
                visibility: "hidden"
            }).one("fancybox-cleanup", function() {
                this.style.visibility = "inherit"
            }), r.show())) : r.hide(), C = z(), j();
            if (i.is(":visible")) {
                e(u.add(f).add(l)).hide(), s = i.position(), N = {
                    top: s.top,
                    left: s.left,
                    width: i.width(),
                    height: i.height()
                }, g = N.width == C.width && N.height == C.height, o.fadeTo(v.changeFade, .3, function() {
                    var n = function() {
                        o.html(t.contents()).fadeTo(v.changeFade, 1, I)
                    };
                    e.event.trigger("fancybox-change"), o.empty().removeAttr("filter").css({
                        "border-width": v.padding,
                        width: C.width - v.padding * 2,
                        height: h.autoDimensions ? "auto" : C.height - x - v.padding * 2
                    }), g ? n() : (L.prop = 0, e(L).animate({
                        prop: 1
                    }, {
                        duration: v.changeSpeed,
                        easing: v.easingChange,
                        step: R,
                        complete: n
                    }))
                });
                return
            }
            i.removeAttr("style"), o.css("border-width", v.padding);
            if (v.transitionIn == "elastic") {
                N = X(), o.html(t.contents()), i.show(), v.opacity && (C.opacity = 0), L.prop = 0, e(L).animate({
                    prop: 1
                }, {
                    duration: v.speedIn,
                    easing: v.easingIn,
                    step: R,
                    complete: I
                });
                return
            }
            v.titlePosition == "inside" && x > 0 && a.show(), o.css({
                width: C.width - v.padding * 2,
                height: h.autoDimensions ? "auto" : C.height - x - v.padding * 2
            }).html(t.contents()), i.css(C).fadeIn(v.transitionIn == "none" ? 0 : v.speedIn, I)
        },
        B = function(e) {
            return e && e.length ? v.titlePosition == "float" ? '<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">' + e + '</td><td id="fancybox-title-float-right"></td></tr></table>' : '<div id="fancybox-title-' + v.titlePosition + '">' + e + "</div>" : !1
        },
        j = function() {
            T = v.title || "", x = 0, a.empty().removeAttr("style").removeClass();
            if (v.titleShow === !1) {
                a.hide();
                return
            }
            T = e.isFunction(v.titleFormat) ? v.titleFormat(T, m, d, v) : B(T);
            if (!T || T === "") {
                a.hide();
                return
            }
            a.addClass("fancybox-title-" + v.titlePosition).html(T).appendTo("body").show();
            switch (v.titlePosition) {
                case "inside":
                    a.css({
                        width: C.width - v.padding * 2,
                        marginLeft: v.padding,
                        marginRight: v.padding
                    }), x = a.outerHeight(!0), a.appendTo(s), C.height += x;
                    break;
                case "over":
                    a.css({
                        marginLeft: v.padding,
                        width: C.width - v.padding * 2,
                        bottom: v.padding
                    }).appendTo(s);
                    break;
                case "float":
                    a.css("left", parseInt((a.width() - C.width - 40) / 2, 10) * -1).appendTo(i);
                    break;
                default:
                    a.css({
                        width: C.width - v.padding * 2,
                        paddingLeft: v.padding,
                        paddingRight: v.padding
                    }).appendTo(i)
            }
            a.hide()
        },
        F = function() {
            (v.enableEscapeButton || v.enableKeyboardNav) && e(document).bind("keydown.fb", function(t) {
                t.keyCode == 27 && v.enableEscapeButton ? (t.preventDefault(), e.fancybox.close()) : (t.keyCode == 37 || t.keyCode == 39) && v.enableKeyboardNav && t.target.tagName !== "INPUT" && t.target.tagName !== "TEXTAREA" && t.target.tagName !== "SELECT" && (t.preventDefault(), e.fancybox[t.keyCode == 37 ? "prev" : "next"]())
            });
            if (!v.showNavArrows) {
                f.hide(), l.hide();
                return
            }(v.cyclic && m.length > 1 || d !== 0) && f.show(), (v.cyclic && m.length > 1 || d != m.length - 1) && l.show()
        },
        I = function() {
            e.support.opacity || (o.get(0).style.removeAttribute("filter"), i.get(0).style.removeAttribute("filter")), h.autoDimensions && o.css("height", "auto"), i.css("height", "auto"), T && T.length && a.show(), v.showCloseButton && u.show(), F(), v.hideOnContentClick && o.bind("click", e.fancybox.close), v.hideOnOverlayClick && r.bind("click", e.fancybox.close), e(window).bind("resize.fb", e.fancybox.resize), v.centerOnScroll && e(window).bind("scroll.fb", e.fancybox.center), v.type == "iframe" && e('<iframe id="fancybox-frame" name="fancybox-frame' + (new Date).getTime() + '" frameborder="0" hspace="0" ' + (e.browser.msie ? 'allowtransparency="true""' : "") + ' scrolling="' + h.scrolling + '" src="' + v.href + '"></iframe>').appendTo(o), i.show(), k = !1, e.fancybox.center(), v.onComplete(m, d, v), q()
        },
        q = function() {
            var e, t;
            m.length - 1 > d && (e = m[d + 1].href, typeof e != "undefined" && e.match(b) && (t = new Image, t.src = e)), d > 0 && (e = m[d - 1].href, typeof e != "undefined" && e.match(b) && (t = new Image, t.src = e))
        },
        R = function(e) {
            var t = {
                width: parseInt(N.width + (C.width - N.width) * e, 10),
                height: parseInt(N.height + (C.height - N.height) * e, 10),
                top: parseInt(N.top + (C.top - N.top) * e, 10),
                left: parseInt(N.left + (C.left - N.left) * e, 10)
            };
            typeof C.opacity != "undefined" && (t.opacity = e < .5 ? .5 : e), i.css(t), o.css({
                width: t.width - v.padding * 2,
                height: t.height - x * e - v.padding * 2
            })
        },
        U = function() {
            return [e(window).width() - v.margin * 2, e(window).height() - v.margin * 2, e(document).scrollLeft() + v.margin, e(document).scrollTop() + v.margin]
        },
        z = function() {
            var e = U(),
                t = {},
                n = v.autoScale,
                r = v.padding * 2,
                i;
            return v.width.toString().indexOf("%") > -1 ? t.width = parseInt(e[0] * parseFloat(v.width) / 100, 10) : t.width = v.width + r, v.height.toString().indexOf("%") > -1 ? t.height = parseInt(e[1] * parseFloat(v.height) / 100, 10) : t.height = v.height + r, n && (t.width > e[0] || t.height > e[1]) && (h.type == "image" || h.type == "swf" ? (i = v.width / v.height, t.width > e[0] && (t.width = e[0], t.height = parseInt((t.width - r) / i + r, 10)), t.height > e[1] && (t.height = e[1], t.width = parseInt((t.height - r) * i + r, 10))) : (t.width = Math.min(t.width, e[0]), t.height = Math.min(t.height, e[1]))), t.top = parseInt(Math.max(e[3] - 20, e[3] + (e[1] - t.height - 40) * .5), 10), t.left = parseInt(Math.max(e[2] - 20, e[2] + (e[0] - t.width - 40) * .5), 10), t
        },
        W = function(e) {
            var t = e.offset();
            return t.top += parseInt(e.css("paddingTop"), 10) || 0, t.left += parseInt(e.css("paddingLeft"), 10) || 0, t.top += parseInt(e.css("border-top-width"), 10) || 0, t.left += parseInt(e.css("border-left-width"), 10) || 0, t.width = e.width(), t.height = e.height(), t
        },
        X = function() {
            var t = h.orig ? e(h.orig) : !1,
                n = {},
                r, i;
            return t && t.length ? (r = W(t), n = {
                width: r.width + v.padding * 2,
                height: r.height + v.padding * 2,
                top: r.top - v.padding - 20,
                left: r.left - v.padding - 20
            }) : (i = U(), n = {
                width: v.padding * 2,
                height: v.padding * 2,
                top: parseInt(i[3] + i[1] * .5, 10),
                left: parseInt(i[2] + i[0] * .5, 10)
            }), n
        },
        V = function() {
            if (!n.is(":visible")) {
                clearInterval(E);
                return
            }
            e("div", n).css("top", S * -40 + "px"), S = (S + 1) % 12
        };
    e.fn.fancybox = function(t) {
        return e(this).length ? (e(this).data("fancybox", e.extend({}, t, e.metadata ? e(this).metadata() : {})).unbind("click.fb").bind("click.fb", function(t) {
            t.preventDefault();
            if (k) return;
            k = !0, e(this).blur(), p = [], c = 0;
            var n = e(this).attr("rel") || "";
            !n || n == "" || n === "nofollow" ? p.push(this) : (p = e("a[rel=" + n + "], area[rel=" + n + "]"), c = p.index(this)), _();
            return
        }), this) : this
    }, e.fancybox = function(t) {
        var n;
        if (k) return;
        k = !0, n = typeof arguments[1] != "undefined" ? arguments[1] : {}, p = [], c = parseInt(n.index, 10) || 0;
        if (e.isArray(t)) {
            for (var r = 0, i = t.length; r < i; r++) typeof t[r] == "object" ? e(t[r]).data("fancybox", e.extend({}, n, t[r])) : t[r] = e({}).data("fancybox", e.extend({
                content: t[r]
            }, n));
            p = jQuery.merge(p, t)
        } else typeof t == "object" ? e(t).data("fancybox", e.extend({}, n, t)) : t = e({}).data("fancybox", e.extend({
            content: t
        }, n)), p.push(t);
        if (c > p.length || c < 0) c = 0;
        _()
    }, e.fancybox.showActivity = function() {
        clearInterval(E), n.show(), E = setInterval(V, 66)
    }, e.fancybox.hideActivity = function() {
        n.hide()
    }, e.fancybox.next = function() {
        return e.fancybox.pos(d + 1)
    }, e.fancybox.prev = function() {
        return e.fancybox.pos(d - 1)
    }, e.fancybox.pos = function(e) {
        if (k) return;
        e = parseInt(e), p = m, e > -1 && e < m.length ? (c = e, _()) : v.cyclic && m.length > 1 && (c = e >= m.length ? 0 : m.length - 1, _());
        return
    }, e.fancybox.cancel = function() {
        if (k) return;
        k = !0, e.event.trigger("fancybox-cancel"), O(), h.onCancel(p, c, h), k = !1
    }, e.fancybox.close = function() {
        function t() {
            r.fadeOut("fast"), a.empty().hide(), i.hide(), e.event.trigger("fancybox-cleanup"), o.empty(), v.onClosed(m, d, v), m = h = [], d = c = 0, v = h = {}, k = !1
        }
        if (k || i.is(":hidden")) return;
        k = !0;
        if (v && !1 === v.onCleanup(m, d, v)) {
            k = !1;
            return
        }
        O(), e(u.add(f).add(l)).hide(), e(o.add(r)).unbind(), e(window).unbind("resize.fb scroll.fb"), e(document).unbind("keydown.fb"), o.find("iframe").attr("src", A && /^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank"), v.titlePosition !== "inside" && a.empty(), i.stop();
        if (v.transitionOut == "elastic") {
            N = X();
            var n = i.position();
            C = {
                top: n.top,
                left: n.left,
                width: i.width(),
                height: i.height()
            }, v.opacity && (C.opacity = 1), a.empty().hide(), L.prop = 1, e(L).animate({
                prop: 0
            }, {
                duration: v.speedOut,
                easing: v.easingOut,
                step: R,
                complete: t
            })
        } else i.fadeOut(v.transitionOut == "none" ? 0 : v.speedOut, t)
    }, e.fancybox.resize = function() {
        r.is(":visible") && r.css("height", e(document).height()), e.fancybox.center(!0)
    }, e.fancybox.center = function() {
        var e, t;
        if (k) return;
        t = arguments[0] === !0 ? 1 : 0, e = U();
        if (!t && (i.width() > e[0] || i.height() > e[1])) return;
        i.stop().animate({
            top: parseInt(Math.max(e[3] - 20, e[3] + (e[1] - o.height() - 40) * .5 - v.padding)),
            left: parseInt(Math.max(e[2] - 20, e[2] + (e[0] - o.width() - 40) * .5 - v.padding))
        }, typeof arguments[0] == "number" ? arguments[0] : 200)
    }, e.fancybox.init = function() {
        if (e("#fancybox-wrap").length) return;
        e("body").append(t = e('<div id="fancybox-tmp"></div>'), n = e('<div id="fancybox-loading"><div></div></div>'), r = e('<div id="fancybox-overlay"></div>'), i = e('<div id="fancybox-wrap"></div>')), s = e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(i), s.append(o = e('<div id="fancybox-content"></div>'), u = e('<a id="fancybox-close"></a>'), a = e('<div id="fancybox-title"></div>'), f = e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'), l = e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')), u.click(e.fancybox.close), n.click(e.fancybox.cancel), f.click(function(t) {
            t.preventDefault(), e.fancybox.prev()
        }), l.click(function(t) {
            t.preventDefault(), e.fancybox.next()
        }), e.fn.mousewheel && i.bind("mousewheel.fb", function(t, n) {
            if (k) t.preventDefault();
            else if (e(t.target).get(0).clientHeight == 0 || e(t.target).get(0).scrollHeight === e(t.target).get(0).clientHeight) t.preventDefault(), e.fancybox[n > 0 ? "prev" : "next"]()
        }), e.support.opacity || i.addClass("fancybox-ie"), A && (n.addClass("fancybox-ie6"), i.addClass("fancybox-ie6"), e('<iframe id="fancybox-hide-sel-frame" src="' + (/^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank") + '" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(s))
    }, e.fn.fancybox.defaults = {
        padding: 10,
        margin: 40,
        opacity: !1,
        modal: !1,
        cyclic: !1,
        scrolling: "auto",
        width: 560,
        height: 340,
        autoScale: !0,
        autoDimensions: !0,
        centerOnScroll: !1,
        ajax: {},
        swf: {
            wmode: "transparent"
        },
        hideOnOverlayClick: !0,
        hideOnContentClick: !1,
        overlayShow: !0,
        overlayOpacity: .7,
        overlayColor: "#777",
        titleShow: !0,
        titlePosition: "float",
        titleFormat: null,
        titleFromAlt: !1,
        transitionIn: "fade",
        transitionOut: "fade",
        speedIn: 300,
        speedOut: 300,
        changeSpeed: 300,
        changeFade: "fast",
        easingIn: "swing",
        easingOut: "swing",
        showCloseButton: !0,
        showNavArrows: !0,
        enableEscapeButton: !0,
        enableKeyboardNav: !0,
        onStart: function() {},
        onCancel: function() {},
        onComplete: function() {},
        onCleanup: function() {},
        onClosed: function() {},
        onError: function() {}
    }, e(document).ready(function() {
        e.fancybox.init()
    })
})(jQuery),
function(e) {
    e.extend(e.fn, {
        validate: function(t) {
            if (this.length) {
                var n = e.data(this[0], "validator");
                return n ? n : (n = new e.validator(t, this[0]), e.data(this[0], "validator", n), n.settings.onsubmit && (this.find("input, button").filter(".cancel").click(function() {
                    n.cancelSubmit = !0
                }), n.settings.submitHandler && this.find("input, button").filter(":submit").click(function() {
                    n.submitButton = this
                }), this.submit(function(t) {
                    function r() {
                        if (n.settings.submitHandler) {
                            if (n.submitButton) var t = e("<input type='hidden'/>").attr("name", n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm);
                            return n.settings.submitHandler.call(n, n.currentForm), n.submitButton && t.remove(), !1
                        }
                        return !0
                    }
                    return n.settings.debug && t.preventDefault(), n.cancelSubmit ? (n.cancelSubmit = !1, r()) : n.form() ? n.pendingRequest ? (n.formSubmitted = !0, !1) : r() : (n.focusInvalid(), !1)
                })), n)
            }
            t && t.debug && window.console && console.warn("nothing selected, can't validate, returning nothing")
        },
        valid: function() {
            if (e(this[0]).is("form")) return this.validate().form();
            var t = !0,
                n = e(this[0].form).validate();
            return this.each(function() {
                t &= n.element(this)
            }), t
        },
        removeAttrs: function(t) {
            var n = {},
                r = this;
            return e.each(t.split(/\s/), function(e, t) {
                n[t] = r.attr(t), r.removeAttr(t)
            }), n
        },
        rules: function(t, n) {
            var r = this[0];
            if (t) {
                var i = e.data(r.form, "validator").settings,
                    s = i.rules,
                    o = e.validator.staticRules(r);
                switch (t) {
                    case "add":
                        e.extend(o, e.validator.normalizeRule(n)), s[r.name] = o, n.messages && (i.messages[r.name] = e.extend(i.messages[r.name], n.messages));
                        break;
                    case "remove":
                        if (!n) return delete s[r.name], o;
                        var u = {};
                        return e.each(n.split(/\s/), function(e, t) {
                            u[t] = o[t], delete o[t]
                        }), u
                }
            }
            return r = e.validator.normalizeRules(e.extend({}, e.validator.metadataRules(r), e.validator.classRules(r), e.validator.attributeRules(r), e.validator.staticRules(r)), r), r.required && (i = r.required, delete r.required, r = e.extend({
                required: i
            }, r)), r
        }
    }), e.extend(e.expr[":"], {
        blank: function(t) {
            return !e.trim("" + t.value)
        },
        filled: function(t) {
            return !!e.trim("" + t.value)
        },
        unchecked: function(e) {
            return !e.checked
        }
    }), e.validator = function(t, n) {
        this.settings = e.extend(!0, {}, e.validator.defaults, t), this.currentForm = n, this.init()
    }, e.validator.format = function(t, n) {
        return arguments.length == 1 ? function() {
            var n = e.makeArray(arguments);
            return n.unshift(t), e.validator.format.apply(this, n)
        } : (arguments.length > 2 && n.constructor != Array && (n = e.makeArray(arguments).slice(1)), n.constructor != Array && (n = [n]), e.each(n, function(e, n) {
            t = t.replace(RegExp("\\{" + e + "\\}", "g"), n)
        }), t)
    }, e.extend(e.validator, {
        defaults: {
            messages: {},
            groups: {},
            rules: {},
            errorClass: "error",
            validClass: "valid",
            errorElement: "label",
            focusInvalid: !0,
            errorContainer: e([]),
            errorLabelContainer: e([]),
            onsubmit: !0,
            ignore: [],
            ignoreTitle: !1,
            onfocusin: function(e) {
                this.lastActive = e, this.settings.focusCleanup && !this.blockFocusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, e, this.settings.errorClass, this.settings.validClass), this.addWrapper(this.errorsFor(e)).hide())
            },
            onfocusout: function(e) {
                !this.checkable(e) && (e.name in this.submitted || !this.optional(e)) && this.element(e)
            },
            onkeyup: function(e) {
                (e.name in this.submitted || e == this.lastElement) && this.element(e)
            },
            onclick: function(e) {
                e.name in this.submitted ? this.element(e) : e.parentNode.name in this.submitted && this.element(e.parentNode)
            },
            highlight: function(t, n, r) {
                t.type === "radio" ? this.findByName(t.name).addClass(n).removeClass(r) : e(t).addClass(n).removeClass(r)
            },
            unhighlight: function(t, n, r) {
                t.type === "radio" ? this.findByName(t.name).removeClass(n).addClass(r) : e(t).removeClass(n).addClass(r)
            }
        },
        setDefaults: function(t) {
            e.extend(e.validator.defaults, t)
        },
        messages: {
            required: "This field is required.",
            remote: "Please fix this field.",
            email: "Please enter a valid email address.",
            url: "Please enter a valid URL.",
            date: "Please enter a valid date.",
            dateISO: "Please enter a valid date (ISO).",
            number: "Please enter a valid number.",
            digits: "Please enter only digits.",
            creditcard: "Please enter a valid credit card number.",
            equalTo: "Please enter the same value again.",
            accept: "Please enter a value with a valid extension.",
            maxlength: e.validator.format("Please enter no more than {0} characters."),
            minlength: e.validator.format("Please enter at least {0} characters."),
            rangelength: e.validator.format("Please enter a value between {0} and {1} characters long."),
            range: e.validator.format("Please enter a value between {0} and {1}."),
            max: e.validator.format("Please enter a value less than or equal to {0}."),
            min: e.validator.format("Please enter a value greater than or equal to {0}.")
        },
        autoCreateRanges: !1,
        prototype: {
            init: function() {
                function t(t) {
                    var n = e.data(this[0].form, "validator");
                    t = "on" + t.type.replace(/^validate/, ""), n.settings[t] && n.settings[t].call(n, this[0])
                }
                this.labelContainer = e(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || e(this.currentForm), this.containers = e(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset();
                var n = this.groups = {};
                e.each(this.settings.groups, function(t, r) {
                    e.each(r.split(/\s/), function(e, r) {
                        n[r] = t
                    })
                });
                var r = this.settings.rules;
                e.each(r, function(t, n) {
                    r[t] = e.validator.normalizeRule(n)
                }), e(this.currentForm).validateDelegate(":text, :password, :file, select, textarea", "focusin focusout keyup", t).validateDelegate(":radio, :checkbox, select, option", "click", t), this.settings.invalidHandler && e(this.currentForm).bind("invalid-form.validate", this.settings.invalidHandler)
            },
            form: function() {
                return this.checkForm(), e.extend(this.submitted, this.errorMap), this.invalid = e.extend({}, this.errorMap), this.valid() || e(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid()
            },
            checkForm: function() {
                this.prepareForm();
                for (var e = 0, t = this.currentElements = this.elements(); t[e]; e++) this.check(t[e]);
                return this.valid()
            },
            element: function(t) {
                this.lastElement = t = this.clean(t), this.prepareElement(t), this.currentElements = e(t);
                var n = this.check(t);
                return n ? delete this.invalid[t.name] : this.invalid[t.name] = !0, this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), n
            },
            showErrors: function(t) {
                if (t) {
                    e.extend(this.errorMap, t), this.errorList = [];
                    for (var n in t) this.errorList.push({
                        message: t[n],
                        element: this.findByName(n)[0]
                    });
                    this.successList = e.grep(this.successList, function(e) {
                        return !(e.name in t)
                    })
                }
                this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors()
            },
            resetForm: function() {
                e.fn.resetForm && e(this.currentForm).resetForm(), this.submitted = {}, this.prepareForm(), this.hideErrors(), this.elements().removeClass(this.settings.errorClass)
            },
            numberOfInvalids: function() {
                return this.objectLength(this.invalid)
            },
            objectLength: function(e) {
                var t = 0,
                    n;
                for (n in e) t++;
                return t
            },
            hideErrors: function() {
                this.addWrapper(this.toHide).hide()
            },
            valid: function() {
                return this.size() == 0
            },
            size: function() {
                return this.errorList.length
            },
            focusInvalid: function() {
                if (this.settings.focusInvalid) try {
                    e(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin")
                } catch (t) {}
            },
            findLastActive: function() {
                var t = this.lastActive;
                return t && e.grep(this.errorList, function(e) {
                    return e.element.name == t.name
                }).length == 1 && t
            },
            elements: function() {
                var t = this,
                    n = {};
                return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function() {
                    return !this.name && t.settings.debug && window.console && console.error("%o has no name assigned", this), this.name in n || !t.objectLength(e(this).rules()) ? !1 : n[this.name] = !0
                })
            },
            clean: function(t) {
                return e(t)[0]
            },
            errors: function() {
                return e(this.settings.errorElement + "." + this.settings.errorClass, this.errorContext)
            },
            reset: function() {
                this.successList = [], this.errorList = [], this.errorMap = {}, this.toShow = e([]), this.toHide = e([]), this.currentElements = e([])
            },
            prepareForm: function() {
                this.reset(), this.toHide = this.errors().add(this.containers)
            },
            prepareElement: function(e) {
                this.reset(), this.toHide = this.errorsFor(e)
            },
            check: function(t) {
                t = this.clean(t), this.checkable(t) && (t = this.findByName(t.name).not(this.settings.ignore)[0]);
                var n = e(t).rules(),
                    r = !1,
                    i;
                for (i in n) {
                    var s = {
                        method: i,
                        parameters: n[i]
                    };
                    try {
                        var o = e.validator.methods[i].call(this, t.value.replace(/\r/g, ""), t, s.parameters);
                        if (o == "dependency-mismatch") r = !0;
                        else {
                            r = !1;
                            if (o == "pending") {
                                this.toHide = this.toHide.not(this.errorsFor(t));
                                return
                            }
                            if (!o) return this.formatAndAdd(t, s), !1
                        }
                    } catch (u) {
                        throw this.settings.debug && window.console && console.log("exception occured when checking element " + t.id + ", check the '" + s.method + "' method", u), u
                    }
                }
                if (!r) return this.objectLength(n) && this.successList.push(t), !0
            },
            customMetaMessage: function(t, n) {
                if (e.metadata) {
                    var r = this.settings.meta ? e(t).metadata()[this.settings.meta] : e(t).metadata();
                    return r && r.messages && r.messages[n]
                }
            },
            customMessage: function(e, t) {
                var n = this.settings.messages[e];
                return n && (n.constructor == String ? n : n[t])
            },
            findDefined: function() {
                for (var e = 0; e < arguments.length; e++)
                    if (arguments[e] !== undefined) return arguments[e]
            },
            defaultMessage: function(t, n) {
                return this.findDefined(this.customMessage(t.name, n), this.customMetaMessage(t, n), !this.settings.ignoreTitle && t.title || undefined, e.validator.messages[n], "<strong>Warning: No message defined for " + t.name + "</strong>")
            },
            formatAndAdd: function(e, t) {
                var n = this.defaultMessage(e, t.method),
                    r = /\$?\{(\d+)\}/g;
                typeof n == "function" ? n = n.call(this, t.parameters, e) : r.test(n) && (n = jQuery.format(n.replace(r, "{$1}"), t.parameters)), this.errorList.push({
                    message: n,
                    element: e
                }), this.errorMap[e.name] = n, this.submitted[e.name] = n
            },
            addWrapper: function(e) {
                return this.settings.wrapper && (e = e.add(e.parent(this.settings.wrapper))), e
            },
            defaultShowErrors: function() {
                for (var e = 0; this.errorList[e]; e++) {
                    var t = this.errorList[e];
                    this.settings.highlight && this.settings.highlight.call(this, t.element, this.settings.errorClass, this.settings.validClass), this.showLabel(t.element, t.message)
                }
                this.errorList.length && (this.toShow = this.toShow.add(this.containers));
                if (this.settings.success)
                    for (e = 0; this.successList[e]; e++) this.showLabel(this.successList[e]);
                if (this.settings.unhighlight) {
                    e = 0;
                    for (t = this.validElements(); t[e]; e++) this.settings.unhighlight.call(this, t[e], this.settings.errorClass, this.settings.validClass)
                }
                this.toHide = this.toHide.not(this.toShow), this.hideErrors(), this.addWrapper(this.toShow).show()
            },
            validElements: function() {
                return this.currentElements.not(this.invalidElements())
            },
            invalidElements: function() {
                return e(this.errorList).map(function() {
                    return this.element
                })
            },
            showLabel: function(t, n) {
                var r = this.errorsFor(t);
                r.length ? (r.removeClass().addClass(this.settings.errorClass), r.attr("generated") && r.html(n)) : (r = e("<" + this.settings.errorElement + "/>").attr({
                    "for": this.idOrName(t),
                    generated: !0
                }).addClass(this.settings.errorClass).html(n || ""), this.settings.wrapper && (r = r.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.append(r).length || (this.settings.errorPlacement ? this.settings.errorPlacement(r, e(t)) : r.insertAfter(t))), !n && this.settings.success && (r.text(""), typeof this.settings.success == "string" ? r.addClass(this.settings.success) : this.settings.success(r)), this.toShow = this.toShow.add(r)
            },
            errorsFor: function(t) {
                var n = this.idOrName(t);
                return this.errors().filter(function() {
                    return e(this).attr("for") == n
                })
            },
            idOrName: function(e) {
                return this.groups[e.name] || (this.checkable(e) ? e.name : e.id || e.name)
            },
            checkable: function(e) {
                return /radio|checkbox/i.test(e.type)
            },
            findByName: function(t) {
                var n = this.currentForm;
                return e(document.getElementsByName(t)).map(function(e, r) {
                    return r.form == n && r.name == t && r || null
                })
            },
            getLength: function(t, n) {
                switch (n.nodeName.toLowerCase()) {
                    case "select":
                        return e("option:selected", n).length;
                    case "input":
                        if (this.checkable(n)) return this.findByName(n.name).filter(":checked").length
                }
                return t.length
            },
            depend: function(e, t) {
                return this.dependTypes[typeof e] ? this.dependTypes[typeof e](e, t) : !0
            },
            dependTypes: {
                "boolean": function(e) {
                    return e
                },
                string: function(t, n) {
                    return !!e(t, n.form).length
                },
                "function": function(e, t) {
                    return e(t)
                }
            },
            optional: function(t) {
                return !e.validator.methods.required.call(this, e.trim(t.value), t) && "dependency-mismatch"
            },
            startRequest: function(e) {
                this.pending[e.name] || (this.pendingRequest++, this.pending[e.name] = !0)
            },
            stopRequest: function(t, n) {
                this.pendingRequest--, this.pendingRequest < 0 && (this.pendingRequest = 0), delete this.pending[t.name], n && this.pendingRequest == 0 && this.formSubmitted && this.form() ? (e(this.currentForm).submit(), this.formSubmitted = !1) : !n && this.pendingRequest == 0 && this.formSubmitted && (e(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1)
            },
            previousValue: function(t) {
                return e.data(t, "previousValue") || e.data(t, "previousValue", {
                    old: null,
                    valid: !0,
                    message: this.defaultMessage(t, "remote")
                })
            }
        },
        classRuleSettings: {
            required: {
                required: !0
            },
            email: {
                email: !0
            },
            url: {
                url: !0
            },
            date: {
                date: !0
            },
            dateISO: {
                dateISO: !0
            },
            dateDE: {
                dateDE: !0
            },
            number: {
                number: !0
            },
            numberDE: {
                numberDE: !0
            },
            digits: {
                digits: !0
            },
            creditcard: {
                creditcard: !0
            }
        },
        addClassRules: function(t, n) {
            t.constructor == String ? this.classRuleSettings[t] = n : e.extend(this.classRuleSettings, t)
        },
        classRules: function(t) {
            var n = {};
            return (t = e(t).attr("class")) && e.each(t.split(" "), function() {
                this in e.validator.classRuleSettings && e.extend(n, e.validator.classRuleSettings[this])
            }), n
        },
        attributeRules: function(t) {
            var n = {};
            t = e(t);
            for (var r in e.validator.methods) {
                var i = t.attr(r);
                i && (n[r] = i)
            }
            return n.maxlength && /-1|2147483647|524288/.test(n.maxlength) && delete n.maxlength, n
        },
        metadataRules: function(t) {
            if (!e.metadata) return {};
            var n = e.data(t.form, "validator").settings.meta;
            return n ? e(t).metadata()[n] : e(t).metadata()
        },
        staticRules: function(t) {
            var n = {},
                r = e.data(t.form, "validator");
            return r.settings.rules && (n = e.validator.normalizeRule(r.settings.rules[t.name]) || {}), n
        },
        normalizeRules: function(t, n) {
            return e.each(t, function(r, i) {
                if (i === !1) delete t[r];
                else if (i.param || i.depends) {
                    var s = !0;
                    switch (typeof i.depends) {
                        case "string":
                            s = !!e(i.depends, n.form).length;
                            break;
                        case "function":
                            s = i.depends.call(n, n)
                    }
                    s ? t[r] = i.param !== undefined ? i.param : !0 : delete t[r]
                }
            }), e.each(t, function(r, i) {
                t[r] = e.isFunction(i) ? i(n) : i
            }), e.each(["minlength", "maxlength", "min", "max"], function() {
                t[this] && (t[this] = Number(t[this]))
            }), e.each(["rangelength", "range"], function() {
                t[this] && (t[this] = [Number(t[this][0]), Number(t[this][1])])
            }), e.validator.autoCreateRanges && (t.min && t.max && (t.range = [t.min, t.max], delete t.min, delete t.max), t.minlength && t.maxlength && (t.rangelength = [t.minlength, t.maxlength], delete t.minlength, delete t.maxlength)), t.messages && delete t.messages, t
        },
        normalizeRule: function(t) {
            if (typeof t == "string") {
                var n = {};
                e.each(t.split(/\s/), function() {
                    n[this] = !0
                }), t = n
            }
            return t
        },
        addMethod: function(t, n, r) {
            e.validator.methods[t] = n, e.validator.messages[t] = r != undefined ? r : e.validator.messages[t], n.length < 3 && e.validator.addClassRules(t, e.validator.normalizeRule(t))
        },
        methods: {
            required: function(t, n, r) {
                if (!this.depend(r, n)) return "dependency-mismatch";
                switch (n.nodeName.toLowerCase()) {
                    case "select":
                        return (t = e(n).val()) && t.length > 0;
                    case "input":
                        if (this.checkable(n)) return this.getLength(t, n) > 0;
                    default:
                        return e.trim(t).length > 0
                }
            },
            remote: function(t, n, r) {
                if (this.optional(n)) return "dependency-mismatch";
                var i = this.previousValue(n);
                this.settings.messages[n.name] || (this.settings.messages[n.name] = {}), i.originalMessage = this.settings.messages[n.name].remote, this.settings.messages[n.name].remote = i.message, r = typeof r == "string" && {
                    url: r
                } || r;
                if (this.pending[n.name]) return "pending";
                if (i.old === t) return i.valid;
                i.old = t;
                var s = this;
                this.startRequest(n);
                var o = {};
                return o[n.name] = t, e.ajax(e.extend(!0, {
                    url: r,
                    mode: "abort",
                    port: "validate" + n.name,
                    dataType: "json",
                    data: o,
                    success: function(r) {
                        s.settings.messages[n.name].remote = i.originalMessage;
                        var o = r === !0;
                        if (o) {
                            var u = s.formSubmitted;
                            s.prepareElement(n), s.formSubmitted = u, s.successList.push(n), s.showErrors()
                        } else u = {}, r = r || s.defaultMessage(n, "remote"), u[n.name] = i.message = e.isFunction(r) ? r(t) : r, s.showErrors(u);
                        i.valid = o, s.stopRequest(n, o)
                    }
                }, r)), "pending"
            },
            minlength: function(t, n, r) {
                return this.optional(n) || this.getLength(e.trim(t), n) >= r
            },
            maxlength: function(t, n, r) {
                return this.optional(n) || this.getLength(e.trim(t), n) <= r
            },
            rangelength: function(t, n, r) {
                return t = this.getLength(e.trim(t), n), this.optional(n) || t >= r[0] && t <= r[1]
            },
            min: function(e, t, n) {
                return this.optional(t) || e >= n
            },
            max: function(e, t, n) {
                return this.optional(t) || e <= n
            },
            range: function(e, t, n) {
                return this.optional(t) || e >= n[0] && e <= n[1]
            },
            email: function(e, t) {
                return this.optional(t) || /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)
            },
            url: function(e, t) {
                return this.optional(t) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
            },
            date: function(e, t) {
                return this.optional(t) || !/Invalid|NaN/.test(new Date(e))
            },
            dateISO: function(e, t) {
                return this.optional(t) || /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)
            },
            number: function(e, t) {
                return this.optional(t) || /^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)
            },
            digits: function(e, t) {
                return this.optional(t) || /^\d+$/.test(e)
            },
            creditcard: function(e, t) {
                if (this.optional(t)) return "dependency-mismatch";
                if (/[^0-9-]+/.test(e)) return !1;
                var n = 0,
                    r = 0,
                    i = !1;
                e = e.replace(/\D/g, "");
                for (var s = e.length - 1; s >= 0; s--) r = e.charAt(s), r = parseInt(r, 10), i && (r *= 2) > 9 && (r -= 9), n += r, i = !i;
                return n % 10 == 0
            },
            accept: function(e, t, n) {
                return n = typeof n == "string" ? n.replace(/,/g, "|") : "png|jpe?g|gif", this.optional(t) || e.match(RegExp(".(" + n + ")$", "i"))
            },
            equalTo: function(t, n, r) {
                return r = e(r).unbind(".validate-equalTo").bind("blur.validate-equalTo", function() {
                    e(n).valid()
                }), t == r.val()
            }
        }
    }), e.format = e.validator.format
}(jQuery),
function(e) {
    var t = {};
    if (e.ajaxPrefilter) e.ajaxPrefilter(function(e, n, r) {
        n = e.port, e.mode == "abort" && (t[n] && t[n].abort(), t[n] = r)
    });
    else {
        var n = e.ajax;
        e.ajax = function(r) {
            var i = ("port" in r ? r : e.ajaxSettings).port;
            return ("mode" in r ? r : e.ajaxSettings).mode == "abort" ? (t[i] && t[i].abort(), t[i] = n.apply(this, arguments)) : n.apply(this, arguments)
        }
    }
}(jQuery),
function(e) {
    !jQuery.event.special.focusin && !jQuery.event.special.focusout && document.addEventListener && e.each({
        focus: "focusin",
        blur: "focusout"
    }, function(t, n) {
        function r(t) {
            return t = e.event.fix(t), t.type = n, e.event.handle.call(this, t)
        }
        e.event.special[n] = {
            setup: function() {
                this.addEventListener(t, r, !0)
            },
            teardown: function() {
                this.removeEventListener(t, r, !0)
            },
            handler: function(t) {
                return arguments[0] = e.event.fix(t), arguments[0].type = n, e.event.handle.apply(this, arguments)
            }
        }
    }), e.extend(e.fn, {
        validateDelegate: function(t, n, r) {
            return this.bind(n, function(n) {
                var i = e(n.target);
                if (i.is(t)) return r.apply(i, arguments)
            })
        }
    })
}(jQuery),
function(e) {
    var t = {},
        n, r, i = document,
        s = window,
        o = i.documentElement,
        u = e.expando;
    e.event.special.inview = {
        add: function(n) {
            t[n.guid + "-" + this[u]] = {
                data: n,
                $element: e(this)
            }
        },
        remove: function(e) {
            try {
                delete t[e.guid + "-" + this[u]]
            } catch (n) {}
        }
    }, e(s).bind("scroll resize", function() {
        n = r = null
    }), !o.addEventListener && o.attachEvent && o.attachEvent("onfocusin", function() {
        r = null
    }), setInterval(function() {
        var u = e(),
            l, c = 0;
        e.each(t, function(e, t) {
            var n = t.data.selector,
                r = t.$element;
            u = u.add(n ? r.find(n) : r)
        });
        if (l = u.length) {
            var h;
            if (!(h = n)) {
                var v = {
                    height: s.innerHeight,
                    width: s.innerWidth
                };
                !v.height && ((h = i.compatMode) || !e.support.boxModel) &&
                    (h = "CSS1Compat" === h ? o : i.body, v = {
                        height: h.clientHeight,
                        width: h.clientWidth
                    }), h = v
            }
            n = h;
            for (r = r || {
                    top: s.pageYOffset || o.scrollTop || i.body.scrollTop,
                    left: s.pageXOffset || o.scrollLeft || i.body.scrollLeft
                }; c < l; c++)
                if (e.contains(o, u[c])) {
                    var m = u[c];
                    h = e(m);
                    var g = h.height(),
                        y = h.width(),
                        b = h.offset(),
                        v = h.data("inview");
                    if (!r || !n) break;
                    0 < m.offsetWidth && 0 < m.offsetHeight && "none" != m.style.display && b.top + g > r.top && b.top < r.top + n.height && b.left + y > r.left && b.left < r.left + n.width ? (m = r.left > b.left ? "right" : r.left + n.width < b.left + y ? "left" : "both", g = r.top > b.top ? "bottom" : r.top + n.height < b.top + g ? "top" : "both", b = m + "-" + g, (!v || v !== b) && h.data("inview", b).trigger("inview", [!0, m, g])) : v && h.data("inview", !1).trigger("inview", [!1])
                }
        }
    }, 250)
}(jQuery),
function(e) {
    "use strict";
    e(window.jQuery, window, document)
}(function(e, t, n, r) {
    "use strict";
    e.widget("selectBox.selectBoxIt", {
        VERSION: "3.8.1",
        options: {
            showEffect: "none",
            showEffectOptions: {},
            showEffectSpeed: "medium",
            hideEffect: "none",
            hideEffectOptions: {},
            hideEffectSpeed: "medium",
            showFirstOption: !0,
            defaultText: "",
            defaultIcon: "",
            downArrowIcon: "",
            theme: "default",
            keydownOpen: !0,
            isMobile: function() {
                var e = navigator.userAgent || navigator.vendor || t.opera;
                return /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)
            },
            "native": !1,
            aggressiveChange: !1,
            selectWhenHidden: !0,
            viewport: e(t),
            similarSearch: !1,
            copyAttributes: ["title", "rel"],
            copyClasses: "button",
            nativeMousedown: !1,
            customShowHideEvent: !1,
            autoWidth: !0,
            html: !0,
            populate: "",
            dynamicPositioning: !0,
            hideCurrent: !1
        },
        getThemes: function() {
            var t = this,
                n = e(t.element).attr("data-theme") || "c";
            return {
                bootstrap: {
                    focus: "active",
                    hover: "",
                    enabled: "enabled",
                    disabled: "disabled",
                    arrow: "caret",
                    button: "btn",
                    list: "dropdown-menu",
                    container: "bootstrap",
                    open: "open"
                },
                jqueryui: {
                    focus: "ui-state-focus",
                    hover: "ui-state-hover",
                    enabled: "ui-state-enabled",
                    disabled: "ui-state-disabled",
                    arrow: "ui-icon ui-icon-triangle-1-s",
                    button: "ui-widget ui-state-default",
                    list: "ui-widget ui-widget-content",
                    container: "jqueryui",
                    open: "selectboxit-open"
                },
                jquerymobile: {
                    focus: "ui-btn-down-" + n,
                    hover: "ui-btn-hover-" + n,
                    enabled: "ui-enabled",
                    disabled: "ui-disabled",
                    arrow: "ui-icon ui-icon-arrow-d ui-icon-shadow",
                    button: "ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-" + n,
                    list: "ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-" + n,
                    container: "jquerymobile",
                    open: "selectboxit-open"
                },
                "default": {
                    focus: "selectboxit-focus",
                    hover: "selectboxit-hover",
                    enabled: "selectboxit-enabled",
                    disabled: "selectboxit-disabled",
                    arrow: "selectboxit-default-arrow",
                    button: "selectboxit-btn",
                    list: "selectboxit-list",
                    container: "selectboxit-container",
                    open: "selectboxit-open"
                }
            }
        },
        isDeferred: function(t) {
            return e.isPlainObject(t) && t.promise && t.done
        },
        _create: function(t) {
            var r = this,
                i = r.options.populate,
                s = r.options.theme;
            if (!r.element.is("select")) return;
            return r.widgetProto = e.Widget.prototype, r.originalElem = r.element[0], r.selectBox = r.element, r.options.populate && r.add && !t && r.add(i), r.selectItems = r.element.find("option"), r.firstSelectItem = r.selectItems.slice(0, 1), r.documentHeight = e(n).height(), r.theme = e.isPlainObject(s) ? e.extend({}, r.getThemes()["default"], s) : r.getThemes()[s] ? r.getThemes()[s] : r.getThemes()["default"], r.currentFocus = 0, r.blur = !0, r.textArray = [], r.currentIndex = 0, r.currentText = "", r.flipped = !1, t || (r.selectBoxStyles = r.selectBox.attr("style")), r._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(r.theme)._eventHandlers(), r.originalElem.disabled && r.disable && r.disable(), r._ariaAccessibility && r._ariaAccessibility(), r.isMobile = r.options.isMobile(), r._mobile && r._mobile(), r.options["native"] && this._applyNativeSelect(), r.triggerEvent("create"), r
        },
        _createDropdownButton: function() {
            var t = this,
                n = t.originalElemId = t.originalElem.id || "",
                r = t.originalElemValue = t.originalElem.value || "",
                i = t.originalElemName = t.originalElem.name || "",
                s = t.options.copyClasses,
                o = t.selectBox.attr("class") || "";
            return t.dropdownText = e("<span/>", {
                id: n && n + "SelectBoxItText",
                "class": "selectboxit-text",
                unselectable: "on",
                text: t.firstSelectItem.text()
            }).attr("data-val", r), t.dropdownImageContainer = e("<span/>", {
                "class": "selectboxit-option-icon-container"
            }), t.dropdownImage = e("<i/>", {
                id: n && n + "SelectBoxItDefaultIcon",
                "class": "selectboxit-default-icon",
                unselectable: "on"
            }), t.dropdown = e("<span/>", {
                id: n && n + "SelectBoxIt",
                "class": "selectboxit " + (s === "button" ? o : "") + " " + (t.selectBox.prop("disabled") ? t.theme.disabled : t.theme.enabled),
                name: i,
                tabindex: t.selectBox.attr("tabindex") || "0",
                unselectable: "on"
            }).append(t.dropdownImageContainer.append(t.dropdownImage)).append(t.dropdownText), t.dropdownContainer = e("<span/>", {
                id: n && n + "SelectBoxItContainer",
                "class": "selectboxit-container " + t.theme.container + " " + (s === "container" ? o : "")
            }).append(t.dropdown), t
        },
        _createUnorderedList: function() {
            var t = this,
                n, r, i, s, o, u, a, f = "",
                l = t.originalElemId || "",
                c = e("<ul/>", {
                    id: l && l + "SelectBoxItOptions",
                    "class": "selectboxit-options",
                    tabindex: -1
                }),
                h, p, d, v, m, g;
            t.options.showFirstOption || (t.selectItems.first().attr("disabled", "disabled"), t.selectItems = t.selectBox.find("option").slice(1)), t.selectItems.each(function(l) {
                m = e(this), r = "", i = "", n = m.prop("disabled"), s = m.attr("data-icon") || "", o = m.attr("data-iconurl") || "", u = o ? "selectboxit-option-icon-url" : "", a = o ? "style=\"background-image:url('" + o + "');\"" : "", h = m.attr("data-selectedtext"), p = m.attr("data-text"), v = p ? p : m.text(), g = m.parent(), g.is("optgroup") && (r = "selectboxit-optgroup-option", m.index() === 0 && (i = '<span class="selectboxit-optgroup-header ' + g.first().attr("class") + '"data-disabled="true">' + g.first().attr("label") + "</span>")), m.attr("value", this.value), f += i + '<li data-id="' + l + '" data-val="' + this.value + '" data-disabled="' + n + '" class="' + r + " selectboxit-option " + (e(this).attr("class") || "") + '"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon ' + s + " " + (u || t.theme.container) + '"' + a + "></i></span>" + (t.options.html ? v : t.htmlEscape(v)) + "</a></li>", d = m.attr("data-search"), t.textArray[l] = n ? "" : d ? d : v, this.selected && (t._setText(t.dropdownText, h || v), t.currentFocus = l)
            });
            if (t.options.defaultText || t.selectBox.attr("data-text")) {
                var y = t.options.defaultText || t.selectBox.attr("data-text");
                t._setText(t.dropdownText, y), t.options.defaultText = y
            }
            return c.append(f), t.list = c, t.dropdownContainer.append(t.list), t.listItems = t.list.children("li"), t.listAnchors = t.list.find("a"), t.listItems.first().addClass("selectboxit-option-first"), t.listItems.last().addClass("selectboxit-option-last"), t.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(t.theme.disabled), t.dropdownImage.addClass(t.selectBox.attr("data-icon") || t.options.defaultIcon || t.listItems.eq(t.currentFocus).find("i").attr("class")), t.dropdownImage.attr("style", t.listItems.eq(t.currentFocus).find("i").attr("style")), t
        },
        _replaceSelectBox: function() {
            var t = this,
                n, i = t.originalElem.id || "",
                s = t.selectBox.attr("data-size"),
                o = t.listSize = s === r ? "auto" : s === "0" || !1 ? "auto" : +s,
                u, a;
            return t.selectBox.css("display", "none").after(t.dropdownContainer), t.dropdownContainer.appendTo("body").addClass("selectboxit-rendering"), n = t.dropdown.height(), t.downArrow = e("<i/>", {
                id: i && i + "SelectBoxItArrow",
                "class": "selectboxit-arrow",
                unselectable: "on"
            }), t.downArrowContainer = e("<span/>", {
                id: i && i + "SelectBoxItArrowContainer",
                "class": "selectboxit-arrow-container",
                unselectable: "on"
            }).append(t.downArrow), t.dropdown.append(t.downArrowContainer), t.listItems.removeClass("selectboxit-selected").eq(t.currentFocus).addClass("selectboxit-selected"), u = t.downArrowContainer.outerWidth(!0), a = t.dropdownImage.outerWidth(!0), t.options.autoWidth && (t.dropdown.css({
                width: "auto"
            }).css({
                width: t.list.outerWidth(!0) + u + a
            }), t.list.css({
                "min-width": t.dropdown.width()
            })), t.dropdownText.css({
                "max-width": t.dropdownContainer.outerWidth(!0) - (u + a)
            }), t.selectBox.after(t.dropdownContainer), t.dropdownContainer.removeClass("selectboxit-rendering"), e.type(o) === "number" && (t.maxHeight = t.listAnchors.outerHeight(!0) * o), t
        },
        _scrollToView: function(e) {
            var t = this,
                n = t.listItems.eq(t.currentFocus),
                r = t.list.scrollTop(),
                i = n.height(),
                s = n.position().top,
                o = Math.abs(s),
                u = t.list.height(),
                a;
            return e === "search" ? u - s < i ? t.list.scrollTop(r + (s - (u - i))) : s < -1 && t.list.scrollTop(s - i) : e === "up" ? s < -1 && t.list.scrollTop(r - o) : e === "down" && u - s < i && t.list.scrollTop(r + (o - u + i)), t
        },
        _callbackSupport: function(t) {
            var n = this;
            return e.isFunction(t) && t.call(n, n.dropdown), n
        },
        _setText: function(e, t) {
            var n = this;
            return n.options.html ? e.html(t) : e.text(t), n
        },
        open: function(e) {
            var t = this,
                n = t.options.showEffect,
                r = t.options.showEffectSpeed,
                i = t.options.showEffectOptions,
                s = t.options["native"],
                o = t.isMobile;
            return !t.listItems.length || t.dropdown.hasClass(t.theme.disabled) ? t : (!s && !o && !this.list.is(":visible") && (t.triggerEvent("open"), t._dynamicPositioning && t.options.dynamicPositioning && t._dynamicPositioning(), n === "none" ? t.list.show() : n === "show" || n === "slideDown" || n === "fadeIn" ? t.list[n](r) : t.list.show(n, i, r), t.list.promise().done(function() {
                t._scrollToView("search"), t.triggerEvent("opened")
            })), t._callbackSupport(e), t)
        },
        close: function(e) {
            var t = this,
                n = t.options.hideEffect,
                r = t.options.hideEffectSpeed,
                i = t.options.hideEffectOptions,
                s = t.options["native"],
                o = t.isMobile;
            return !s && !o && t.list.is(":visible") && (t.triggerEvent("close"), n === "none" ? t.list.hide() : n === "hide" || n === "slideUp" || n === "fadeOut" ? t.list[n](r) : t.list.hide(n, i, r), t.list.promise().done(function() {
                t.triggerEvent("closed")
            })), t._callbackSupport(e), t
        },
        toggle: function() {
            var e = this,
                t = e.list.is(":visible");
            t ? e.close() : t || e.open()
        },
        _keyMappings: {
            38: "up",
            40: "down",
            13: "enter",
            8: "backspace",
            9: "tab",
            32: "space",
            27: "esc"
        },
        _keydownMethods: function() {
            var e = this,
                t = e.list.is(":visible") || !e.options.keydownOpen;
            return {
                down: function() {
                    e.moveDown && t && e.moveDown()
                },
                up: function() {
                    e.moveUp && t && e.moveUp()
                },
                enter: function() {
                    var t = e.listItems.eq(e.currentFocus);
                    e._update(t), t.attr("data-preventclose") !== "true" && e.close(), e.triggerEvent("enter")
                },
                tab: function() {
                    e.triggerEvent("tab-blur"), e.close()
                },
                backspace: function() {
                    e.triggerEvent("backspace")
                },
                esc: function() {
                    e.close()
                }
            }
        },
        _eventHandlers: function() {
            var t = this,
                n = t.options.nativeMousedown,
                r = t.options.customShowHideEvent,
                i, s, o = t.focusClass,
                u = t.hoverClass,
                a = t.openClass;
            return this.dropdown.on({
                "click.selectBoxIt": function() {
                    t.dropdown.trigger("focus", !0), t.originalElem.disabled || (t.triggerEvent("click"), !n && !r && t.toggle())
                },
                "mousedown.selectBoxIt": function() {
                    e(this).data("mdown", !0), t.triggerEvent("mousedown"), n && !r && t.toggle()
                },
                "mouseup.selectBoxIt": function() {
                    t.triggerEvent("mouseup")
                },
                "blur.selectBoxIt": function() {
                    t.blur && (t.triggerEvent("blur"), t.close(), e(this).removeClass(o))
                },
                "focus.selectBoxIt": function(n, r) {
                    var i = e(this).data("mdown");
                    e(this).removeData("mdown"), !i && !r && setTimeout(function() {
                        t.triggerEvent("tab-focus")
                    }, 0), r || (e(this).hasClass(t.theme.disabled) || e(this).addClass(o), t.triggerEvent("focus"))
                },
                "keydown.selectBoxIt": function(e) {
                    var n = t._keyMappings[e.keyCode],
                        r = t._keydownMethods()[n];
                    r && (r(), t.options.keydownOpen && (n === "up" || n === "down") && t.open()), r && n !== "tab" && e.preventDefault()
                },
                "keypress.selectBoxIt": function(e) {
                    var n = e.charCode || e.keyCode,
                        r = t._keyMappings[e.charCode || e.keyCode],
                        i = String.fromCharCode(n);
                    t.search && (!r || r && r === "space") && t.search(i, !0, !0), r === "space" && e.preventDefault()
                },
                "mouseenter.selectBoxIt": function() {
                    t.triggerEvent("mouseenter")
                },
                "mouseleave.selectBoxIt": function() {
                    t.triggerEvent("mouseleave")
                }
            }), t.list.on({
                "mouseover.selectBoxIt": function() {
                    t.blur = !1
                },
                "mouseout.selectBoxIt": function() {
                    t.blur = !0
                },
                "focusin.selectBoxIt": function() {
                    t.dropdown.trigger("focus", !0)
                }
            }), t.list.on({
                "mousedown.selectBoxIt": function() {
                    t._update(e(this)), t.triggerEvent("option-click"), e(this).attr("data-disabled") === "false" && e(this).attr("data-preventclose") !== "true" && t.close(), setTimeout(function() {
                        t.dropdown.trigger("focus", !0)
                    }, 0)
                },
                "focusin.selectBoxIt": function() {
                    t.listItems.not(e(this)).removeAttr("data-active"), e(this).attr("data-active", "");
                    var n = t.list.is(":hidden");
                    (t.options.searchWhenHidden && n || t.options.aggressiveChange || n && t.options.selectWhenHidden) && t._update(e(this)), e(this).addClass(o)
                },
                "mouseup.selectBoxIt": function() {
                    n && !r && (t._update(e(this)), t.triggerEvent("option-mouseup"), e(this).attr("data-disabled") === "false" && e(this).attr("data-preventclose") !== "true" && t.close())
                },
                "mouseenter.selectBoxIt": function() {
                    e(this).attr("data-disabled") === "false" && (t.listItems.removeAttr("data-active"), e(this).addClass(o).attr("data-active", ""), t.listItems.not(e(this)).removeClass(o), e(this).addClass(o), t.currentFocus = +e(this).attr("data-id"))
                },
                "mouseleave.selectBoxIt": function() {
                    e(this).attr("data-disabled") === "false" && (t.listItems.not(e(this)).removeClass(o).removeAttr("data-active"), e(this).addClass(o), t.currentFocus = +e(this).attr("data-id"))
                },
                "blur.selectBoxIt": function() {
                    e(this).removeClass(o)
                }
            }, ".selectboxit-option"), t.list.on({
                "click.selectBoxIt": function(e) {
                    e.preventDefault()
                }
            }, "a"), t.selectBox.on({
                "change.selectBoxIt, internal-change.selectBoxIt": function(e, n) {
                    var r, o;
                    n || (r = t.list.find('li[data-val="' + t.originalElem.value + '"]'), r.length && (t.listItems.eq(t.currentFocus).removeClass(t.focusClass), t.currentFocus = +r.attr("data-id"))), r = t.listItems.eq(t.currentFocus), o = r.attr("data-selectedtext"), i = r.attr("data-text"), s = i ? i : r.find("a").text(), t._setText(t.dropdownText, o || s), t.dropdownText.attr("data-val", t.originalElem.value), r.find("i").attr("class") && (t.dropdownImage.attr("class", r.find("i").attr("class")).addClass("selectboxit-default-icon"), t.dropdownImage.attr("style", r.find("i").attr("style"))), t.triggerEvent("changed")
                },
                "disable.selectBoxIt": function() {
                    t.dropdown.addClass(t.theme.disabled)
                },
                "enable.selectBoxIt": function() {
                    t.dropdown.removeClass(t.theme.disabled)
                },
                "open.selectBoxIt": function() {
                    var e = t.list.find("li[data-val='" + t.dropdownText.attr("data-val") + "']"),
                        n;
                    e.length || (e = t.listItems.not("[data-disabled=true]").first()), t.currentFocus = +e.attr("data-id"), n = t.listItems.eq(t.currentFocus), t.dropdown.addClass(a).removeClass(u).addClass(o), t.listItems.removeClass(t.selectedClass).removeAttr("data-active").not(n).removeClass(o), n.addClass(t.selectedClass).addClass(o), t.options.hideCurrent && (t.listItems.show(), n.hide())
                },
                "close.selectBoxIt": function() {
                    t.dropdown.removeClass(a)
                },
                "blur.selectBoxIt": function() {
                    t.dropdown.removeClass(o)
                },
                "mouseenter.selectBoxIt": function() {
                    e(this).hasClass(t.theme.disabled) || t.dropdown.addClass(u)
                },
                "mouseleave.selectBoxIt": function() {
                    t.dropdown.removeClass(u)
                },
                destroy: function(e) {
                    e.preventDefault(), e.stopPropagation()
                }
            }), t
        },
        _update: function(e) {
            var t = this,
                n, r, i, s = t.options.defaultText || t.selectBox.attr("data-text"),
                o = t.listItems.eq(t.currentFocus);
            e.attr("data-disabled") === "false" && (n = t.listItems.eq(t.currentFocus).attr("data-selectedtext"), r = o.attr("data-text"), i = r ? r : o.text(), (s && t.options.html ? t.dropdownText.html() === s : t.dropdownText.text() === s) && t.selectBox.val() === e.attr("data-val") ? t.triggerEvent("change") : (t.selectBox.val(e.attr("data-val")), t.currentFocus = +e.attr("data-id"), t.originalElem.value !== t.dropdownText.attr("data-val") && t.triggerEvent("change")))
        },
        _addClasses: function(e) {
            var t = this,
                n = t.focusClass = e.focus,
                r = t.hoverClass = e.hover,
                i = e.button,
                s = e.list,
                o = e.arrow,
                u = e.container,
                a = t.openClass = e.open;
            return t.selectedClass = "selectboxit-selected", t.downArrow.addClass(t.selectBox.attr("data-downarrow") || t.options.downArrowIcon || o), t.dropdownContainer.addClass(u), t.dropdown.addClass(i), t.list.addClass(s), t
        },
        refresh: function(e, t) {
            var n = this;
            return n._destroySelectBoxIt()._create(!0), t || n.triggerEvent("refresh"), n._callbackSupport(e), n
        },
        htmlEscape: function(e) {
            return String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
        },
        triggerEvent: function(e) {
            var t = this,
                n = t.options.showFirstOption ? t.currentFocus : t.currentFocus - 1 >= 0 ? t.currentFocus : 0;
            return t.selectBox.trigger(e, {
                selectbox: t.selectBox,
                selectboxOption: t.selectItems.eq(n),
                dropdown: t.dropdown,
                dropdownOption: t.listItems.eq(t.currentFocus)
            }), t
        },
        _copyAttributes: function() {
            var e = this;
            return e._addSelectBoxAttributes && e._addSelectBoxAttributes(), e
        },
        _realOuterWidth: function(e) {
            if (e.is(":visible")) return e.outerWidth(!0);
            var t = this,
                n = e.clone(),
                r;
            return n.css({
                visibility: "hidden",
                display: "block",
                position: "absolute"
            }).appendTo("body"), r = n.outerWidth(!0), n.remove(), r
        }
    });
    var i = e.selectBox.selectBoxIt.prototype;
    i.add = function(t, n) {
        this._populate(t, function(t) {
            var r = this,
                i = e.type(t),
                s, o = 0,
                u, a = [],
                f = r._isJSON(t),
                l = f && r._parseJSON(t);
            if (t && (i === "array" || f && l.data && e.type(l.data) === "array") || i === "object" && t.data && e.type(t.data) === "array") {
                r._isJSON(t) && (t = l), t.data && (t = t.data);
                for (u = t.length; o <= u - 1; o += 1) s = t[o], e.isPlainObject(s) ? a.push(e("<option/>", s)) : e.type(s) === "string" && a.push(e("<option/>", {
                    text: s,
                    value: s
                }));
                r.selectBox.append(a)
            } else t && i === "string" && !r._isJSON(t) ? r.selectBox.append(t) : t && i === "object" ? r.selectBox.append(e("<option/>", t)) : t && r._isJSON(t) && e.isPlainObject(r._parseJSON(t)) && r.selectBox.append(e("<option/>", r._parseJSON(t)));
            return r.dropdown ? r.refresh(function() {
                r._callbackSupport(n)
            }, !0) : r._callbackSupport(n), r
        })
    }, i._parseJSON = function(t) {
        return JSON && JSON.parse && JSON.parse(t) || e.parseJSON(t)
    }, i._isJSON = function(e) {
        var t = this,
            n;
        try {
            return n = t._parseJSON(e), !0
        } catch (r) {
            return !1
        }
    }, i._populate = function(t, n) {
        var r = this;
        return t = e.isFunction(t) ? t.call() : t, r.isDeferred(t) ? t.done(function(e) {
            n.call(r, e)
        }) : n.call(r, t), r
    }, i._ariaAccessibility = function() {
        var t = this,
            n = e("label[for='" + t.originalElem.id + "']");
        return t.dropdownContainer.attr({
            role: "combobox",
            "aria-autocomplete": "list",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-owns": t.list[0].id
        }), t.dropdownText.attr({
            "aria-live": "polite"
        }), t.dropdown.on({
            "disable.selectBoxIt": function() {
                t.dropdownContainer.attr("aria-disabled", "true")
            },
            "enable.selectBoxIt": function() {
                t.dropdownContainer.attr("aria-disabled", "false")
            }
        }), n.length && t.dropdownContainer.attr("aria-labelledby", n[0].id), t.list.attr({
            role: "listbox",
            "aria-hidden": "true"
        }), t.listItems.attr({
            role: "option"
        }), t.selectBox.on({
            "open.selectBoxIt": function() {
                t.list.attr("aria-hidden", "false"), t.dropdownContainer.attr("aria-expanded", "true")
            },
            "close.selectBoxIt": function() {
                t.list.attr("aria-hidden", "true"), t.dropdownContainer.attr("aria-expanded", "false")
            }
        }), t
    }, i._addSelectBoxAttributes = function() {
        var t = this;
        return t._addAttributes(t.selectBox.prop("attributes"), t.dropdown), t.selectItems.each(function(n) {
            t._addAttributes(e(this).prop("attributes"), t.listItems.eq(n))
        }), t
    }, i._addAttributes = function(t, n) {
        var r = this,
            i = r.options.copyAttributes;
        return t.length && e.each(t, function(t, r) {
            var s = r.name.toLowerCase(),
                o = r.value;
            o !== "null" && (e.inArray(s, i) !== -1 || s.indexOf("data") !== -1) && n.attr(s, o)
        }), r
    }, i.destroy = function(e) {
        var t = this;
        return t._destroySelectBoxIt(), t.widgetProto.destroy.call(t), t._callbackSupport(e), t
    }, i._destroySelectBoxIt = function() {
        var t = this;
        return t.dropdown.off(".selectBoxIt"), e.contains(t.dropdownContainer[0], t.originalElem) && t.dropdownContainer.before(t.selectBox), t.dropdownContainer.remove(), t.selectBox.removeAttr("style").attr("style", t.selectBoxStyles), t.triggerEvent("destroy"), t
    }, i.disable = function(e) {
        var t = this;
        return t.options.disabled || (t.close(), t.selectBox.attr("disabled", "disabled"), t.dropdown.removeAttr("tabindex").removeClass(t.theme.enabled).addClass(t.theme.disabled), t.setOption("disabled", !0), t.triggerEvent("disable")), t._callbackSupport(e), t
    }, i.disableOption = function(t, n) {
        var r = this,
            i, s, o, u = e.type(t);
        return u === "number" && (r.close(), i = r.selectBox.find("option").eq(t), r.triggerEvent("disable-option"), i.attr("disabled", "disabled"), r.listItems.eq(t).attr("data-disabled", "true").addClass(r.theme.disabled), r.currentFocus === t && (s = r.listItems.eq(r.currentFocus).nextAll("li").not("[data-disabled='true']").first().length, o = r.listItems.eq(r.currentFocus).prevAll("li").not("[data-disabled='true']").first().length, s ? r.moveDown() : o ? r.moveUp() : r.disable())), r._callbackSupport(n), r
    }, i._isDisabled = function(e) {
        var t = this;
        return t.originalElem.disabled && t.disable(), t
    }, i._dynamicPositioning = function() {
        var t = this;
        if (e.type(t.listSize) === "number") t.list.css("max-height", t.maxHeight || "none");
        else {
            var n = t.dropdown.offset().top,
                r = t.list.data("max-height") || t.list.outerHeight(),
                i = t.dropdown.outerHeight(),
                s = t.options.viewport,
                o = s.height(),
                u = e.isWindow(s.get(0)) ? s.scrollTop() : s.offset().top,
                a = n + i + r <= o + u,
                f = !a;
            t.list.data("max-height") || t.list.data("max-height", t.list.outerHeight());
            if (!f) t.list.css("max-height", r), t.list.css("top", "auto");
            else if (t.dropdown.offset().top - u >= r) t.list.css("max-height", r), t.list.css("top", t.dropdown.position().top - t.list.outerHeight());
            else {
                var l = Math.abs(n + i + r - (o + u)),
                    c = Math.abs(t.dropdown.offset().top - u - r);
                l < c ? (t.list.css("max-height", r - l - i / 2), t.list.css("top", "auto")) : (t.list.css("max-height", r - c - i / 2), t.list.css("top", t.dropdown.position().top - t.list.outerHeight()))
            }
        }
        return t
    }, i.enable = function(e) {
        var t = this;
        return t.options.disabled && (t.triggerEvent("enable"), t.selectBox.removeAttr("disabled"), t.dropdown.attr("tabindex", 0).removeClass(t.theme.disabled).addClass(t.theme.enabled), t.setOption("disabled", !1), t._callbackSupport(e)), t
    }, i.enableOption = function(t, n) {
        var r = this,
            i, s = 0,
            o, u, a = e.type(t);
        return a === "number" && (i = r.selectBox.find("option").eq(t), r.triggerEvent("enable-option"), i.removeAttr("disabled"), r.listItems.eq(t).attr("data-disabled", "false").removeClass(r.theme.disabled)), r._callbackSupport(n), r
    }, i.moveDown = function(e) {
        var t = this;
        t.currentFocus += 1;
        var n = t.listItems.eq(t.currentFocus).attr("data-disabled") === "true" ? !0 : !1,
            r = t.listItems.eq(t.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;
        if (t.currentFocus === t.listItems.length) t.currentFocus -= 1;
        else {
            if (n && r) {
                t.listItems.eq(t.currentFocus - 1).blur(), t.moveDown();
                return
            }
            n && !r ? t.currentFocus -= 1 : (t.listItems.eq(t.currentFocus - 1).blur().end().eq(t.currentFocus).focusin(), t._scrollToView("down"), t.triggerEvent("moveDown"))
        }
        return t._callbackSupport(e), t
    }, i.moveUp = function(e) {
        var t = this;
        t.currentFocus -= 1;
        var n = t.listItems.eq(t.currentFocus).attr("data-disabled") === "true" ? !0 : !1,
            r = t.listItems.eq(t.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;
        if (t.currentFocus === -1) t.currentFocus += 1;
        else {
            if (n && r) {
                t.listItems.eq(t.currentFocus + 1).blur(), t.moveUp();
                return
            }
            n && !r ? t.currentFocus += 1 : (t.listItems.eq(this.currentFocus + 1).blur().end().eq(t.currentFocus).focusin(), t._scrollToView("up"), t.triggerEvent("moveUp"))
        }
        return t._callbackSupport(e), t
    }, i._setCurrentSearchOption = function(e) {
        var t = this;
        return (t.options.aggressiveChange || t.options.selectWhenHidden || t.listItems.eq(e).is(":visible")) && t.listItems.eq(e).data("disabled") !== !0 && (t.listItems.eq(t.currentFocus).blur(), t.currentIndex = e, t.currentFocus = e, t.listItems.eq(t.currentFocus).focusin(), t._scrollToView("search"), t.triggerEvent("search")), t
    }, i._searchAlgorithm = function(e, t) {
        var n = this,
            r = !1,
            i, s, o, u, a = n.textArray,
            f = n.currentText;
        for (i = e, o = a.length; i < o; i += 1) {
            u = a[i];
            for (s = 0; s < o; s += 1) a[s].search(t) !== -1 && (r = !0, s = o);
            r || (n.currentText = n.currentText.charAt(n.currentText.length - 1).replace(/[|()\[{.+*?$\\]/g, "\\$0"), f = n.currentText), t = new RegExp(f, "gi");
            if (f.length < 3) {
                t = new RegExp(f.charAt(0), "gi");
                if (u.charAt(0).search(t) !== -1) {
                    n._setCurrentSearchOption(i);
                    if (u.substring(0, f.length).toLowerCase() !== f.toLowerCase() || n.options.similarSearch) n.currentIndex += 1;
                    return !1
                }
            } else if (u.search(t) !== -1) return n._setCurrentSearchOption(i), !1;
            if (u.toLowerCase() === n.currentText.toLowerCase()) return n._setCurrentSearchOption(i), n.currentText = "", !1
        }
        return !0
    }, i.search = function(e, t, n) {
        var r = this;
        n ? r.currentText += e.replace(/[|()\[{.+*?$\\]/g, "\\$0") : r.currentText = e.replace(/[|()\[{.+*?$\\]/g, "\\$0");
        var i = r._searchAlgorithm(r.currentIndex, new RegExp(r.currentText, "gi"));
        return i && r._searchAlgorithm(0, r.currentText), r._callbackSupport(t), r
    }, i._updateMobileText = function() {
        var e = this,
            t, n, r;
        t = e.selectBox.find("option").filter(":selected"), n = t.attr("data-text"), r = n ? n : t.text(), e._setText(e.dropdownText, r), e.list.find('li[data-val="' + t.val() + '"]').find("i").attr("class") && e.dropdownImage.attr("class", e.list.find('li[data-val="' + t.val() + '"]').find("i").attr("class")).addClass("selectboxit-default-icon")
    }, i._applyNativeSelect = function() {
        var e = this;
        return e.dropdownContainer.append(e.selectBox), e.dropdown.attr("tabindex", "-1"), e.selectBox.css({
            display: "block",
            visibility: "visible",
            width: e._realOuterWidth(e.dropdown),
            height: e.dropdown.outerHeight(),
            opacity: "0",
            position: "absolute",
            top: "0",
            left: "0",
            cursor: "pointer",
            "z-index": "999999",
            margin: e.dropdown.css("margin"),
            padding: "0",
            "-webkit-appearance": "menulist-button"
        }), e.originalElem.disabled && e.triggerEvent("disable"), this
    }, i._mobileEvents = function() {
        var e = this;
        e.selectBox.on({
            "changed.selectBoxIt": function() {
                e.hasChanged = !0, e._updateMobileText(), e.triggerEvent("option-click")
            },
            "mousedown.selectBoxIt": function() {
                !e.hasChanged && e.options.defaultText && !e.originalElem.disabled && (e._updateMobileText(), e.triggerEvent("option-click"))
            },
            "enable.selectBoxIt": function() {
                e.selectBox.removeClass("selectboxit-rendering")
            },
            "disable.selectBoxIt": function() {
                e.selectBox.addClass("selectboxit-rendering")
            }
        })
    }, i._mobile = function(e) {
        var t = this;
        return t.isMobile && (t._applyNativeSelect(), t._mobileEvents()), this
    }, i.remove = function(t, n) {
        var r = this,
            i = e.type(t),
            s, o = 0,
            u, a = "";
        if (i === "array") {
            for (u = t.length; o <= u - 1; o += 1) s = t[o], e.type(s) === "number" && (a.length ? a += ", option:eq(" + s + ")" : a += "option:eq(" + s + ")");
            r.selectBox.find(a).remove()
        } else i === "number" ? r.selectBox.find("option").eq(t).remove() : r.selectBox.find("option").remove();
        return r.dropdown ? r.refresh(function() {
            r._callbackSupport(n)
        }, !0) : r._callbackSupport(n), r
    }, i.selectOption = function(t, n) {
        var r = this,
            i = e.type(t);
        return i === "number" ? r.selectBox.val(r.selectItems.eq(t).val()).change() : i === "string" && r.selectBox.val(t).change(), r._callbackSupport(n), r
    }, i.setOption = function(t, n, r) {
        var i = this;
        return e.type(t) === "string" && (i.options[t] = n), i.refresh(function() {
            i._callbackSupport(r)
        }, !0), i
    }, i.setOptions = function(t, n) {
        var r = this;
        return e.isPlainObject(t) && (r.options = e.extend({}, r.options, t)), r.refresh(function() {
            r._callbackSupport(n)
        }, !0), r
    }, i.wait = function(e, t) {
        var n = this;
        return n.widgetProto._delay.call(n, t, e), n
    }
}),
function(e, t, n) {
    "$:nomunge";

    function r(r, i) {
        function u(t) {
            e(s).each(function() {
                var n = e(this);
                this !== t.target && !n.has(t.target).length && n.triggerHandler(i, [t.target])
            })
        }
        i = i || r + n;
        var s = e(),
            o = r + "." + i + "-special-event";
        e.event.special[i] = {
            setup: function() {
                s = s.add(this), s.length === 1 && e(t).bind(o, u)
            },
            teardown: function() {
                s = s.not(this), s.length === 0 && e(t).unbind(o)
            },
            add: function(e) {
                var t = e.handler;
                e.handler = function(e, n) {
                    e.target = n, t.apply(this, arguments)
                }
            }
        }
    }
    e.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "), function(e) {
        r(e)
    }), r("focusin", "focus" + n), r("focusout", "blur" + n), e.addOutsideEvent = r
}(jQuery, document, "outside");
var JSON;
JSON || (JSON = {}),
    function() {
        "use strict";

        function f(e) {
            return e < 10 ? "0" + e : e
        }

        function quote(e) {
            return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function(e) {
                var t = meta[e];
                return typeof t == "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + e + '"'
        }

        function str(e, t) {
            var n, r, i, s, o = gap,
                u, a = t[e];
            a && typeof a == "object" && typeof a.toJSON == "function" && (a = a.toJSON(e)), typeof rep == "function" && (a = rep.call(t, e, a));
            switch (typeof a) {
                case "string":
                    return quote(a);
                case "number":
                    return isFinite(a) ? String(a) : "null";
                case "boolean":
                case "null":
                    return String(a);
                case "object":
                    if (!a) return "null";
                    gap += indent, u = [];
                    if (Object.prototype.toString.apply(a) === "[object Array]") {
                        s = a.length;
                        for (n = 0; n < s; n += 1) u[n] = str(n, a) || "null";
                        return i = u.length === 0 ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]" : "[" + u.join(",") + "]", gap = o, i
                    }
                    if (rep && typeof rep == "object") {
                        s = rep.length;
                        for (n = 0; n < s; n += 1) typeof rep[n] == "string" && (r = rep[n], i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i))
                    } else
                        for (r in a) Object.prototype.hasOwnProperty.call(a, r) && (i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i));
                    return i = u.length === 0 ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}" : "{" + u.join(",") + "}", gap = o, i
            }
        }
        typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function(e) {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
        }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(e) {
            return this.valueOf()
        });
        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            gap, indent, meta = {
                "\b": "\\b",
                "	": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            },
            rep;
        typeof JSON.stringify != "function" && (JSON.stringify = function(e, t, n) {
            var r;
            gap = "", indent = "";
            if (typeof n == "number")
                for (r = 0; r < n; r += 1) indent += " ";
            else typeof n == "string" && (indent = n);
            rep = t;
            if (!t || typeof t == "function" || typeof t == "object" && typeof t.length == "number") return str("", {
                "": e
            });
            throw new Error("JSON.stringify")
        }), typeof JSON.parse != "function" && (JSON.parse = function(text, reviver) {
            function walk(e, t) {
                var n, r, i = e[t];
                if (i && typeof i == "object")
                    for (n in i) Object.prototype.hasOwnProperty.call(i, n) && (r = walk(i, n), r !== undefined ? i[n] = r : delete i[n]);
                return reviver.call(e, t, i)
            }
            var j;
            text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function(e) {
                return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            }));
            if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({
                "": j
            }, "") : j;
            throw new SyntaxError("JSON.parse")
        })
    }(),
    function() {
        var e = this,
            t = e._,
            n = {},
            r = Array.prototype,
            i = Object.prototype,
            s = Function.prototype,
            o = r.push,
            u = r.slice,
            a = r.concat,
            f = i.toString,
            l = i.hasOwnProperty,
            c = r.forEach,
            h = r.map,
            p = r.reduce,
            d = r.reduceRight,
            v = r.filter,
            m = r.every,
            g = r.some,
            y = r.indexOf,
            b = r.lastIndexOf,
            w = Array.isArray,
            E = Object.keys,
            S = s.bind,
            x = function(e) {
                return e instanceof x ? e : this instanceof x ? (this._wrapped = e, void 0) : new x(e)
            };
        "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = x), exports._ = x) : e._ = x, x.VERSION = "1.5.2";
        var T = x.each = x.forEach = function(e, t, r) {
            if (null != e)
                if (c && e.forEach === c) e.forEach(t, r);
                else if (e.length === +e.length) {
                for (var i = 0, s = e.length; s > i; i++)
                    if (t.call(r, e[i], i, e) === n) return
            } else
                for (var o = x.keys(e), i = 0, s = o.length; s > i; i++)
                    if (t.call(r, e[o[i]], o[i], e) === n) return
        };
        x.map = x.collect = function(e, t, n) {
            var r = [];
            return null == e ? r : h && e.map === h ? e.map(t, n) : (T(e, function(e, i, s) {
                r.push(t.call(n, e, i, s))
            }), r)
        };
        var N = "Reduce of empty array with no initial value";
        x.reduce = x.foldl = x.inject = function(e, t, n, r) {
            var i = arguments.length > 2;
            if (null == e && (e = []), p && e.reduce === p) return r && (t = x.bind(t, r)), i ? e.reduce(t, n) : e.reduce(t);
            if (T(e, function(e, s, o) {
                    i ? n = t.call(r, n, e, s, o) : (n = e, i = !0)
                }), !i) throw new TypeError(N);
            return n
        }, x.reduceRight = x.foldr = function(e, t, n, r) {
            var i = arguments.length > 2;
            if (null == e && (e = []), d && e.reduceRight === d) return r && (t = x.bind(t, r)), i ? e.reduceRight(t, n) : e.reduceRight(t);
            var s = e.length;
            if (s !== +s) {
                var o = x.keys(e);
                s = o.length
            }
            if (T(e, function(u, a, f) {
                    a = o ? o[--s] : --s, i ? n = t.call(r, n, e[a], a, f) : (n = e[a], i = !0)
                }), !i) throw new TypeError(N);
            return n
        }, x.find = x.detect = function(e, t, n) {
            var r;
            return C(e, function(e, i, s) {
                return t.call(n, e, i, s) ? (r = e, !0) : void 0
            }), r
        }, x.filter = x.select = function(e, t, n) {
            var r = [];
            return null == e ? r : v && e.filter === v ? e.filter(t, n) : (T(e, function(e, i, s) {
                t.call(n, e, i, s) && r.push(e)
            }), r)
        }, x.reject = function(e, t, n) {
            return x.filter(e, function(e, r, i) {
                return !t.call(n, e, r, i)
            }, n)
        }, x.every = x.all = function(e, t, r) {
            t || (t = x.identity);
            var i = !0;
            return null == e ? i : m && e.every === m ? e.every(t, r) : (T(e, function(e, s, o) {
                return (i = i && t.call(r, e, s, o)) ? void 0 : n
            }), !!i)
        };
        var C = x.some = x.any = function(e, t, r) {
            t || (t = x.identity);
            var i = !1;
            return null == e ? i : g && e.some === g ? e.some(t, r) : (T(e, function(e, s, o) {
                return i || (i = t.call(r, e, s, o)) ? n : void 0
            }), !!i)
        };
        x.contains = x.include = function(e, t) {
            return null == e ? !1 : y && e.indexOf === y ? e.indexOf(t) != -1 : C(e, function(e) {
                return e === t
            })
        }, x.invoke = function(e, t) {
            var n = u.call(arguments, 2),
                r = x.isFunction(t);
            return x.map(e, function(e) {
                return (r ? t : e[t]).apply(e, n)
            })
        }, x.pluck = function(e, t) {
            return x.map(e, function(e) {
                return e[t]
            })
        }, x.where = function(e, t, n) {
            return x.isEmpty(t) ? n ? void 0 : [] : x[n ? "find" : "filter"](e, function(e) {
                for (var n in t)
                    if (t[n] !== e[n]) return !1;
                return !0
            })
        }, x.findWhere = function(e, t) {
            return x.where(e, t, !0)
        }, x.max = function(e, t, n) {
            if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535) return Math.max.apply(Math, e);
            if (!t && x.isEmpty(e)) return -1 / 0;
            var r = {
                computed: -1 / 0,
                value: -1 / 0
            };
            return T(e, function(e, i, s) {
                var o = t ? t.call(n, e, i, s) : e;
                o > r.computed && (r = {
                    value: e,
                    computed: o
                })
            }), r.value
        }, x.min = function(e, t, n) {
            if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535) return Math.min.apply(Math, e);
            if (!t && x.isEmpty(e)) return 1 / 0;
            var r = {
                computed: 1 / 0,
                value: 1 / 0
            };
            return T(e, function(e, i, s) {
                var o = t ? t.call(n, e, i, s) : e;
                o < r.computed && (r = {
                    value: e,
                    computed: o
                })
            }), r.value
        }, x.shuffle = function(e) {
            var t, n = 0,
                r = [];
            return T(e, function(e) {
                t = x.random(n++), r[n - 1] = r[t], r[t] = e
            }), r
        }, x.sample = function(e, t, n) {
            return arguments.length < 2 || n ? e[x.random(e.length - 1)] : x.shuffle(e).slice(0, Math.max(0, t))
        };
        var k = function(e) {
            return x.isFunction(e) ? e : function(t) {
                return t[e]
            }
        };
        x.sortBy = function(e, t, n) {
            var r = k(t);
            return x.pluck(x.map(e, function(e, t, i) {
                return {
                    value: e,
                    index: t,
                    criteria: r.call(n, e, t, i)
                }
            }).sort(function(e, t) {
                var n = e.criteria,
                    r = t.criteria;
                if (n !== r) {
                    if (n > r || n === void 0) return 1;
                    if (r > n || r === void 0) return -1
                }
                return e.index - t.index
            }), "value")
        };
        var L = function(e) {
            return function(t, n, r) {
                var i = {},
                    s = null == n ? x.identity : k(n);
                return T(t, function(n, o) {
                    var u = s.call(r, n, o, t);
                    e(i, u, n)
                }), i
            }
        };
        x.groupBy = L(function(e, t, n) {
            (x.has(e, t) ? e[t] : e[t] = []).push(n)
        }), x.indexBy = L(function(e, t, n) {
            e[t] = n
        }), x.countBy = L(function(e, t) {
            x.has(e, t) ? e[t]++ : e[t] = 1
        }), x.sortedIndex = function(e, t, n, r) {
            n = null == n ? x.identity : k(n);
            for (var i = n.call(r, t), s = 0, o = e.length; o > s;) {
                var u = s + o >>> 1;
                n.call(r, e[u]) < i ? s = u + 1 : o = u
            }
            return s
        }, x.toArray = function(e) {
            return e ? x.isArray(e) ? u.call(e) : e.length === +e.length ? x.map(e, x.identity) : x.values(e) : []
        }, x.size = function(e) {
            return null == e ? 0 : e.length === +e.length ? e.length : x.keys(e).length
        }, x.first = x.head = x.take = function(e, t, n) {
            return null == e ? void 0 : null == t || n ? e[0] : u.call(e, 0, t)
        }, x.initial = function(e, t, n) {
            return u.call(e, 0, e.length - (null == t || n ? 1 : t))
        }, x.last = function(e, t, n) {
            return null == e ? void 0 : null == t || n ? e[e.length - 1] : u.call(e, Math.max(e.length - t, 0))
        }, x.rest = x.tail = x.drop = function(e, t, n) {
            return u.call(e, null == t || n ? 1 : t)
        }, x.compact = function(e) {
            return x.filter(e, x.identity)
        };
        var A = function(e, t, n) {
            return t && x.every(e, x.isArray) ? a.apply(n, e) : (T(e, function(e) {
                x.isArray(e) || x.isArguments(e) ? t ? o.apply(n, e) : A(e, t, n) : n.push(e)
            }), n)
        };
        x.flatten = function(e, t) {
            return A(e, t, [])
        }, x.without = function(e) {
            return x.difference(e, u.call(arguments, 1))
        }, x.uniq = x.unique = function(e, t, n, r) {
            x.isFunction(t) && (r = n, n = t, t = !1);
            var i = n ? x.map(e, n, r) : e,
                s = [],
                o = [];
            return T(i, function(n, r) {
                (t ? r && o[o.length - 1] === n : x.contains(o, n)) || (o.push(n), s.push(e[r]))
            }), s
        }, x.union = function() {
            return x.uniq(x.flatten(arguments, !0))
        }, x.intersection = function(e) {
            var t = u.call(arguments, 1);
            return x.filter(x.uniq(e), function(e) {
                return x.every(t, function(t) {
                    return x.indexOf(t, e) >= 0
                })
            })
        }, x.difference = function(e) {
            var t = a.apply(r, u.call(arguments, 1));
            return x.filter(e, function(e) {
                return !x.contains(t, e)
            })
        }, x.zip = function() {
            for (var e = x.max(x.pluck(arguments, "length").concat(0)), t = new Array(e), n = 0; e > n; n++) t[n] = x.pluck(arguments, "" + n);
            return t
        }, x.object = function(e, t) {
            if (null == e) return {};
            for (var n = {}, r = 0, i = e.length; i > r; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
            return n
        }, x.indexOf = function(e, t, n) {
            if (null == e) return -1;
            var r = 0,
                i = e.length;
            if (n) {
                if ("number" != typeof n) return r = x.sortedIndex(e, t), e[r] === t ? r : -1;
                r = 0 > n ? Math.max(0, i + n) : n
            }
            if (y && e.indexOf === y) return e.indexOf(t, n);
            for (; i > r; r++)
                if (e[r] === t) return r;
            return -1
        }, x.lastIndexOf = function(e, t, n) {
            if (null == e) return -1;
            var r = null != n;
            if (b && e.lastIndexOf === b) return r ? e.lastIndexOf(t, n) : e.lastIndexOf(t);
            for (var i = r ? n : e.length; i--;)
                if (e[i] === t) return i;
            return -1
        }, x.range = function(e, t, n) {
            arguments.length <= 1 && (t = e || 0, e = 0), n = arguments[2] || 1;
            for (var r = Math.max(Math.ceil((t - e) / n), 0), i = 0, s = new Array(r); r > i;) s[i++] = e, e += n;
            return s
        };
        var O = function() {};
        x.bind = function(e, t) {
            var n, r;
            if (S && e.bind === S) return S.apply(e, u.call(arguments, 1));
            if (!x.isFunction(e)) throw new TypeError;
            return n = u.call(arguments, 2), r = function() {
                if (this instanceof r) {
                    O.prototype = e.prototype;
                    var i = new O;
                    O.prototype = null;
                    var s = e.apply(i, n.concat(u.call(arguments)));
                    return Object(s) === s ? s : i
                }
                return e.apply(t, n.concat(u.call(arguments)))
            }
        }, x.partial = function(e) {
            var t = u.call(arguments, 1);
            return function() {
                return e.apply(this, t.concat(u.call(arguments)))
            }
        }, x.bindAll = function(e) {
            var t = u.call(arguments, 1);
            if (0 === t.length) throw new Error("bindAll must be passed function names");
            return T(t, function(t) {
                e[t] = x.bind(e[t], e)
            }), e
        }, x.memoize = function(e, t) {
            var n = {};
            return t || (t = x.identity),
                function() {
                    var r = t.apply(this, arguments);
                    return x.has(n, r) ? n[r] : n[r] = e.apply(this, arguments)
                }
        }, x.delay = function(e, t) {
            var n = u.call(arguments, 2);
            return setTimeout(function() {
                return e.apply(null, n)
            }, t)
        }, x.defer = function(e) {
            return x.delay.apply(x, [e, 1].concat(u.call(arguments, 1)))
        }, x.throttle = function(e, t, n) {
            var r, i, s, o = null,
                u = 0;
            n || (n = {});
            var a = function() {
                u = n.leading === !1 ? 0 : new Date, o = null, s = e.apply(r, i)
            };
            return function() {
                var f = new Date;
                u || n.leading !== !1 || (u = f);
                var l = t - (f - u);
                return r = this, i = arguments, 0 >= l ? (clearTimeout(o), o = null, u = f, s = e.apply(r, i)) : o || n.trailing === !1 || (o = setTimeout(a, l)), s
            }
        }, x.debounce = function(e, t, n) {
            var r, i, s, o, u;
            return function() {
                s = this, i = arguments, o = new Date;
                var a = function() {
                        var f = new Date - o;
                        t > f ? r = setTimeout(a, t - f) : (r = null, n || (u = e.apply(s, i)))
                    },
                    f = n && !r;
                return r || (r = setTimeout(a, t)), f && (u = e.apply(s, i)), u
            }
        }, x.once = function(e) {
            var t, n = !1;
            return function() {
                return n ? t : (n = !0, t = e.apply(this, arguments), e = null, t)
            }
        }, x.wrap = function(e, t) {
            return function() {
                var n = [e];
                return o.apply(n, arguments), t.apply(this, n)
            }
        }, x.compose = function() {
            var e = arguments;
            return function() {
                for (var t = arguments, n = e.length - 1; n >= 0; n--) t = [e[n].apply(this, t)];
                return t[0]
            }
        }, x.after = function(e, t) {
            return function() {
                return --e < 1 ? t.apply(this, arguments) : void 0
            }
        }, x.keys = E || function(e) {
            if (e !== Object(e)) throw new TypeError("Invalid object");
            var t = [];
            for (var n in e) x.has(e, n) && t.push(n);
            return t
        }, x.values = function(e) {
            for (var t = x.keys(e), n = t.length, r = new Array(n), i = 0; n > i; i++) r[i] = e[t[i]];
            return r
        }, x.pairs = function(e) {
            for (var t = x.keys(e), n = t.length, r = new Array(n), i = 0; n > i; i++) r[i] = [t[i], e[t[i]]];
            return r
        }, x.invert = function(e) {
            for (var t = {}, n = x.keys(e), r = 0, i = n.length; i > r; r++) t[e[n[r]]] = n[r];
            return t
        }, x.functions = x.methods = function(e) {
            var t = [];
            for (var n in e) x.isFunction(e[n]) && t.push(n);
            return t.sort()
        }, x.extend = function(e) {
            return T(u.call(arguments, 1), function(t) {
                if (t)
                    for (var n in t) e[n] = t[n]
            }), e
        }, x.pick = function(e) {
            var t = {},
                n = a.apply(r, u.call(arguments, 1));
            return T(n, function(n) {
                n in e && (t[n] = e[n])
            }), t
        }, x.omit = function(e) {
            var t = {},
                n = a.apply(r, u.call(arguments, 1));
            for (var i in e) x.contains(n, i) || (t[i] = e[i]);
            return t
        }, x.defaults = function(e) {
            return T(u.call(arguments, 1), function(t) {
                if (t)
                    for (var n in t) e[n] === void 0 && (e[n] = t[n])
            }), e
        }, x.clone = function(e) {
            return x.isObject(e) ? x.isArray(e) ? e.slice() : x.extend({}, e) : e
        }, x.tap = function(e, t) {
            return t(e), e
        };
        var M = function(e, t, n, r) {
            if (e === t) return 0 !== e || 1 / e == 1 / t;
            if (null == e || null == t) return e === t;
            e instanceof x && (e = e._wrapped), t instanceof x && (t = t._wrapped);
            var i = f.call(e);
            if (i != f.call(t)) return !1;
            switch (i) {
                case "[object String]":
                    return e == String(t);
                case "[object Number]":
                    return e != +e ? t != +t : 0 == e ? 1 / e == 1 / t : e == +t;
                case "[object Date]":
                case "[object Boolean]":
                    return +e == +t;
                case "[object RegExp]":
                    return e.source == t.source && e.global == t.global && e.multiline == t.multiline && e.ignoreCase == t.ignoreCase
            }
            if ("object" != typeof e || "object" != typeof t) return !1;
            for (var s = n.length; s--;)
                if (n[s] == e) return r[s] == t;
            var o = e.constructor,
                u = t.constructor;
            if (o !== u && !(x.isFunction(o) && o instanceof o && x.isFunction(u) && u instanceof u)) return !1;
            n.push(e), r.push(t);
            var a = 0,
                l = !0;
            if ("[object Array]" == i) {
                if (a = e.length, l = a == t.length)
                    for (; a-- && (l = M(e[a], t[a], n, r)););
            } else {
                for (var c in e)
                    if (x.has(e, c) && (a++, !(l = x.has(t, c) && M(e[c], t[c], n, r)))) break;
                if (l) {
                    for (c in t)
                        if (x.has(t, c) && !(a--)) break;
                    l = !a
                }
            }
            return n.pop(), r.pop(), l
        };
        x.isEqual = function(e, t) {
            return M(e, t, [], [])
        }, x.isEmpty = function(e) {
            if (null == e) return !0;
            if (x.isArray(e) || x.isString(e)) return 0 === e.length;
            for (var t in e)
                if (x.has(e, t)) return !1;
            return !0
        }, x.isElement = function(e) {
            return !!e && 1 === e.nodeType
        }, x.isArray = w || function(e) {
            return "[object Array]" == f.call(e)
        }, x.isObject = function(e) {
            return e === Object(e)
        }, T(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(e) {
            x["is" + e] = function(t) {
                return f.call(t) == "[object " + e + "]"
            }
        }), x.isArguments(arguments) || (x.isArguments = function(e) {
            return !!e && !!x.has(e, "callee")
        }), "function" != typeof /./ && (x.isFunction = function(e) {
            return "function" == typeof e
        }), x.isFinite = function(e) {
            return isFinite(e) && !isNaN(parseFloat(e))
        }, x.isNaN = function(e) {
            return x.isNumber(e) && e != +e
        }, x.isBoolean = function(e) {
            return e === !0 || e === !1 || "[object Boolean]" == f.call(e)
        }, x.isNull = function(e) {
            return null === e
        }, x.isUndefined = function(e) {
            return e === void 0
        }, x.has = function(e, t) {
            return l.call(e, t)
        }, x.noConflict = function() {
            return e._ = t, this
        }, x.identity = function(e) {
            return e
        }, x.times = function(e, t, n) {
            for (var r = Array(Math.max(0, e)), i = 0; e > i; i++) r[i] = t.call(n, i);
            return r
        }, x.random = function(e, t) {
            return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1))
        };
        var _ = {
            escape: {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;"
            }
        };
        _.unescape = x.invert(_.escape);
        var D = {
            escape: new RegExp("[" + x.keys(_.escape).join("") + "]", "g"),
            unescape: new RegExp("(" + x.keys(_.unescape).join("|") + ")", "g")
        };
        x.each(["escape", "unescape"], function(e) {
            x[e] = function(t) {
                return null == t ? "" : ("" + t).replace(D[e], function(t) {
                    return _[e][t]
                })
            }
        }), x.result = function(e, t) {
            if (null == e) return void 0;
            var n = e[t];
            return x.isFunction(n) ? n.call(e) : n
        }, x.mixin = function(e) {
            T(x.functions(e), function(t) {
                var n = x[t] = e[t];
                x.prototype[t] = function() {
                    var e = [this._wrapped];
                    return o.apply(e, arguments), F.call(this, n.apply(x, e))
                }
            })
        };
        var P = 0;
        x.uniqueId = function(e) {
            var t = ++P + "";
            return e ? e + t : t
        }, x.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var H = /(.)^/,
            B = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                " ": "t",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            j = /\\|'|\r|\n|\t|\u2028|\u2029/g;
        x.template = function(e, t, n) {
            var r;
            n = x.defaults({}, n, x.templateSettings);
            var i = new RegExp([(n.escape || H).source, (n.interpolate || H).source, (n.evaluate || H).source].join("|") + "|$", "g"),
                s = 0,
                o = "__p+='";
            e.replace(i, function(t, n, r, i, u) {
                return o += e.slice(s, u).replace(j, function(e) {
                    return "\\" + B[e]
                }), n && (o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'"), r && (o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'"), i && (o += "';\n" + i + "\n__p+='"), s = u + t.length, t
            }), o += "';\n", n.variable || (o = "with(obj||{}){\n" + o + "}\n"), o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
            try {
                r = new Function(n.variable || "obj", "_", o)
            } catch (u) {
                throw u.source = o, u
            }
            if (t) return r(t, x);
            var a = function(e) {
                return r.call(this, e, x)
            };
            return a.source = "function(" + (n.variable || "obj") + "){\n" + o + "}", a
        }, x.chain = function(e) {
            return x(e).chain()
        };
        var F = function(e) {
            return this._chain ? x(e).chain() : e
        };
        x.mixin(x), T(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(e) {
            var t = r[e];
            x.prototype[e] = function() {
                var n = this._wrapped;
                return t.apply(n, arguments), "shift" != e && "splice" != e || 0 !== n.length || delete n[0], F.call(this, n)
            }
        }), T(["concat", "join", "slice"], function(e) {
            var t = r[e];
            x.prototype[e] = function() {
                return F.call(this, t.apply(this._wrapped, arguments))
            }
        }), x.extend(x.prototype, {
            chain: function() {
                return this._chain = !0, this
            },
            value: function() {
                return this._wrapped
            }
        })
    }.call(this),
    function() {
        var e = this,
            t = e.Backbone,
            n = [],
            r = n.push,
            i = n.slice,
            s = n.splice,
            o;
        typeof exports != "undefined" ? o = exports : o = e.Backbone = {}, o.VERSION = "1.1.0";
        var u = e._;
        !u && typeof require != "undefined" && (u = require("underscore")), o.$ = e.jQuery || e.Zepto || e.ender || e.$, o.noConflict = function() {
            return e.Backbone = t, this
        }, o.emulateHTTP = !1, o.emulateJSON = !1;
        var a = o.Events = {
                on: function(e, t, n) {
                    if (!l(this, "on", e, [t, n]) || !t) return this;
                    this._events || (this._events = {});
                    var r = this._events[e] || (this._events[e] = []);
                    return r.push({
                        callback: t,
                        context: n,
                        ctx: n || this
                    }), this
                },
                once: function(e, t, n) {
                    if (!l(this, "once", e, [t, n]) || !t) return this;
                    var r = this,
                        i = u.once(function() {
                            r.off(e, i), t.apply(this, arguments)
                        });
                    return i._callback = t, this.on(e, i, n)
                },
                off: function(e, t, n) {
                    var r, i, s, o, a, f, c, h;
                    if (!this._events || !l(this, "off", e, [t, n])) return this;
                    if (!e && !t && !n) return this._events = {}, this;
                    o = e ? [e] : u.keys(this._events);
                    for (a = 0, f = o.length; a < f; a++) {
                        e = o[a];
                        if (s = this._events[e]) {
                            this._events[e] = r = [];
                            if (t || n)
                                for (c = 0, h = s.length; c < h; c++) i = s[c], (t && t !== i.callback && t !== i.callback._callback || n && n !== i.context) && r.push(i);
                            r.length || delete this._events[e]
                        }
                    }
                    return this
                },
                trigger: function(e) {
                    if (!this._events) return this;
                    var t = i.call(arguments, 1);
                    if (!l(this, "trigger", e, t)) return this;
                    var n = this._events[e],
                        r = this._events.all;
                    return n && c(n, t), r && c(r, arguments), this
                },
                stopListening: function(e, t, n) {
                    var r = this._listeningTo;
                    if (!r) return this;
                    var i = !t && !n;
                    !n && typeof t == "object" && (n = this), e && ((r = {})[e._listenId] = e);
                    for (var s in r) e = r[s], e.off(t, n, this), (i || u.isEmpty(e._events)) && delete this._listeningTo[s];
                    return this
                }
            },
            f = /\s+/,
            l = function(e, t, n, r) {
                if (!n) return !0;
                if (typeof n == "object") {
                    for (var i in n) e[t].apply(e, [i, n[i]].concat(r));
                    return !1
                }
                if (f.test(n)) {
                    var s = n.split(f);
                    for (var o = 0, u = s.length; o < u; o++) e[t].apply(e, [s[o]].concat(r));
                    return !1
                }
                return !0
            },
            c = function(e, t) {
                var n, r = -1,
                    i = e.length,
                    s = t[0],
                    o = t[1],
                    u = t[2];
                switch (t.length) {
                    case 0:
                        while (++r < i)(n = e[r]).callback.call(n.ctx);
                        return;
                    case 1:
                        while (++r < i)(n = e[r]).callback.call(n.ctx, s);
                        return;
                    case 2:
                        while (++r < i)(n = e[r]).callback.call(n.ctx, s, o);
                        return;
                    case 3:
                        while (++r < i)(n = e[r]).callback.call(n.ctx, s, o, u);
                        return;
                    default:
                        while (++r < i)(n = e[r]).callback.apply(n.ctx, t)
                }
            },
            h = {
                listenTo: "on",
                listenToOnce: "once"
            };
        u.each(h, function(e, t) {
            a[t] = function(t, n, r) {
                var i = this._listeningTo || (this._listeningTo = {}),
                    s = t._listenId || (t._listenId = u.uniqueId("l"));
                return i[s] = t, !r && typeof n == "object" && (r = this), t[e](n, r, this), this
            }
        }), a.bind = a.on, a.unbind = a.off, u.extend(o, a);
        var p = o.Model = function(e, t) {
            var n = e || {};
            t || (t = {}), this.cid = u.uniqueId("c"), this.attributes = {}, t.collection && (this.collection = t.collection), t.parse && (n = this.parse(n, t) || {}), n = u.defaults({}, n, u.result(this, "defaults")), this.set(n, t), this.changed = {}, this.initialize.apply(this, arguments)
        };
        u.extend(p.prototype, a, {
            changed: null,
            validationError: null,
            idAttribute: "id",
            initialize: function() {},
            toJSON: function(e) {
                return u.clone(this.attributes)
            },
            sync: function() {
                return o.sync.apply(this, arguments)
            },
            get: function(e) {
                return this.attributes[e]
            },
            escape: function(e) {
                return u.escape(this.get(e))
            },
            has: function(e) {
                return this.get(e) != null
            },
            set: function(e, t, n) {
                var r, i, s, o, a, f, l, c;
                if (e == null) return this;
                typeof e == "object" ? (i = e, n = t) : (i = {})[e] = t, n || (n = {});
                if (!this._validate(i, n)) return !1;
                s = n.unset, a = n.silent, o = [], f = this._changing, this._changing = !0, f || (this._previousAttributes = u.clone(this.attributes), this.changed = {}), c = this.attributes, l = this._previousAttributes, this.idAttribute in i && (this.id = i[this.idAttribute]);
                for (r in i) t = i[r], u.isEqual(c[r], t) || o.push(r), u.isEqual(l[r], t) ? delete this.changed[r] : this.changed[r] = t, s ? delete c[r] : c[r] = t;
                if (!a) {
                    o.length && (this._pending = !0);
                    for (var h = 0, p = o.length; h < p; h++) this.trigger("change:" + o[h], this, c[o[h]], n)
                }
                if (f) return this;
                if (!a)
                    while (this._pending) this._pending = !1, this.trigger("change", this, n);
                return this._pending = !1, this._changing = !1, this
            },
            unset: function(e, t) {
                return this.set(e, void 0, u.extend({}, t, {
                    unset: !0
                }))
            },
            clear: function(e) {
                var t = {};
                for (var n in this.attributes) t[n] = void 0;
                return this.set(t, u.extend({}, e, {
                    unset: !0
                }))
            },
            hasChanged: function(e) {
                return e == null ? !u.isEmpty(this.changed) : u.has(this.changed, e)
            },
            changedAttributes: function(e) {
                if (!e) return this.hasChanged() ? u.clone(this.changed) : !1;
                var t, n = !1,
                    r = this._changing ? this._previousAttributes : this.attributes;
                for (var i in e) {
                    if (u.isEqual(r[i], t = e[i])) continue;
                    (n || (n = {}))[i] = t
                }
                return n
            },
            previous: function(e) {
                return e == null || !this._previousAttributes ? null : this._previousAttributes[e]
            },
            previousAttributes: function() {
                return u.clone(this._previousAttributes)
            },
            fetch: function(e) {
                e = e ? u.clone(e) : {}, e.parse === void 0 && (e.parse = !0);
                var t = this,
                    n = e.success;
                return e.success = function(r) {
                    if (!t.set(t.parse(r, e), e)) return !1;
                    n && n(t, r, e), t.trigger("sync", t, r, e)
                }, F(this, e), this.sync("read", this, e)
            },
            save: function(e, t, n) {
                var r, i, s, o = this.attributes;
                e == null || typeof e == "object" ? (r = e, n = t) : (r = {})[e] = t, n = u.extend({
                    validate: !0
                }, n);
                if (r && !n.wait) {
                    if (!this.set(r, n)) return !1
                } else if (!this._validate(r, n)) return !1;
                r && n.wait && (this.attributes = u.extend({}, o, r)), n.parse === void 0 && (n.parse = !0);
                var a = this,
                    f = n.success;
                return n.success = function(e) {
                    a.attributes = o;
                    var t = a.parse(e, n);
                    n.wait && (t = u.extend(r || {}, t));
                    if (u.isObject(t) && !a.set(t, n)) return !1;
                    f && f(a, e, n), a.trigger("sync", a, e, n)
                }, F(this, n), i = this.isNew() ? "create" : n.patch ? "patch" : "update", i === "patch" && (n.attrs = r), s = this.sync(i, this, n), r && n.wait && (this.attributes = o), s
            },
            destroy: function(e) {
                e = e ? u.clone(e) : {};
                var t = this,
                    n = e.success,
                    r = function() {
                        t.trigger("destroy", t, t.collection, e)
                    };
                e.success = function(i) {
                    (e.wait || t.isNew()) && r(), n && n(t, i, e), t.isNew() || t.trigger("sync", t, i, e)
                };
                if (this.isNew()) return e.success(), !1;
                F(this, e);
                var i = this.sync("delete", this, e);
                return e.wait || r(), i
            },
            url: function() {
                var e = u.result(this, "urlRoot") || u.result(this.collection, "url") || j();
                return this.isNew() ? e : e + (e.charAt(e.length - 1) === "/" ? "" : "/") + encodeURIComponent(this.id)
            },
            parse: function(e, t) {
                return e
            },
            clone: function() {
                return new this.constructor(this.attributes)
            },
            isNew: function() {
                return this.id == null
            },
            isValid: function(e) {
                return this._validate({}, u.extend(e || {}, {
                    validate: !0
                }))
            },
            _validate: function(e, t) {
                if (!t.validate || !this.validate) return !0;
                e = u.extend({}, this.attributes, e);
                var n = this.validationError = this.validate(e, t) || null;
                return n ? (this.trigger("invalid", this, n, u.extend(t, {
                    validationError: n
                })), !1) : !0
            }
        });
        var d = ["keys", "values", "pairs", "invert", "pick", "omit"];
        u.each(d, function(e) {
            p.prototype[e] = function() {
                var t = i.call(arguments);
                return t.unshift(this.attributes), u[e].apply(u, t)
            }
        });
        var v = o.Collection = function(e, t) {
                t || (t = {}), t.model && (this.model = t.model), t.comparator !== void 0 && (this.comparator = t.comparator), this._reset(), this.initialize.apply(this, arguments), e && this.reset(e, u.extend({
                    silent: !0
                }, t))
            },
            m = {
                add: !0,
                remove: !0,
                merge: !0
            },
            g = {
                add: !0,
                remove: !1
            };
        u.extend(v.prototype, a, {
            model: p,
            initialize: function() {},
            toJSON: function(e) {
                return this.map(function(t) {
                    return t.toJSON(e)
                })
            },
            sync: function() {
                return o.sync.apply(this, arguments)
            },
            add: function(e, t) {
                return this.set(e, u.extend({
                    merge: !1
                }, t, g))
            },
            remove: function(e, t) {
                var n = !u.isArray(e);
                e = n ? [e] : u.clone(e), t || (t = {});
                var r, i, s, o;
                for (r = 0, i = e.length; r < i; r++) {
                    o = e[r] = this.get(e[r]);
                    if (!o) continue;
                    delete this._byId[o.id], delete this._byId[o.cid], s = this.indexOf(o), this.models.splice(s, 1), this.length--, t.silent || (t.index = s, o.trigger("remove", o, this, t)), this._removeReference(o)
                }
                return n ? e[0] : e
            },
            set: function(e, t) {
                t = u.defaults({}, t, m), t.parse && (e = this.parse(e, t));
                var n = !u.isArray(e);
                e = n ? e ? [e] : [] : u.clone(e);
                var r, i, s, o, a, f, l, c = t.at,
                    h = this.model,
                    d = this.comparator && c == null && t.sort !== !1,
                    v = u.isString(this.comparator) ? this.comparator : null,
                    g = [],
                    y = [],
                    b = {},
                    w = t.add,
                    E = t.merge,
                    S = t.remove,
                    x = !d && w && S ? [] : !1;
                for (r = 0, i = e.length; r < i; r++) {
                    a = e[r], a instanceof p ? s = o = a : s = a[h.prototype.idAttribute];
                    if (f = this.get(s)) S && (b[f.cid] = !0), E && (a = a === o ? o.attributes : a, t.parse && (a = f.parse(a, t)), f.set(a, t), d && !l && f.hasChanged(v) && (l = !0)), e[r] = f;
                    else if (w) {
                        o = e[r] = this._prepareModel(a, t);
                        if (!o) continue;
                        g.push(o), o.on("all", this._onModelEvent, this), this._byId[o.cid] = o, o.id != null && (this._byId[o.id] = o)
                    }
                    x && x.push(f || o)
                }
                if (S) {
                    for (r = 0, i = this.length; r < i; ++r) b[(o = this.models[r]).cid] || y.push(o);
                    y.length && this.remove(y, t)
                }
                if (g.length || x && x.length) {
                    d && (l = !0), this.length += g.length;
                    if (c != null)
                        for (r = 0, i = g.length; r < i; r++) this.models.splice(c + r, 0, g[r]);
                    else {
                        x && (this.models.length = 0);
                        var T = x || g;
                        for (r = 0, i = T.length; r < i; r++) this.models.push(T[r])
                    }
                }
                l && this.sort({
                    silent: !0
                });
                if (!t.silent) {
                    for (r = 0, i = g.length; r < i; r++)(o = g[r]).trigger("add", o, this, t);
                    (l || x && x.length) && this.trigger("sort", this, t)
                }
                return n ? e[0] : e
            },
            reset: function(e, t) {
                t || (t = {});
                for (var n = 0, r = this.models.length; n < r; n++) this._removeReference(this.models[n]);
                return t.previousModels = this.models, this._reset(), e = this.add(e, u.extend({
                    silent: !0
                }, t)), t.silent || this.trigger("reset", this, t), e
            },
            push: function(e, t) {
                return this.add(e, u.extend({
                    at: this.length
                }, t))
            },
            pop: function(e) {
                var t = this.at(this.length - 1);
                return this.remove(t, e), t
            },
            unshift: function(e, t) {
                return this.add(e, u.extend({
                    at: 0
                }, t))
            },
            shift: function(e) {
                var t = this.at(0);
                return this.remove(t, e), t
            },
            slice: function() {
                return i.apply(this.models, arguments)
            },
            get: function(e) {
                return e == null ? void 0 : this._byId[e.id] || this._byId[e.cid] || this._byId[e]
            },
            at: function(e) {
                return this.models[e]
            },
            where: function(e, t) {
                return u.isEmpty(e) ? t ? void 0 : [] : this[t ? "find" : "filter"](function(t) {
                    for (var n in e)
                        if (e[n] !== t.get(n)) return !1;
                    return !0
                })
            },
            findWhere: function(e) {
                return this.where(e, !0)
            },
            sort: function(e) {
                if (!this.comparator) throw new Error("Cannot sort a set without a comparator");
                return e || (e = {}), u.isString(this.comparator) || this.comparator.length === 1 ? this.models = this.sortBy(this.comparator, this) : this.models.sort(u.bind(this.comparator, this)), e.silent || this.trigger("sort", this, e), this
            },
            pluck: function(e) {
                return u.invoke(this.models, "get", e)
            },
            fetch: function(e) {
                e = e ? u.clone(e) : {}, e.parse === void 0 && (e.parse = !0);
                var t = e.success,
                    n = this;
                return e.success = function(r) {
                    var i = e.reset ? "reset" : "set";
                    n[i](r, e), t && t(n, r, e), n.trigger("sync", n, r, e)
                }, F(this, e), this.sync("read", this, e)
            },
            create: function(e, t) {
                t = t ? u.clone(t) : {};
                if (!(e = this._prepareModel(e, t))) return !1;
                t.wait || this.add(e, t);
                var n = this,
                    r = t.success;
                return t.success = function(e, t, i) {
                    i.wait && n.add(e, i), r && r(e, t, i)
                }, e.save(null, t), e
            },
            parse: function(e, t) {
                return e
            },
            clone: function() {
                return new this.constructor(this.models)
            },
            _reset: function() {
                this.length = 0, this.models = [], this._byId = {}
            },
            _prepareModel: function(e, t) {
                if (e instanceof p) return e.collection || (e.collection = this), e;
                t = t ? u.clone(t) : {}, t.collection = this;
                var n = new this.model(e, t);
                return n.validationError ? (this.trigger("invalid", this, n.validationError, t), !1) : n
            },
            _removeReference: function(e) {
                this === e.collection && delete e.collection, e.off("all", this._onModelEvent, this)
            },
            _onModelEvent: function(e, t, n, r) {
                if ((e === "add" || e === "remove") && n !== this) return;
                e === "destroy" && this.remove(t, r), t && e === "change:" + t.idAttribute && (delete this._byId[t.previous(t.idAttribute)], t.id != null && (this._byId[t.id] = t)), this.trigger.apply(this, arguments)
            }
        });
        var y = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "difference", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain"];
        u.each(y, function(e) {
            v.prototype[e] = function() {
                var t = i.call(arguments);
                return t.unshift(this.models), u[e].apply(u, t)
            }
        });
        var b = ["groupBy", "countBy", "sortBy"];
        u.each(b, function(e) {
            v.prototype[e] = function(t, n) {
                var r = u.isFunction(t) ? t : function(e) {
                    return e.get(t)
                };
                return u[e](this.models, r, n)
            }
        });
        var w = o.View = function(e) {
                this.cid = u.uniqueId("view"), e || (e = {}), u.extend(this, u.pick(e, S)), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents()
            },
            E = /^(\S+)\s*(.*)$/,
            S = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
        u.extend(w.prototype, a, {
            tagName: "div",
            $: function(e) {
                return this.$el.find(e)
            },
            initialize: function() {},
            render: function() {
                return this
            },
            remove: function() {
                return this.$el.remove(), this.stopListening(), this
            },
            setElement: function(e, t) {
                return this.$el && this.undelegateEvents(), this.$el = e instanceof o.$ ? e : o.$(e), this.el = this.$el[0], t !== !1 && this.delegateEvents(), this
            },
            delegateEvents: function(e) {
                if (!e && !(e = u.result(this, "events"))) return this;
                this.undelegateEvents();
                for (var t in e) {
                    var n = e[t];
                    u.isFunction(n) || (n = this[e[t]]);
                    if (!n) continue;
                    var r = t.match(E),
                        i = r[1],
                        s = r[2];
                    n = u.bind(n, this), i += ".delegateEvents" + this.cid, s === "" ? this.$el.on(i, n) : this.$el.on(i, s, n)
                }
                return this
            },
            undelegateEvents: function() {
                return this.$el.off(".delegateEvents" + this.cid), this
            },
            _ensureElement: function() {
                if (!this.el) {
                    var e = u.extend({}, u.result(this, "attributes"));
                    this.id && (e.id = u.result(this, "id")), this.className && (e["class"] = u.result(this, "className"));
                    var t = o.$("<" + u.result(this, "tagName") + ">").attr(e);
                    this.setElement(t, !1)
                } else this.setElement(u.result(this, "el"), !1)
            }
        }), o.sync = function(e, t, n) {
            var r = T[e];
            u.defaults(n || (n = {}), {
                emulateHTTP: o.emulateHTTP,
                emulateJSON: o.emulateJSON
            });
            var i = {
                type: r,
                dataType: "json"
            };
            n.url || (i.url = u.result(t, "url") || j()), n.data == null && t && (e === "create" || e === "update" || e === "patch") && (i.contentType = "application/json", i.data = JSON.stringify(n.attrs || t.toJSON(n))), n.emulateJSON && (i.contentType = "application/x-www-form-urlencoded", i.data = i.data ? {
                model: i.data
            } : {});
            if (n.emulateHTTP && (r === "PUT" || r === "DELETE" || r === "PATCH")) {
                i.type = "POST", n.emulateJSON && (i.data._method = r);
                var s = n.beforeSend;
                n.beforeSend = function(e) {
                    e.setRequestHeader("X-HTTP-Method-Override", r);
                    if (s) return s.apply(this, arguments)
                }
            }
            i.type !== "GET" && !n.emulateJSON && (i.processData = !1), i.type === "PATCH" && x && (i.xhr = function() {
                return new ActiveXObject("Microsoft.XMLHTTP")
            });
            var a = n.xhr = o.ajax(u.extend(i, n));
            return t.trigger("request", t, a, n), a
        };
        var x = typeof window != "undefined" && !!window.ActiveXObject && (!window.XMLHttpRequest || !(new XMLHttpRequest).dispatchEvent),
            T = {
                create: "POST",
                update: "PUT",
                patch: "PATCH",
                "delete": "DELETE",
                read: "GET"
            };
        o.ajax = function() {
            return o.$.ajax.apply(o.$, arguments)
        };
        var N = o.Router = function(e) {
                e || (e = {}), e.routes && (this.routes = e.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
            },
            C = /\((.*?)\)/g,
            k = /(\(\?)?:\w+/g,
            L = /\*\w+/g,
            A = /[\-{}\[\]+?.,\\\^$|#\s]/g;
        u.extend(N.prototype, a, {
            initialize: function() {},
            route: function(e, t, n) {
                u.isRegExp(e) || (e = this._routeToRegExp(e)), u.isFunction(t) && (n = t, t = ""), n || (n = this[t]);
                var r = this;
                return o.history.route(e, function(i) {
                    var s = r._extractParameters(e, i);
                    n && n.apply(r, s), r.trigger.apply(r, ["route:" + t].concat(s)), r.trigger("route", t, s), o.history.trigger("route", r, t, s)
                }), this
            },
            navigate: function(e, t) {
                return o.history.navigate(e, t), this
            },
            _bindRoutes: function() {
                if (!this.routes) return;
                this.routes = u.result(this, "routes");
                var e, t = u.keys(this.routes);
                while ((e = t.pop()) != null) this.route(e, this.routes[e])
            },
            _routeToRegExp: function(e) {
                return e = e.replace(A, "\\$&").replace(C, "(?:$1)?").replace(k, function(e, t) {
                    return t ? e : "([^/]+)"
                }).replace(L, "(.*?)"), new RegExp("^" + e + "$")
            },
            _extractParameters: function(e, t) {
                var n = e.exec(t).slice(1);
                return u.map(n, function(e) {
                    return e ? decodeURIComponent(e) : null
                })
            }
        });
        var O = o.History = function() {
                this.handlers = [], u.bindAll(this, "checkUrl"), typeof window != "undefined" && (this.location = window.location, this.history = window.history)
            },
            M = /^[#\/]|\s+$/g,
            _ = /^\/+|\/+$/g,
            D = /msie [\w.]+/,
            P = /\/$/,
            H = /[?#].*$/;
        O.started = !1, u.extend(O.prototype, a, {
            interval: 50,
            getHash: function(e) {
                var t = (e || this).location.href.match(/#(.*)$/);
                return t ? t[1] : ""
            },
            getFragment: function(e, t) {
                if (e == null)
                    if (this._hasPushState || !this._wantsHashChange || t) {
                        e = this.location.pathname;
                        var n = this.root.replace(P, "");
                        e.indexOf(n) || (e = e.slice(n.length))
                    } else e = this.getHash();
                return e.replace(M, "")
            },
            start: function(e) {
                if (O.started) throw new Error("Backbone.history has already been started");
                O.started = !0, this.options = u.extend({
                    root: "/"
                }, this.options, e), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
                var t = this.getFragment(),
                    n = document.documentMode,
                    r = D.exec(navigator.userAgent.toLowerCase()) && (!n || n <= 7);
                this.root = ("/" + this.root + "/").replace(_, "/"), r && this._wantsHashChange && (this.iframe = o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow, this.navigate(t)), this._hasPushState ? o.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !r ? o.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = t;
                var i = this.location,
                    s = i.pathname.replace(/[^\/]$/, "$&/") === this.root;
                if (this._wantsHashChange && this._wantsPushState) {
                    if (!this._hasPushState && !s) return this.fragment = this.getFragment(null, !0), this.location.replace(this.root + this.location.search + "#" + this.fragment), !0;
                    this._hasPushState && s && i.hash && (this.fragment = this.getHash().replace(M, ""), this.history.replaceState({}, document.title, this.root + this.fragment + i.search))
                }
                if (!this.options.silent) return this.loadUrl()
            },
            stop: function() {
                o.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl), clearInterval(this._checkUrlInterval), O.started = !1
            },
            route: function(e, t) {
                this.handlers.unshift({
                    route: e,
                    callback: t
                })
            },
            checkUrl: function(e) {
                var t = this.getFragment();
                t === this.fragment && this.iframe && (t = this.getFragment(this.getHash(this.iframe)));
                if (t === this.fragment) return !1;
                this.iframe && this.navigate(t), this.loadUrl()
            },
            loadUrl: function(e) {
                return e = this.fragment = this.getFragment(e), u.any(this.handlers, function(t) {
                    if (t.route.test(e)) return t.callback(e), !0
                })
            },
            navigate: function(e, t) {
                if (!O.started) return !1;
                if (!t || t === !0) t = {
                    trigger: !!t
                };
                var n = this.root + (e = this.getFragment(e || ""));
                e = e.replace(H, "");
                if (this.fragment === e) return;
                this.fragment = e, e === "" && n !== "/" && (n = n.slice(0, -1));
                if (this._hasPushState) this.history[t.replace ? "replaceState" : "pushState"]({}, document.title, n);
                else {
                    if (!this._wantsHashChange) return this.location.assign(n);
                    this._updateHash(this.location, e, t.replace), this.iframe && e !== this.getFragment(this.getHash(this.iframe)) && (t.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, e, t.replace))
                }
                if (t.trigger) return this.loadUrl(e)
            },
            _updateHash: function(e, t, n) {
                if (n) {
                    var r = e.href.replace(/(javascript:|#).*$/, "");
                    e.replace(r + "#" + t)
                } else e.hash = "#" + t
            }
        }), o.history = new O;
        var B = function(e, t) {
            var n = this,
                r;
            e && u.has(e, "constructor") ? r = e.constructor : r = function() {
                return n.apply(this, arguments)
            }, u.extend(r, n, t);
            var i = function() {
                this.constructor = r
            };
            return i.prototype = n.prototype, r.prototype = new i, e && u.extend(r.prototype, e), r.__super__ = n.prototype, r
        };
        p.extend = v.extend = N.extend = w.extend = O.extend = B;
        var j = function() {
                throw new Error('A "url" property or function must be specified')
            },
            F = function(e, t) {
                var n = t.error;
                t.error = function(r) {
                    n && n(e, r, t), e.trigger("error", e, r, t)
                }
            }
    }.call(this);
var I18n = I18n || {};
I18n.defaultLocale = "en", I18n.fallbacks = !1, I18n.defaultSeparator = ".", I18n.locale = null, I18n.PLACEHOLDER = /(?:\{\{|%\{)(.*?)(?:\}\}?)/gm, I18n.isValidNode = function(e, t, n) {
    return e[t] !== null && e[t] !== n
}, I18n.lookup = function(e, t) {
    var t = t || {},
        n = e,
        r = this.prepareOptions(I18n.translations),
        i = r[t.locale || I18n.currentLocale()],
        t = this.prepareOptions(t),
        s;
    if (!i) return;
    typeof e == "object" && (e = e.join(this.defaultSeparator)), t.scope && (e = t.scope.toString() + this.defaultSeparator + e), e = e.split(this.defaultSeparator);
    while (e.length > 0) {
        s = e.shift(), i = i[s];
        if (!i) {
            I18n.fallbacks && !t.fallback && (i = I18n.lookup(n, this.prepareOptions({
                locale: I18n.defaultLocale,
                fallback: !0
            }, t)));
            break
        }
    }
    return !i && this.isValidNode(t, "defaultValue") && (i = t.defaultValue), i
}, I18n.prepareOptions = function() {
    var e = {},
        t, n = arguments.length;
    for (var r = 0; r < n; r++) {
        t = arguments[r];
        if (!t) continue;
        for (var i in t) this.isValidNode(e, i) || (e[i] = t[i])
    }
    return e
}, I18n.interpolate = function(e, t) {
    t = this.prepareOptions(t);
    var n = e.match(this.PLACEHOLDER),
        r, i, s;
    if (!n) return e;
    for (var o = 0; r = n[o]; o++) s = r.replace(this.PLACEHOLDER, "$1"), i = t[s], this.isValidNode(t, s) || (i = "[missing " + r + " value]"), regex = new RegExp(r.replace(/\{/gm, "\\{").replace(/\}/gm, "\\}")), e = e.replace(regex, i);
    return e
}, I18n.translate = function(e, t) {
    t = this.prepareOptions(t);
    var n = this.lookup(e, t);
    try {
        return typeof n == "object" ? typeof t.count == "number" ? this.pluralize(t.count, e, t) : n : this.interpolate(n, t)
    } catch (r) {
        return this.missingTranslation(e)
    }
}, I18n.localize = function(e, t) {
    switch (e) {
        case "currency":
            return this.toCurrency(t);
        case "number":
            return e = this.lookup("number.format"), this.toNumber(t, e);
        case "percentage":
            return this.toPercentage(t);
        default:
            return e.match(/^(date|time)/) ? this.toTime(e, t) : t.toString()
    }
}, I18n.parseDate = function(e) {
    var t, n;
    if (typeof e == "object") return e;
    t = e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/);
    if (t) {
        for (var r = 1; r <= 6; r++) t[r] = parseInt(t[r], 10) || 0;
        t[2] -= 1, t[7] ? n = new Date(Date.UTC(t[1], t[2], t[3], t[4], t[5], t[6])) : n = new Date(t[1], t[2], t[3], t[4], t[5], t[6])
    } else typeof e == "number" ? (n = new Date, n.setTime(e)) : e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/) ? (n = new Date, n.setTime(Date.parse(e))) : (n = new Date, n.setTime(Date.parse(e)));
    return n
}, I18n.toTime = function(e, t) {
    var n = this.parseDate(t),
        r = this.lookup(e);
    return n.toString().match(/invalid/i) ? n.toString() : r ? this.strftime(n, r) : n.toString()
}, I18n.strftime = function(e, t) {
    var n = this.lookup("date");
    if (!n) return e.toString();
    n.meridian = n.meridian || ["AM", "PM"];
    var r = e.getDay(),
        i = e.getDate(),
        s = e.getFullYear(),
        o = e.getMonth() + 1,
        u = e.getHours(),
        a = u,
        f = u > 11 ? 1 : 0,
        l = e.getSeconds(),
        c = e.getMinutes(),
        h = e.getTimezoneOffset(),
        p = Math.floor(Math.abs(h / 60)),
        d = Math.abs(h) - p * 60,
        v = (h > 0 ? "-" : "+") + (p.toString().length < 2 ? "0" + p : p) + (d.toString().length < 2 ? "0" + d : d);
    a > 12 ? a -= 12 : a === 0 && (a = 12);
    var m = function(e) {
            var t = "0" + e.toString();
            return t.substr(t.length - 2)
        },
        g = t;
    return g = g.replace("%a", n.abbr_day_names[r]), g = g.replace("%A", n.day_names[r]), g = g.replace("%b", n.abbr_month_names[o]), g = g.replace("%B", n.month_names[o]), g = g.replace("%d", m(i)), g = g.replace("%e", i), g = g.replace("%-d", i), g = g.replace("%H", m(u)), g = g.replace("%-H", u), g = g.replace("%I", m(a)), g = g.replace("%-I", a), g = g.replace("%m", m(o)), g = g.replace("%-m", o), g = g.replace("%M", m(c)), g = g.replace("%-M", c), g = g.replace("%p", n.meridian[f]), g = g.replace("%S", m(l)), g = g.replace("%-S", l), g = g.replace("%w", r), g = g.replace("%y", m(s)), g = g.replace("%-y", m(s).replace(/^0+/, "")), g = g.replace("%Y", s), g = g.replace("%z", v), g
}, I18n.toNumber = function(e, t) {
    t = this.prepareOptions(t, this.lookup("number.format"), {
        precision: 3,
        separator: ".",
        delimiter: ",",
        strip_insignificant_zeros: !1
    });
    var n = e < 0,
        r = Math.abs(e).toFixed(t.precision).toString(),
        i = r.split("."),
        s, o = [],
        u;
    e = i[0], s = i[1];
    while (e.length > 0) o.unshift(e.substr(Math.max(0, e.length - 3), 3)), e = e.substr(0, e.length - 3);
    u = o.join(t.delimiter), t.precision > 0 && (u += t.separator + i[1]), n && (u = "-" + u);
    if (t.strip_insignificant_zeros) {
        var a = {
            separator: new RegExp(t.separator.replace(/\./, "\\.") + "$"),
            zeros: /0+$/
        };
        u = u.replace(a.zeros, "").replace(a.separator, "")
    }
    return u
}, I18n.toCurrency = function(e, t) {
    return t = this.prepareOptions(t, this.lookup("number.currency.format"), this.lookup("number.format"), {
        unit: "$",
        precision: 2,
        format: "%u%n",
        delimiter: ",",
        separator: "."
    }), e = this.toNumber(e, t), e = t.format.replace("%u", t.unit).replace("%n", e), e
}, I18n.toHumanSize = function(e, t) {
    var n = 1024,
        r = e,
        i = 0,
        s, o;
    while (r >= n && i < 4) r /= n, i += 1;
    return i === 0 ? (s = this.t("number.human.storage_units.units.byte", {
        count: r
    }), o = 0) : (s = this.t("number.human.storage_units.units." + [null, "kb", "mb", "gb", "tb"][i]), o = r - Math.floor(r) === 0 ? 0 : 1), t = this.prepareOptions(t, {
        precision: o,
        format: "%n%u",
        delimiter: ""
    }), e = this.toNumber(r, t), e = t.format.replace("%u", s).replace("%n", e), e
}, I18n.toPercentage = function(e, t) {
    return t = this.prepareOptions(t, this.lookup("number.percentage.format"), this.lookup("number.format"), {
        precision: 3,
        separator: ".",
        delimiter: ""
    }), e = this.toNumber(e, t), e + "%"
}, I18n.pluralize = function(e, t, n) {
    var r;
    try {
        r = this.lookup(t, n)
    } catch (i) {}
    if (!r) return this.missingTranslation(t);
    var s;
    n = this.prepareOptions(n), n.count = e.toString();
    switch (Math.abs(e)) {
        case 0:
            s = this.isValidNode(r, "zero") ? r.zero : this.isValidNode(r, "none") ? r.none : this.isValidNode(r, "other") ? r.other : this.missingTranslation(t, "zero");
            break;
        case 1:
            s = this.isValidNode(r, "one") ? r.one : this.missingTranslation(t, "one");
            break;
        default:
            s = this.isValidNode(r, "other") ? r.other : this.missingTranslation(t, "other")
    }
    return this.interpolate(s, n)
}, I18n.missingTranslation = function() {
    var e = '[missing "' + this.currentLocale(),
        t = arguments.length;
    for (var n = 0; n < t; n++) e += "." + arguments[n];
    return e += '" translation]', e
}, I18n.currentLocale = function() {
    return I18n.locale || I18n.defaultLocale
}, I18n.t = I18n.translate, I18n.l = I18n.localize, I18n.p = I18n.pluralize;
var I18n = I18n || {};
I18n.translations = {
    en: {
        nscout: {
            feature_search: {
                feature: {
                    school: "Best public schools",
                    rates: "Home appreciation rates",
                    crime: "Crime Rates",
                    families: "Families",
                    firsttime: "First-time homebuyers",
                    luxury: "Luxury Communities",
                    vacation: "Vacation Home Locations",
                    retirement: "Retirement Dream Areas",
                    greatdeals: "Great deals on great towns",
                    lifestyle: "Executive lifestyles",
                    spanish: "Spanish-speaking neighborhoods",
                    young: "Young singles upwardly-mobile",
                    students: "College students",
                    trendy: "Hip and trendy neighborhoods",
                    urban: "Urban sophisticates"
                },
                help_text: {
                    population: ["All of our data are built to the census tract level (other levels of data are available to license from us).  The population of census tracts varies from a few hundred to ten thousand or more. Because of local input, some census tracts contain mostly parks, industrial parks, airports, or other lands with few people in them. To get the best results for your search, we have set a default minimum population of 50 people for a neighborhood to be included in your search results.  This will get rid of most 'false positives' due to neighborhoods that have nearly no people living in them.  You can override this default minimum by selecting Any Population.  You can also select another minimum population threshold here, should you wish.", "Please note that neighborhood population doesn't mean that the neighborhood is or is not in a big city, a metropolitan area, a rural area, etc.  It simply means that the neighborhood itself - within its circumscribed boundary - has the population level denoted."],
                    median_home_value: ["Median home value is the value which has equal numbers of homes valued above and below it. The median home value is more stable than the average home value, which can be greatly affected by a few very high or very low home values."],
                    median_rental_price: ["Average market rent is exclusively developed by NeighborhoodScout. It reveals the average monthly rent paid for market rate apartments and rental homes in the neighborhood, excluding public housing. Utility payments are not included."],
                    real_estate_taxes: ["The average effective real estate tax rate is based on the median real estate taxes paid in the neighborhood, as a percentage of the median home value in the neighborhood. Published tax rates may differ slightly from the average effective rates used by NeighborhoodScout, where NeighborhoodScoutâ€™s tax rates more closely follow the taxes actually paid by property owners."],
                    home_appreciation_rate: ["Different neighborhoods within a city or town can have drastically different home appreciation rates. Know which neighborhoods have the highest home appreciation rates before you buy.", "You can search for neighborhoods in any area with the highest home value appreciation for the latest quarter, 1 year, 2 years, 5 years, 10 years, or since 1990.", "Our data are designed to capture changes in the value of single-family homes at the neighborhood level. NeighborhoodScoutâ€™s data are built upon median house values in each neighborhood, and combine data from the United States Bureau of the Census with quarterly house resale data. The data reflect appreciation rates for the neighborhood overall, not necessarily each individual house in the neighborhood. Our data are calculated and updated every three months for each neighborhood, approximately two months after the end of the previous quarter."],
                    rent_trend: ["The market rental prices may be low, but are they going up?", "We calculate rental price trends as the average annual change in market rent paid in the neighborhood over the latest 5 years."],
                    crime_rate: ["Crime often varies more from neighborhood to neighborhood within a city than it does between cities.", "Discover the safest neighborhoods in any locale, before you buy real estate or move. NeighborhoodScoutâ€™s crime rates are the most trusted source of neighborhood-specific crime rates available today. Built through NeighborhoodScoutâ€™s proprietary methodology, these data are available nowhere else.", "NeighborhoodScout reveals the safety from crime for every neighborhood in America, and shows you how each neighborhood compares to other neighborhoods nationwide, so you can make good decisions for your family, your investment, or your company's location needs."],
                    district_rating: ["Know how good the public schools are before you buy a home, invest, or relocate. You can search for and find the best schools in any area.", "Only NeighborhoodScout gives you nationally comparable school rankings based on test scores, so you can directly compare the quality of schools in any location. In fact, our nationally comparable school ratings are patented.", "We also give you the ability to put in the school quality and class size you want, and the search engine will return the best neighborhoods for education in a list and map your results to the neighborhood level.", "We are the only information provider to have this level of search functionality. Another NeighborhoodScout exclusive."],
                    percent_of_children_in_poverty: ["Measurers the poverty rate among children, defined as persons under 18 years old residing with a related adult. If there are no children in the neighborhood the rate is considered to be zero."],
                    percent_of_children_in_private_school: ["Neighborhoods with a high percent of children attending private school  can often indicate poor quality public schools (if families have the financial resources to send their children to private school), or the desire to provide a religious education to their children.", "The percentage of students who are attending private schools is calculated based on persons in the neighborhood who are enrolled in grades K-12 (including high school students who might be over 18 years old)."],
                    special_character: ["People have personalities, and so do neighborhoods. A neighborhoodâ€™s character describes its personality and the feeling one gets when experiencing the neighborhood as a true resident. Quiet and sophisticated?  Hip and walkable?  The length of the bars indicate the percentage of neighborhoods in America that this neighborhood is more Urbane than, more Hip than, more Quiet than, more Nautical than, more Walkable than.", "Nautical: Historic, seaside neighborhoods.", "Walkable: Easy to navigate on foot.", "Quiet: A measure of how quiet the neighborhood is. We came up with this quantitative measure by seeking the opposite of what we knew to be more noisy â€“ dense population, lots of college students, renters, and children. So quiet neighborhoods have a mathematically defined combination of elements that lead to less noise, more quiet.", "Hip and Trendy: Some character akin to Greenwich Village or Harvard Square.", "Urban Sophisticates: Wealthy, educated, executives and professionals, who have urbane tastes in books, food, and travel, whether they actually live in a big city, or choose to reside in a small town. In big or medium-sized cities, urban sophisticates tend to frequent art institutions such as opera, symphonies, ballet, live theatre, and museums."],
                    neighborhood_density: ["The look and feel of the neighborhood, from high rises on the coast, to rural farmlands.", "Densely Urban: With densities above 10,000 people per square mile these are some of the densest neighborhoods in the nation.", "Urban: Generally between 5,000 and 10,000 people per square mile, these are full built up places although not among the most dense in the country.", "Suburban: Although not necessarily outside city limits, these neighborhoods have a more generous amount of space per person with densities generally between 1,000 and 5,000 people per square mile.", "Rural: Neighborhoods consist mostly of open space or agricultural areas but also generally have around 100 residents per square mile.", "Remote: Neighborhoods with the fewest people per square mile in the nation, generally less than 100 per square mile."],
                    land_and_water: ["Coastal: Neighborhoods on the ocean or tidally influenced rivers.", "Lakefront: The neighborhood includes shoreline on a significant body of freshwater. These are lakes large enough to include recreation and scenic areas. (Note that smaller lakes are not included, or neighborhoods that have little shoreline on a lake, relative to the size of the entire neighborhood).", "Farms: Agricultural land uses are a significant part of the neighborhood and contribute to its character."],
                    era_built: ["The proportion of homes and apartments in the neighborhood built within a certain time period."],
                    housing_type: ["These are the predominate forms of housing in the neighborhood. Percentages are based on the number of housing units in the neighborhood of each housing type."],
                    home_size: ["The predominate size of homes in the neighborhood, based on the number of bedrooms. Homes include single family houses as well as apartment and condominium units."],
                    special_purpose_housing: ["These housing types are not for sale or for rent to the general public but may have a strong influence on the character of the neighborhood."],
                    home_ownership_rate: ["The percentage of housing units in the neighborhood that are occupied by the property owner versus occupied by a tenant. (Vacant units are counted separately.)"],
                    home_ownership_trend: ["The average annual change in homeownership rates in the neighborhood during the latest five years."],
                    vacancy_rate: ["Vacant housing may either be seasonally vacant like a vacation home, or vacant year-round like an abandoned building. Neighborhoods with high concentrations of seasonally vacant homes are generally more stable and prosperous than neighborhoods with high concentrations of property vacant year-round. Neighborhoods with many seasonally vacant homes tend to be popular second home or vacation home areas."],
                    vacancy_trend: ["The average annual change in the vacancy rate in the neighborhood during the latest five years. Trend is based on the percentage of properties that are vacant year round."],
                    lifestyle: ["There isnâ€™t one neighborhood that is best for everyone. The best neighborhood for you may not be the best one for me. Similarly, what you want as a first-time home buyer may be different than what you want when you have school-aged children, or when you are nearing retirement.", "Find neighborhoods that provide the quality and character that you and your family want in a neighborhood with our powerful lifestyle character searches."],
                    age: ["Age groups present in the neighborhood, as a percentage of the total population. Neighborhoods that score highest for mixed ages have the most equitable distribution across all age groups, from infants to senior citizens, all living in the same neighborhood."],
                    marital_status: ["Marital status is defined based on the percentage of residents who are 18 and over. (We are not able to include same-sex marriages here because of data limitations. Same-sex couple data is available under Household Type.)"],
                    household_type: ["Particular living arrangements defined as a percentage of all households in the neighborhood."],
                    residents_moving: ["The percent of all current neighborhood residents who were not living in the same house one year ago. Very high values show a lack of stability in the neighborhood. Very low values may represent insularity to outsiders."],
                    residents_born_out_of_state: ["This value will be high in neighborhoods that attract new residents from around the country, and low in places where most residents grew up within the same state."],
                    residents_foreign_born: ["Foreign Born residents have immigrated to the United States from another country and may or may not be naturalized citizens."],
                    college_degree: ["The percentage of adults aged 25 and older that have attained at least a 4 year college degree like a BA."],
                    advanced_degree: ["The percentage of adults aged 25 and older that have attained a graduate or professional degree above and beyond a 4 year degree, like an MA, MD, JD, MBA or PhD."],
                    education_trend: ["We measure the average annual increase or decrease in the percentage of college graduates living in a neighborhood over the most recent 5 years. College graduates are defined here as adults 25 and older with at least a 4-year college degree."],
                    currently_college: ["These are students enrolled in higher education as either undergraduates or graduate students. They may live on campus or in off campus housing."],
                    currently_military: ["These are people currently active in the military. They may live on base or off base."],
                    racial_diversity: ["Neighborhoods that score high on the diversity index are not dominated by any one racial or ethnic group. The neighborhoods with the very highest racial diversity will contain roughly equal proportions, or as close as is possible to equal proportions, across all racial groups: White, Black, American Indian, Native Hawaiian / Pacific Islander, and Asian."],
                    racial_diversity_short: ["The neighborhoods with the very highest racial diversity will contain roughly equal proportions, or as close as is possible to equal proportions, across all racial groups: White, Black, American Indian, Native Hawaiian / Pacific Islander, and Asian."],
                    race_ethnic: ["These are the ways neighborhood residents have self-reported their race and ethnicity to the US Census. Asian and Hispanic residents may identify with one of the more specific subcategories."],
                    common_ancestries: ["These are the most common groups that neighborhood residents self- report as their ancestry. Places with concentrations of people of one or more ancestries often express those shared learned behaviors and this gives each neighborhood its own culture."],
                    languages_spoken: ["These are tabulated as the languages people preferentially speak when they are at home with their families."],
                    income_level: ["Income is measured either on a per capita basis or median household income. Per capita is the best measure of the average spending power of each person in the neighborhood.  Median household income provides the best measure of the budget of the typical family or other non-family household.", "How wealthy a neighborhood is, from very wealthy, to middle income, to low income is very formative with regard to the personality and character of a neighborhood."],
                    income_trend: ["We measure the average annual increase or decrease in per capita income in the neighborhood over the most recent 5 years."],
                    unemployment_rate: ["The percent of neighborhood residents who are seeking employment, but are currently unemployed."],
                    occupation: ["What we choose to do for a living reflects who we are.Â  Each neighborhood has a different mix of occupations represented, and together these help you understand the areaâ€™s character. Occupations are calculated as a percentage of all working adults."],
                    industry_sector: ["These are the types of employers who neighborhood residents work for. You can find neighborhoods where residents cluster into particular industries, often to be near particular employers or institutions."],
                    means_of_transport: ["How you get to work â€“ car, bus, train or other means â€“ and how much of your day it takes to do so is a large quality of life and financial issue. The share of using each mode of transport is measured as percentage of all working adults."],
                    commute_time: ["The amount of time spent commuting tells a lot about a neighborhoodâ€™s access to jobs and the degree of congestion in the area. The time is calculated for all residents working outside the home."],
                    vehicles_per_household: ["The number of vehicles the average household in the neighborhood possesses is a function of wealth, space constraints, the age people of the household (e.g., households with teenagers and parents), and the availability of alternatives to driving.", "The measure is defined as the number of vehicles registered per household, as a percentage of all households in the neighborhood."],
                    school_rating: ["NeighborhoodScoutÂ® has developed the first ever nationally comparable school ratings.", "The result? - neighborhood educational ratings that facilitate accurate comparison among schools, school districts, and neighborhoods in the same (or different) cities, and even between schools in different states.", "It is well known that the quality of education provided by public schools varies greatly from school district to school district, and from city to city. Still further, the quality of a child's education can vary significantly from neighborhood to neighborhood within any city or town.", "NeighborhoodScoutÂ® has detailed information on school district quality for every neighborhood in the country and specific school attendance patterns for over 85% of neighborhoods in the country. The quality of the specific schools that serve each neighborhood determines the school ratings of the neighborhood, and thus the school quality of any neighborhood may vary significantly from other neighborhoods, even within the same school district.", "Where specific school attendance zones are not available, the neighborhood school quality ratings are based on the quality of the local school district(s) that serve the neighborhood along with the neighborhood-specific educational environment. Educational environment is assessed by the percentage of adults living in the neighborhood that have achieved at least a 4-year college degree, combined with rankings of the percentage of children living in poverty in the neighborhood."],
                    school_environment: ["Where specific school attendance patterns are not available the ratings are based on both the quality of the local school district and the neighborhood educational environment. Educational environment is assessed by the percentage of adults living in the neighborhood that have achieved at least a 4-year college degree, combined with rankings of the percentage of children living in poverty in the neighborhood."]
                },
                variant: {
                    test_scores: {
                        none: "Not Important",
                        rankpct_education_score: "Highest Overall Proficiency",
                        srr: "Highest Reading Proficiency",
                        srm: "Highest Math Proficiency"
                    },
                    class_size: {
                        none: "Not Important",
                        sts: "Smallest (1-12 students)",
                        stm: "Average (13-20 students)",
                        stx: "Largest (21 or more students)"
                    },
                    median_home_value: {
                        none: "Not Important",
                        hsj: "$0 - $100,000",
                        hsh: "$100,001 - $200,000",
                        hsg: "$200,001 - $300,000",
                        hsf: "$300,001 - $400,000",
                        hse: "$400,001 - $500,000",
                        hsd: "$500,001 - $750,000",
                        hsc: "$750,001 - $1,000,000",
                        hsb: "$1M - $2M",
                        hsa: "Over $2M"
                    },
                    neighborhood_density: {
                        none: "Not Important",
                        den_sort: "Densely urban",
                        urb_sort: "Urban",
                        sub_sort: "Suburban",
                        rur_sort: "Rural",
                        rmt_sort: "Remote"
                    },
                    time_period: {
                        none: "Not Important",
                        app_total_rankpct: "since 1990",
                        app_10y_rankpct: "last 10 years",
                        app_5y_rankpct: "last 5 years",
                        app_2y_rankpct: "last 2 years",
                        app_1y_rankpct: "last 12 months",
                        app_1q_rankpct: "latest quarter"
                    },
                    crime_type: {
                        none: "Not Important",
                        pcm: "Total Crime",
                        crime_property_index: "Property Crime",
                        crime_violent_index: "Violent Crime",
                        crime_density_index: "Crimes Per Square Mile"
                    },
                    median_rental_price: {
                        none: "Not Important",
                        ruj: "Under $300",
                        rui: "$300 - $449",
                        ruh: "$450 - $599",
                        rug: "$600 - $799",
                        ruf: "$800 - $999",
                        rue: "$1,000 - $1,249",
                        rud: "$1,250 - $1,499",
                        ruc: "$1,500 - $1,999",
                        rub: "$2,000 - $2,499",
                        rua: "$2,500+"
                    },
                    home_ownership_rate: {
                        none: "Not Important",
                        own: "Mostly Owner Occupied",
                        ort: "Mixed Owners and Renters",
                        rnt: "Mostly Renters"
                    },
                    population: {
                        over_50: "Not Important (default is 50+ population)",
                        over_100: "100 or more people",
                        over_200: "200 or more people",
                        over_500: "500 or more people",
                        over_800: "800 or more people",
                        over_1000: "1,000 or more people",
                        any: "Any Population (includes unpopulated areas)"
                    },
                    rent_trend: {
                        none: "Not Important",
                        gi: "Greatest Increase",
                        mi: "Moderate Increase",
                        s: "Stable",
                        md: "Moderate Decrease",
                        gd: "Greatest Decrease"
                    },
                    real_estate_taxes: {
                        none: "Not Important",
                        highest: "Highest (more than 1.9%)",
                        above_average: "Above Average (1.21- 1.9%)",
                        average: "Average (0.91 â€“ 1.2%)",
                        below_average: "Below Average (0.6 â€“ 0.9%)",
                        lowest: "Lowest (less than 0.6%)"
                    },
                    percent_of_children_in_poverty: {
                        none: "Not Important",
                        l: "Lowest",
                        a: "Average",
                        h: "Highest"
                    },
                    percent_of_children_in_private_school: {
                        none: "Not Important",
                        l: "Lowest",
                        a: "Average",
                        h: "Highest"
                    },
                    home_size: {
                        none: "Not Important",
                        sml_rpct: "Small Homes (0-2 Beds)",
                        med_rpct: "Medium-Sized Homes (3-4 Beds)",
                        lar_rpct: "Larger Homes (5+ Beds)"
                    },
                    housing_type: {
                        none: "Not Important",
                        det_rpct: "Single Family Detached Homes",
                        att_rpct: "Townhouses or Rowhouses",
                        sap_rpct: "Duplexes or Small Apartment Buildings",
                        lap_rpct: "Complexes or Large Apartment Buildings",
                        mob_rpct: "Mobile or Manufactured Homes"
                    },
                    era_built: {
                        none: "Not Important",
                        his_rpct: "1939 or Older",
                        old_rpct: "1940 to 1969",
                        est_rpct: "1970 to 1999",
                        new_rpct: "2000 or Newer"
                    },
                    special_purpose_housing: {
                        none: "Not Important",
                        dorms_rpct: "College Dormitories",
                        base_rpct: "Military Housing",
                        incarc_rpct: "Prisons and Jails",
                        units_rpct: "Conventional Only"
                    },
                    home_ownership_trend: {
                        none: "Not Important",
                        i: "Increasing",
                        s: "Stable",
                        d: "Decreasing"
                    },
                    vacant_housing_type: {
                        none: "Not Important",
                        vacant_rpct: "All Vacant Housing",
                        seasonal_rpct: "Seasonally Vacant",
                        vacant_ns_rpct: "Vacant Year-round"
                    },
                    vacancy_trend: {
                        none: "Not Important",
                        d: "Decreasing",
                        s: "Stable",
                        i: "Increasing"
                    },
                    residents_moving: {
                        none: "Not Important",
                        h: "Highest",
                        a: "Average",
                        l: "Lowest"
                    },
                    residents_born_out_of_state: {
                        none: "Not Important",
                        h: "Highest",
                        a: "Average",
                        l: "Lowest"
                    },
                    residents_foreign_born: {
                        none: "Not Important",
                        h: "Highest",
                        a: "Average",
                        l: "Lowest"
                    },
                    college_degree: {
                        none: "Not Important",
                        h: "Highest",
                        aa: "Above Average",
                        a: "Average",
                        ba: "Below Average",
                        l: "Lowest"
                    },
                    advanced_degree: {
                        none: "Not Important",
                        h: "Highest",
                        aa: "Above Average",
                        a: "Average",
                        ba: "Below Average",
                        l: "Lowest"
                    },
                    currently_college: {
                        none: "Not Important",
                        h: "Highest",
                        aa: "Above Average",
                        a: "Average",
                        ba: "Below Average",
                        l: "Lowest"
                    },
                    education_trend: {
                        none: "Not Important",
                        hi: "Highest Increase",
                        mi: "Moderate Increase",
                        s: "Stable",
                        md: "Moderate Decrease",
                        gd: "Greatest Decrease"
                    },
                    racial_diversity: {
                        none: "Not Important",
                        hd: "Highest Diversity",
                        ad: "Average Diversity",
                        ld: "Lowest Diversity"
                    },
                    income_type: {
                        none: "Not Important",
                        pci: "Per Capita Income",
                        mhi: "Median Household Income"
                    },
                    income_trend: {
                        none: "Not Important",
                        hi: "Highest Increase",
                        mi: "Moderate Increase",
                        s: "Stable",
                        md: "Moderate Decrease",
                        gd: "Greatest Decrease"
                    },
                    unemployment_rate: {
                        none: "Not Important",
                        l: "Lowest Unemployment",
                        a: "Average Unemployment",
                        h: "Highest Unemployment"
                    },
                    means_of_transport: {
                        none: "Not Important",
                        drive_rpct: "Drive Alone",
                        carpool_rpct: "Carpool",
                        workhome_rpct: "Work at Home",
                        no_drive_rpct: "Transit / Non-Motorized",
                        bus_rpct: "Bus",
                        train_rpct: "Subway or Train",
                        ferry_rpct: "Ferry",
                        bike_rpct: "Bicycle",
                        walk2work_rpct: "Walk"
                    },
                    commute_time: {
                        none: "Not Important",
                        commtime15_rpct: "Less than 15 minutes",
                        commtime30_rpct: "15 - 29 minutes",
                        commtime45_rpct: "30 - 44 minutes",
                        commtime60_rpct: "45 - 60 minutes",
                        commtime90_rpct: "Over 60 minutes"
                    },
                    vehicles_per_household: {
                        none: "Not Important",
                        veh0_rpct: "No Vehicles",
                        veh1_2_rpct: "1 or 2 Vechicles",
                        veh3_more_rpct: "3 or More Vehicles"
                    },
                    lifestyle: {
                        none: "Not Important",
                        family_fr: "Family Friendly",
                        ft_homebuyer: "First Time Homebuyers",
                        luxury: "Luxury Communities",
                        vac_home: "Vacation Home Locations",
                        retire_fr: "Retirement Dream Areas",
                        sng_old: "Young Single Professionals",
                        college_fr: "College Student Friendly",
                        description: {
                            family_fr: "Top choice neighborhoods for families with children combine excellent public schools, safety from crime, owner-occupied single family homes, other families with children in the neighborhood, and many adults with college degrees or even advanced degrees.",
                            ft_homebuyer: "Top choice neighborhoods for first-time homebuyers combine educated neighbors (a powerful indicator of overall neighborhood quality), with above-average rates of housing appreciation.",
                            luxury: "Luxury communities are a unique combination of wealthy, educated, executives, managers, and professionals.",
                            vac_home: "Vacation home locations are a unique combination of safety from crime, educated neighbors, excellent public schools, and an enviable mix of rental properties and owner-occupied homes - all indicators of a top quality community where real estate investments are more secure.",
                            retire_fr: "Retirement dream areas are a unique combination of peace and quiet, safety from crime, a vibrant mix of educated seniors and other age groups, and diverse housing choices.",
                            sng_old: "Top neighborhoods for young, upwardly-mobile singles are a unique combination of young singles who are educated, employed in professional or executive positions, and preferentially rent.",
                            college_fr: "Top choice neighborhoods for college students are the areas most popular with college or graduate students, combined with relative safety from crime and good walkability."
                        }
                    }
                },
                summary: {
                    median_home_value: {
                        hsj: "$0 - $100,000 Homes",
                        hsh: "$100,001 - $200,000 Homes",
                        hsg: "$200,001 - $300,000 Homes",
                        hsf: "$300,001 - $400,000 Homes",
                        hse: "$400,001 - $500,000 Homes",
                        hsd: "$500,001 - $750,000 Homes",
                        hsc: "$750,001 - $1,000,000 Homes",
                        hsb: "$1M - $2M Homes",
                        hsa: "Over $2M Homes"
                    },
                    time_period: {
                        app_total_rankpct: {
                            apx: "10 (Highest) since 1990",
                            ap9: "9 (10 is highest) since 1990",
                            ap8: "8 (10 is highest) since 1990",
                            ap7: "7 (10 is highest) since 1990",
                            ap6: "6 (10 is highest) since 1990",
                            ap5: "5 (Average) since 1990",
                            ap4: "4 (10 is highest) since 1990",
                            ap3: "3 (10 is highest) since 1990",
                            ap2: "2 (10 is highest) since 1990",
                            ap1: "1 (Lowest) since 1990"
                        },
                        app_10y_rankpct: {
                            apx: "10 (Highest) last 10 yrs.",
                            ap9: "9 (10 is highest) last 10 yrs.",
                            ap8: "8 (10 is highest) last 10 yrs.",
                            ap7: "7 (10 is highest) last 10 yrs.",
                            ap6: "6 (10 is highest) last 10 yrs.",
                            ap5: "5 (Average) last 10 yrs.",
                            ap4: "4 (10 is highest) last 10 yrs.",
                            ap3: "3 (10 is highest) last 10 yrs.",
                            ap2: "2 (10 is highest) last 10 yrs.",
                            ap1: "1 (Lowest) last 10 yrs."
                        },
                        app_5y_rankpct: {
                            apx: "10 (Highest) last 5 yrs.",
                            ap9: "9 (10 is highest) last 5 yrs.",
                            ap8: "8 (10 is highest) last 5 yrs.",
                            ap7: "7 (10 is highest) last 5 yrs.",
                            ap6: "6 (10 is highest) last 5 yrs.",
                            ap5: "5 (Average) last 5 yrs.",
                            ap4: "4 (10 is highest) last 5 yrs.",
                            ap3: "3 (10 is highest) last 5 yrs.",
                            ap2: "2 (10 is highest) last 5 yrs.",
                            ap1: "1 (Lowest) last 5 yrs."
                        },
                        app_2y_rankpct: {
                            apx: "10 (Highest) last 2 yrs.",
                            ap9: "9 (10 is highest) last 2 yrs.",
                            ap8: "8 (10 is highest) last 2 yrs.",
                            ap7: "7 (10 is highest) last 2 yrs.",
                            ap6: "6 (10 is highest) last 2 yrs.",
                            ap5: "5 (Average) last 2 yrs.",
                            ap4: "4 (10 is highest) last 2 yrs.",
                            ap3: "3 (10 is highest) last 2 yrs.",
                            ap2: "2 (10 is highest) last 2 yrs.",
                            ap1: "1 (Lowest) last 2 yrs."
                        },
                        app_1y_rankpct: {
                            apx: "10 (Highest) last 12 mos.",
                            ap9: "9 (10 is highest) last 12 mos.",
                            ap8: "8 (10 is highest) last 12 mos.",
                            ap7: "7 (10 is highest) last 12 mos.",
                            ap6: "6 (10 is highest) last 12 mos.",
                            ap5: "5 (Average) last 12 mos.",
                            ap4: "4 (10 is highest) last 12 mos.",
                            ap3: "3 (10 is highest) last 12 mos.",
                            ap2: "2 (10 is highest) last 12 mos.",
                            ap1: "1 (Lowest) last 12 mos."
                        },
                        app_1q_rankpct: {
                            apx: "10 (Highest) latest qtr.",
                            ap9: "9 (10 is highest) latest qtr.",
                            ap8: "8 (10 is highest) latest qtr.",
                            ap7: "7 (10 is highest) latest qtr.",
                            ap6: "6 (10 is highest) latest qtr.",
                            ap5: "5 (Average) latest qtr.",
                            ap4: "4 (10 is highest) latest qtr.",
                            ap3: "3 (10 is highest) latest qtr.",
                            ap2: "2 (10 is highest) latest qtr.",
                            ap1: "1 (Lowest) latest qtr."
                        }
                    },
                    median_rental_price: {
                        ruj: "Under $300 Med. Rent",
                        rui: "$300 - $449 Med. Rent",
                        ruh: "$450 - $599 Med. Rent",
                        rug: "$600 - $799 Med. Rent",
                        ruf: "$800 - $999 Med. Rent",
                        rue: "$1,000 - $1,249 Med. Rent",
                        rud: "$1,250 - $1,499 Med. Rent",
                        ruc: "$1,500 - $1,999 Med. Rent",
                        rub: "$2,000 - $2,499 Med. Rent",
                        rua: "$2,500 and above Med. Rent"
                    },
                    rent_trend: {
                        gi: "Greatest Increase in Rent Price",
                        mi: "Moderate Increase in Rent Price",
                        s: "Stable Rent Price",
                        md: "Moderate Decrease in Rent Price",
                        gd: "Greatest Decrease in Rent Price"
                    },
                    real_estate_taxes: {
                        highest: "Highest Real Estate Taxes",
                        above_average: "Above Avg Real Estate Taxes",
                        average: "Avg Real Estate Taxes",
                        below_average: "Below Avg Real Estate Taxes",
                        lowest: "Lowest Real Estate Taxes"
                    },
                    crime_type: {
                        pcm: {
                            crx: "Low crime rate",
                            cr9: "Safer than 90% of nhoods",
                            cr8: "Safer than 80% of nhoods",
                            cr7: "Safer than 70% of nhoods",
                            cr6: "Safer than 60% of nhoods",
                            cr5: "Avg crime rate",
                            cr4: "Safer than 40% of nhoods",
                            cr3: "Safer than 30% of nhoods",
                            cr2: "Safer than 20% of nhoods",
                            cr1: "Safer than 10% of nhoods",
                            cr0: "High crime rate"
                        },
                        crime_property_index: {
                            crx: "Low Prop crime rate",
                            cr9: "Prop Crime: Safer than 90%",
                            cr8: "Prop Crime: Safer than 80%",
                            cr7: "Prop Crime: Safer than 70%",
                            cr6: "Prop Crime: Safer than 60%",
                            cr5: "Avg Prop crime rate",
                            cr4: "Prop Crime: Safer than 40%",
                            cr3: "Prop Crime: Safer than 30%",
                            cr2: "Prop Crime: Safer than 20%",
                            cr1: "Prop Crime: Safer than 10%",
                            cr0: "High Prop crime rate"
                        },
                        crime_violent_index: {
                            crx: "Low Vlnt crime rate",
                            cr9: "Vlnt Crime: Safer than 90%",
                            cr8: "Vlnt Crime: Safer than 80%",
                            cr7: "Vlnt Crime: Safer than 70%",
                            cr6: "Vlnt Crime: Safer than 60%",
                            cr5: "Avg Vlnt crime rate",
                            cr4: "Vlnt Crime: Safer than 40%",
                            cr3: "Vlnt Crime: Safer than 30%",
                            cr2: "Vlnt Crime: Safer than 20%",
                            cr1: "Vlnt Crime: Safer than 10%",
                            cr0: "High Vlnt crime rate"
                        },
                        crime_density_index: {
                            crx: "Fewest crimes per sq mi",
                            cr9: "Fewer per sq mi than 90%",
                            cr8: "Fewer per sq mi than 80%",
                            cr7: "Fewer per sq mi than 70%",
                            cr6: "Fewer per sq mi than 60%",
                            cr5: "Avg crime per sq mi",
                            cr4: "Fewer per sq mi than 40%",
                            cr3: "Fewer per sq mi than 30%",
                            cr2: "Fewer per sq mi than 20%",
                            cr1: "Fewer per sq mi than 10%",
                            cr0: "Most crime per sq mi"
                        }
                    },
                    lifestyle: {
                        family_fr: "Fam-Friendly",
                        ft_homebuyer: "First Time Homebuyers",
                        luxury: "Lux Communities",
                        vac_home: "Vaca Homes",
                        retire_fr: "Retirement Dream",
                        sng_old: "Young Single Pros",
                        college_fr: "Student Friendly"
                    },
                    nautical: "Nautical",
                    walkable: "Walkable",
                    quiet: "Quiet",
                    hip: "Hip and Trendy",
                    sophisticates: "Urban Sophisticates",
                    test_scores: {
                        rankpct_education_score: "High Overall Proficiency",
                        srr: "High Reading Proficiency",
                        srm: "High Math Proficiency"
                    },
                    class_size: {
                        sts: "Sm Class Size",
                        stm: "Avg Class Size",
                        stx: "Lg Class Size"
                    },
                    home_size: {
                        sml_rpct: "Homes: Up to 2 Beds",
                        med_rpct: "Homes: 3 - 4 Beds",
                        lar_rpct: "Homes: 5+ Beds"
                    },
                    percent_of_children_in_poverty: {
                        h: "High % of Child Poverty",
                        a: "Avg % of Child Poverty",
                        l: "Low % of Child Poverty"
                    },
                    percent_of_children_in_private_school: {
                        h: "High % of Child in Priv School",
                        a: "Avg % of Child in Priv School",
                        l: "Low % of Child in Priv School"
                    },
                    housing_type: {
                        det_rpct: "Single Fam Homes",
                        att_rpct: "Town/Rowhouses",
                        sap_rpct: "Duplexes/Sm Apt Bldgs",
                        lap_rpct: "Complexes/Lg Apt Bldgs",
                        mob_rpct: "Mobile or Manufactured"
                    },
                    era_built: {
                        his_rpct: "1939 or Older Houses",
                        old_rpct: "1940 - 1969 Houses",
                        est_rpct: "1970 - 1999 Houses",
                        new_rpct: "After 2000 Houses"
                    },
                    special_purpose_housing: {
                        dorms_rpct: "College Dorms",
                        base_rpct: "Military Housing",
                        incarc_rpct: "Prisons and Jails",
                        units_rpct: "Conventional Only"
                    },
                    neighborhood_density: {
                        den_sort: "Densely Urban",
                        urb_sort: "Urban",
                        sub_sort: "Suburban",
                        rur_sort: "Rural",
                        rmt_sort: "Remote"
                    },
                    coastal: "Coastal",
                    lakefront: "Lakefront",
                    farms: "Farms",
                    home_ownership_rate: {
                        own: "Mostly Owners",
                        ort: "Mixed Owners/Renters",
                        rnt: "Mostly Renters"
                    },
                    home_ownership_trend: {
                        i: "Increasing Ownership",
                        s: "Stable Ownership",
                        d: "Decreasing Ownership"
                    },
                    vacant_housing_type: {
                        vacant_rpct: {
                            h: "High Vacancy",
                            a: "Avg Vacancy",
                            l: "Low Vacancy"
                        },
                        seasonal_rpct: {
                            h: "High Seasonal Vacancy",
                            a: "Avg Seasonal Vacancy",
                            l: "Low Seasonal Vacancy"
                        },
                        vacant_ns_rpct: {
                            h: "High Year-Round Vacancy",
                            a: "Avg Year-Round Vacancy",
                            l: "Low Year-Round Vacancy"
                        }
                    },
                    vacancy_trend: {
                        i: "Increasing Vancancy",
                        s: "Stable Vacancy",
                        d: "Decreasing Vacancy"
                    },
                    mix: "Mixed Ages",
                    rpct_age_0_4: "Aged 0 - 4 years",
                    rpct_5_17: "Aged 5 - 17 years",
                    rpct_18_29: "Aged 19 - 29 years",
                    rpct_30_44: "Aged 30 - 44 years",
                    rpct_45_64: "Aged 45 - 64 years",
                    rankpct_65_up: "Aged 65 years and up",
                    single_rpct: "Single (Never Married)",
                    married_rpct: "Married",
                    divorced_rpct: "Divorced",
                    widowed_rpct: "Widowed",
                    population: {
                        over_100: "100 or more people",
                        over_200: "200 or more people",
                        over_500: "500 or more people",
                        over_800: "800 or more people",
                        over_1000: "1,000 or more people",
                        any: "Any Population"
                    },
                    alone_rpct: "One Person Households",
                    samesex_rpct: "Same-Sex Partners",
                    rankpct_fam_sort: "Married Couple with Child",
                    single_par_rpct: "Single Parent with Child",
                    residents_moving: {
                        h: "High % of Residents Moving",
                        a: "Avg % of Residents Moving",
                        l: "Low % of Residents Moving"
                    },
                    residents_born_out_of_state: {
                        h: "High % of Residents Born Out of State",
                        a: "Avg % of Residents Born Out of State",
                        l: "Low % of Residents Born Out of State"
                    },
                    residents_foreign_born: {
                        h: "High % of Foreign Born Residents",
                        a: "Avg % of Foreign Born Residents",
                        l: "Low % of Foreign Born Residents"
                    },
                    college_degree: {
                        h: "High % w/ 4-YR Degree",
                        aa: "Above Avg % w/ 4-YR Degree",
                        a: "Avg %  w/ 4-YR Degree",
                        ba: "Below Avg % w/ 4-YR Degree",
                        l: "Low % w/ 4-YR Degree"
                    },
                    advanced_degree: {
                        h: "High % w/ Adv Degree",
                        aa: "Above Avg % w/ Adv Degree",
                        a: "Avg % w/ Adv Degree",
                        ba: "Below Avg % w/ Adv Degree",
                        l: "Low % w/ Adv Degree"
                    },
                    currently_college: {
                        h: "High % at College",
                        aa: "Above Avg % at College",
                        a: "Avg % at College",
                        ba: "Below Avg % at College",
                        l: "Low % at College"
                    },
                    education_trend: {
                        hi: "High Increase in Edu Level",
                        mi: "Mod Increase in Edu Level",
                        s: "Stable Edu Level",
                        md: "Mod Decrease in Edu Level",
                        gd: "High Decrease in Edu Level"
                    },
                    income_type: {
                        mhi: {
                            hi: "Highest HH Income",
                            umi: "Upper Mid HH Income",
                            mi: "Middle HH Income",
                            lmi: "Lower Mid HH Income",
                            li: "Lowest HH Income"
                        },
                        pci: {
                            hi: "Highest Per Cap Income",
                            umi: "Upper Mid Per Cap Income",
                            mi: "Middle Per Cap Income",
                            lmi: "Lower Mid Per Cap Income",
                            li: "Lowest Per Cap Income"
                        }
                    },
                    income_trend: {
                        hi: "High Increase- Income",
                        mi: "Mod Increase- Income",
                        s: "Stable Income",
                        md: "Mod Decrease- Income",
                        gd: "High Decrease- Income"
                    },
                    unemployment_rate: {
                        h: "High Unemploy Rate",
                        a: "Avg Unemploy Rate",
                        l: "Low Unemploy Rate"
                    },
                    racial_diversity: {
                        hd: "High Diversity",
                        ad: "Avg Diversity",
                        ld: "Low Diversity"
                    },
                    rankpct_exc: "Execs, Mgrs, Pros",
                    srv_rpct: "Sales & Service",
                    sup_rpct: "Office Support",
                    lbr_rpct: "Factory / Laborers",
                    far_rpct: "Farm, Fish, Forestry",
                    r_white: "White (Non-Hispanic)",
                    r_black: "Black (Non-Hispanic)",
                    r_amerind: "American Indian",
                    r_pacific: "Hawaiian/Pac Islander",
                    r_asian: "Asian (Any)",
                    r_cambod: "Cambodian",
                    r_chin: "Chinese",
                    r_kor: "Korean",
                    r_filipino: "Filipino",
                    r_japan: "Japanese",
                    r_south: "South Asian",
                    r_viet: "Vietnamese",
                    r_other: "Multiracial/Other",
                    r_hispanic: "Hispanic/Latino (Any)",
                    r_cenam: "Central American",
                    r_cuban: "Cuban",
                    r_domin: "Dominican",
                    r_mex: "Mexican",
                    r_pr: "Puerto Rican",
                    r_souam: "South American",
                    a_african: "African Anc",
                    a_arab: "Arab Anc",
                    a_armenian: "Armenian Anc",
                    a_austrian: "Austrian Anc",
                    a_belgian: "Belgian Anc",
                    a_brazil: "Brazilian Anc",
                    a_british: "British Anc",
                    a_canadian: "Canadian Anc",
                    a_croatian: "Croatian Anc",
                    a_czech: "Czechoslovakian Anc",
                    a_danish: "Danish Anc",
                    a_dutch: "Dutch Anc",
                    a_easteuro: "E European Anc",
                    a_english: "English Anc",
                    a_finnish: "Finnish Anc",
                    a_french: "French Anc",
                    a_fr_can: "French Canadian Anc",
                    a_german: "German Anc",
                    a_greek: "Greek Anc",
                    a_haitian: "Haitian Anc",
                    a_hungary: "Hungarian Anc",
                    a_iranian: "Iranian Anc",
                    a_irish: "Irish Anc",
                    a_italian: "Italian Anc",
                    a_jamaican: "Jamaican Anc",
                    a_lebanese: "Lebanese Anc",
                    a_lithuan: "Lithuanian Anc",
                    a_norway: "Norwegian Anc",
                    a_penn_ger: "Penn. German Anc",
                    a_polish: "Polish Anc",
                    a_portugal: "Portuguese Anc",
                    a_romanian: "Romanian Anc",
                    a_russian: "Russian Anc",
                    a_scandin: "Scandinavian Anc",
                    a_scot_iri: "Scots-Irish Anc",
                    a_scottish: "Scottish Anc",
                    a_solvak: "Slovak Anc",
                    a_spanish: "Spanish Anc",
                    a_sub_afri: "Sub-Saharan African Anc",
                    a_swedish: "Swedish Anc",
                    a_swiss: "Swiss Anc",
                    a_ukrain: "Ukrainian Anc",
                    a_usa: "U.S. or American Anc",
                    a_welsh: "Welsh Anc",
                    a_westindi: "West Indian Anc",
                    a_yugoslav: "Yugoslavian Anc",
                    l_african: "African Languages",
                    l_arabic: "Arabic Spoken",
                    l_armenian: "Armenian Spoken",
                    l_chinese: "Chinese Spoken",
                    l_english: "English Spoken",
                    l_french: "French Spoken",
                    l_german: "German Spoken",
                    l_greek: "Greek Spoken",
                    l_guajarat: "Guajarati Spoken",
                    l_hebrew: "Hebrew Spoken",
                    l_hindi: "Hindi Spoken",
                    l_italian: "Italian Spoken",
                    l_japanese: "Japanese Spoken",
                    l_korean: "Korean Spoken",
                    l_monkhmer: "Mon-Khmer Spoken",
                    l_amerind: "Native American Langs",
                    l_persian: "Persian Spoken",
                    l_polish: "Polish Spoken",
                    l_portuge: "Portuguese Spoken",
                    l_russian: "Russian Spoken",
                    l_souasia: "S Asian Languages Spoken",
                    l_spanish: "Spanish Spoken",
                    l_tagalog: "Tagalog Spoken",
                    l_urdu: "Urdu Spoken",
                    l_vietnam: "Vietnamese Spoken",
                    l_yiddish: "Yiddish Spoken",
                    military: "Military",
                    government: "Government",
                    agriculture: "Agriculture",
                    mining: "Mining",
                    construction: "Construction",
                    manufacturing: "Manufacturing",
                    wholesale: "Wholesale",
                    retail: "Retail",
                    transportation: "Transportation",
                    utilities: "Utilities",
                    information: "Information",
                    finance: "Finance",
                    real_estate: "Real Estate",
                    professional: "Professional",
                    management: "Management",
                    administration: "Administration",
                    education: "Education",
                    healthcare: "Healthcare",
                    arts: "Arts",
                    accommodation: "Accommodation",
                    other: "Other Industries",
                    means_of_transport: {
                        drive_rpct: "Drive Alone",
                        carpool_rpct: "Carpool",
                        workhome_rpct: "Work at Home",
                        no_drive_rpct: "Transit/Non-Motorized",
                        bus_rpct: "Bus",
                        train_rpct: "Subway or Train",
                        ferry_rpct: "Ferry",
                        bike_rpct: "Bicycle",
                        walk2work_rpct: "Walk"
                    },
                    commute_time: {
                        commtime15_rpct: "<15 Min Commute",
                        commtime30_rpct: "15 - 29 Min Commute",
                        commtime45_rpct: "30 - 44 Min Commute",
                        commtime60_rpct: "45 - 60 Min Commute",
                        commtime90_rpct: "60+ Min Commute"
                    },
                    vehicles_per_household: {
                        veh0_rpct: "No Vehicles",
                        veh1_2_rpct: "1 or 2 Vechicles",
                        veh3_more_rpct: "3+ Vehicles"
                    }
                }
            }
        }
    }
};
var NScout = NScout || {};
NScout.FAQTooltip = function() {
    this.init()
}, NScout.FAQTooltip.prototype = {
    init: function() {
        this.crime_faq_link = $(".box-c-crime-data .crime-faq"), this.crime_tooltip = $("<div />").addClass("crime-faq-tooltip").css({
            position: "absolute",
            top: 0,
            left: 0,
            visibility: "hidden"
        }), this.crime_tooltip.append("All questions and answers related to how NeighborhoodScout compiles its crime data and scores neighborhoods."), $("html body").append(this.crime_tooltip), this.crime_faq_link.hover(this.show_tooltip.bind(this), this.hide_tooltip.bind(this))
    },
    hide_tooltip: function() {
        this.crime_tooltip.css("visibility", "hidden")
    },
    show_tooltip: function() {
        var e = this.crime_faq_link.offset();
        e.top += 20, e.left += this.crime_faq_link.width() - this.crime_tooltip.outerWidth(), this.crime_tooltip.offset(e), this.crime_tooltip.css("visibility", "visible")
    }
}, jQuery(document).ready(function() {
    new NScout.FAQTooltip
});
var NScout = NScout || {};
NScout.InfoTT = function() {
    this.init()
}, NScout.InfoTT.prototype = {
    init: function() {
        this.div = $("<div />").addClass("mapTooltip").css({
            position: "absolute",
            top: 0,
            left: 0
        }).hide(), this.div.append($("<div />").addClass("zoom-marker")), this.textNode = $("<div />").addClass("text"), this.div.append(this.textNode), this.div.hover(this.hoverOn.bind(this), this.hoverOff.bind(this)), $("html body").append(this.div)
    },
    show: function(e, t) {
        this.clearTimeout(), t && this.div.css({
            top: t.top,
            left: t.left
        }), this.setText(e), this.div.show()
    },
    hide: function() {
        this.div.hide()
    },
    hideWithDelay: function() {
        this.clearTimeout(), this.timeout = setTimeout(this.hide.bind(this), 50)
    },
    setPosition: function(e) {
        this.div.css({
            top: e.top,
            left: e.left
        })
    },
    setText: function(e) {
        this.textNode.html(e)
    },
    clearTimeout: function() {
        this.timeout && clearTimeout(this.timeout)
    },
    hoverOn: function() {
        this.clearTimeout()
    },
    hoverOff: function() {
        this.hideWithDelay()
    }
}, NScout.LocationTT = function() {
    var e = "&nbsp;|&nbsp;",
        t = $("body.show_real_estate")[0] !== undefined;
    this.text = $("<span />"), this.links = {
        overview: $('<a href="#">Overview</a>'),
        schools: $('<a href="#">Schools</a>'),
        rates: $('<a href="#">Home Appreciation</a>'),
        crime: $('<a href="#">Crime</a>'),
        search: $('<a href="#">See Neighborhood Information</a>'),
        find_realtor: $('<a href="#">Find a Top Realtor get up to $2,000 Cash Back</a>'),
        home_listing_partner: $('<a href="#" target="_blank">Get Home Listings</a>')
    }, this.header = $("<span />"), this.div = $("#location-tooltip");
    var n = $("<div />").addClass("header"),
        r = $("<span />").addClass("closeButton");
    n.append(this.header), this.div.find(".tr").append(r);
    var i = $("<div />").addClass("inner");
    i.append(this.text);
    var s = $("<ul />"),
        o = $("<li />");
    o.append(this.links.overview), o.append(this.spacer), o.append(this.links.schools), o.append(this.spacer), o.append(this.links.rates), o.append(this.spacer), o.append(this.links.crime), s.append(o), this.linkContainer = o, o = $("<li />").hide().append(this.links.search), s.append(o), this.searchLinkContainer = o, t && (s.append($("<li />").addClass("special").html(this.links.find_realtor)), o = $("<li />"), o.append(this.links.home_listing_partner), s.append(o)), i.append(s), this.div.find(".tm").append(n), this.div.find(".mm").append(i), this.div.css({
        position: "absolute",
        top: "0",
        left: "0",
        display: "none"
    }), $("html body").append(this.div), r.click(this.hide.bind(this))
}, NScout.LocationTT.prototype = {
    spacer: "&nbsp;|&nbsp;",
    show: function() {
        this.div.css({
            display: "block"
        }), $(".infoTooltip .inner ul li").each(function(e, t) {
            $(t).is(":visible") && ($(t).css("display", "block"), $(t).css("display", "list-item"))
        })
    },
    hide: function() {
        this.div.css({
            display: "none"
        })
    },
    height: function() {
        return this.div.outerHeight(!1)
    },
    width: function() {
        return this.div.outerWidth(!1)
    },
    leftOf: function(e) {
        e = $(e);
        var t = e.offset(),
            n = e.outerWidth(!1);
        this.div.css({
            left: t.left + n,
            top: t.top - this.height() / 2
        })
    },
    setOffset: function(e) {
        var t = e.top,
            n = e.left,
            r = this.height(),
            i = this.width();
        t + r > e.topMax && (t = e.topMax - r), n + i > e.widthMax && (n = e.widthMax - i), this.div.css({
            left: n,
            top: t
        })
    },
    title: function(e) {
        this.header.html(e)
    },
    setText: function(e) {
        this.text.html(e)
    },
    setPath: function(e, t, n, r) {
        if (e) {
            var i, s;
            e.match(/\/$/) || (e += "/");
            var o = NScout.Util.cleanArray(e.split("/"));
            this.showPaths(), this.links.overview.attr("href", e), o[0] == "search" ? (i = o[1], s = o[2]) : (i = o[0], s = o[1]), t == "city" ? (this.links.schools.attr("href", e + "schools/"), this.links.rates.attr("href", e + "rates/"), this.links.crime.attr("href", e + "crime/")) : t == "search" ? (this.hidePaths(), this.searchLinkContainer.show(), this.links.search.attr("href", e)) : (this.links.schools.attr("href", e + "#schools"), this.links.rates.attr("href", e + "#real-estate"), this.links.crime.attr("href", e + "#crime"));
            var u = NScout.Util.cleanArray(window.location.pathname.split("/"));
            if (t == "search") this.links.find_realtor.attr("href", "/find-realtor/?pg=search%20map&city=" + s + "&state=" + i);
            else if (location.pathname.match(/^\/zipcode/)) {
                var a = ["polyid=" + r.replace("p", ""), "nbr=" + n, "c=" + s, "s=" + i].join("&");
                this.links.find_realtor.attr("href", "/find-realtor/?pg=zip_code_map&" + a)
            } else u.length == 1 ? this.links.find_realtor.attr("href", "/find-realtor/?pg=state%20map&city=" + s + "&state=" + i) : this.links.find_realtor.attr("href", "/find-realtor/?pg=city%20map&city=" + s + "&state=" + i + "&nbr=" + n)
        } else {
            this.hidePaths();
            var o = NScout.Util.cleanArray(window.location.pathname.split("/"));
            if (location.pathname.match) {
                var a = ["polyid=" + window.mapOptions.data.polygon_id, "nbr=" + n, "c=" + o[1], "s=" + o[0]].join("&");
                this.links.find_realtor.attr("href", "/find-realtor/?pg=comparison_map&" + a)
            } else this.links.find_realtor.attr("href", "/find-realtor/?pg=nhd%20map&city=" + o[1] + "&state=" + o[0] + "&nbr=" + n)
        }
    },
    setHomeListingPartnerUrl: function(e) {
        if (e) {
            var t = e.match(/home_listing_partners/),
                n = t !== null ? "" : "/home_listing_partners/";
            this.links.home_listing_partner.attr("href", n + e + "?link_type=map_popup").closest("li").show()
        } else this.links.home_listing_partner.closest("li").hide()
    },
    hidePaths: function() {
        this.linkContainer.hide(), this.searchLinkContainer.hide()
    },
    showPaths: function() {
        this.linkContainer.show()
    },
    makeText: function(e, t) {
        if (!e) return "";
        switch (t) {
            case "overview":
                return "Median House Value: " + e;
            case "search":
                return e.replace(", ", "<br />")
        }
    },
    makeAndSetText: function(e, t) {
        var n = this.makeText(e, t);
        this.setText(n)
    },
    clickOnMap: function(e, t, n) {
        var r = e.full_name || e.name,
            i = e.url,
            s = e.type,
            o = e.polygon_id,
            u = typeof e.text == "string" ? e.text : e.text[n],
            a = e.home_listing_partner_zip;
        this.setOffset(t), this.title(r.split(" (").join("<br />(")), this.setPath(i, s, r, o), this.setHomeListingPartnerUrl(a), this.makeAndSetText(u, n), this.show()
    },
    clickOnTable: function(e) {
        var t = $(e),
            n = t.attr("data-title"),
            r = t.attr("data-path"),
            i = t.closest("table").attr("data-type"),
            s = t.attr("data-type"),
            o = t.attr("data-txt-" + i),
            u = t.attr("data-home-listing-partner");
        this.leftOf(e), this.title(n.split(" (").join("<br />(")), this.setPath(r, s, n), this.setHomeListingPartnerUrl(u), this.makeAndSetText(o, i), this.show()
    },
    isVisible: function() {
        return this.div.is(":visible")
    }
}, NScout.LocationToolTip = {
    init: function() {
        var e = window.locationTT = new NScout.LocationTT;
        $(".box-c-map-menu").on("click", "tr[data-title]", function(t) {
            t.preventDefault(), e.clickOnTable(this)
        }), window.map && window.map.type && window.map.setClick(function(t, n) {
            e.clickOnMap(t, n, map.type)
        })
    }
};
var w3c = document.getElementById ? !0 : !1,
    ie = document.all ? !0 : !1,
    N = -1;
(function() {
    var e = {}.hasOwnProperty,
        t = function(t, n) {
            function i() {
                this.constructor = t
            }
            for (var r in n) e.call(n, r) && (t[r] = n[r]);
            return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
        };
    this.NScout = this.NScout || {}, this.NScout.SessionLinks = function(e) {
        function n() {
            return n.__super__.constructor.apply(this, arguments)
        }
        return t(n, e), n.prototype.el = "body", n.prototype.events = function() {
            return {
                "click #login": "openLoginPrompt"
            }
        }, n.prototype.initialize = function() {
            return this.loginPrompt = new NScout.LoginPrompt
        }, n.prototype.openLoginPrompt = function(e) {
            return this.loginPrompt.show(), e.stopPropagation()
        }, n
    }(Backbone.View)
}).call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.AbstractGrayedOutPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.smallScreenAlternateUrl = void 0, n.prototype.events = function() {
                return {
                    "click .close-button": "hide"
                }
            }, n.prototype.initialize = function(e) {
                return e != null && _.extend(this, _.pick(e, "config")), this.greyOut = $("#scouting-grey-out"), this.appendResizeHook(), this.afterInitializeHook()
            }, n.prototype.appendResizeHook = function() {
                return $(window).on("resize", function(e) {
                    return function() {
                        if (e.$el.is(":visible")) return e.show()
                    }
                }(this))
            }, n.prototype.afterInitializeHook = function() {
                return "no default implementation"
            }, n.prototype.show = function() {
                if (!this._too_small() || this.smallScreenAlternateUrl == null) return this.w = $(window).width(), this.h = $(window).height(), this.greyOut.width(this.w), this.greyOut.show(), this.$el.css("left", (this.w - this.$el.width()) / 2 + "px"), this.$el.css("top", (this.h - this.$el.height()) / 2 + "px"), this.$el.show();
                if (this.smallScreenAlternateUrl !== "NO-OP") return window.location = this.smallScreenAlternateUrl
            }, n.prototype.hide = function() {
                var e, t;
                return (e = this.$el) != null && e.hide(), (t = this.greyOut) != null ? t.hide() : void 0
            }, n.prototype._too_small = function() {
                return screen.width <= 700 || screen.height <= 700
            }, n
        }(Backbone.View), this.NScout.SubscribePrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#subscribe-prompt", n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.AutoSignUpPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "auto-sign-up-prompt", n.prototype.templateName = "prompts/auto_sign_up", n.prototype.cookieName = "auto_sign_up_prompt", n.prototype.smallScreenAlternateUrl = "NO-OP", n.prototype.events = function() {
                return _.extend({}, n.__super__.events.apply(this, arguments), {
                    "click a#nope": "hide"
                })
            }, n.prototype.afterInitializeHook = function() {
                return this.template = JST[this.templateName]({
                    url: this._url()
                }), this.$el.html(this.template), $("body").append(this.$el)
            }, n.prototype.conditionallyDisplay = function() {
                var e;
                if ($.cookie(this.cookieName)) return;
                return e = _.bind(this._executeDisplay, this), _.delay(e, 6e3)
            }, n.prototype._executeDisplay = function() {
                if ($("body").data("logged-in")) return;
                return this.show(), $.cookie(this.cookieName, "done", {
                    path: "/"
                })
            }, n.prototype._url = function() {
                return window.location.port ? "http://" + window.location.hostname + window.location.port + "/users/" : "https://" + window.location.hostname + "/users/"
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.CancelWarnPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "cancel-warn-prompt", n.prototype.templateName = "cancel_warn", n.prototype.events = function() {
                return _.extend({}, n.__super__.events.apply(this, arguments), {
                    "click a.no": "hide"
                })
            }, n.prototype.afterInitializeHook = function() {
                return this.template = JST[this.templateName]({
                    expiry: this.config.expiry,
                    path: this.config.path,
                    bookmarking: this.config.bookmarking
                }), this.$el.html(this.template), $("body").append(this.$el)
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout.LoginPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#login-prompt", n.prototype.smallScreenAlternateUrl = "/users/sign_in", n.prototype.events = function() {
                return _.extend({}, n.__super__.events.apply(this, arguments), {
                    "click .foot a.join": "join"
                })
            }, n.prototype.join = function(e) {
                return e.stopPropagation(), e.preventDefault(), this.hide(), $('a[href*="/users/new"]').last().click()
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.PostJoinPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "post-join-prompt", n.prototype.smallScreenAlternateUrl = "NO-OP", n.prototype.templateName = "post_join", n.prototype.events = function() {
                return _.extend({}, n.__super__.events.apply(this, arguments), {
                    "click a.button": "join"
                })
            }, n.prototype.afterInitializeHook = function() {
                return this.template = JST[this.templateName]({
                    email: this.config.email,
                    resend_href: this.config.resend_href
                }), this.$el.html(this.template), $("body").append(this.$el)
            }, n.prototype.join = function() {
                return this.hide(), $("a[href*='/users/new'][data-join-reason]").last().click()
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.ShareEmailPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#new-share-email", n.prototype.initialize = function() {
                var e;
                return _.extend({}, n.__super__.initialize.apply(this, arguments), this.setEmailTitle()), this.setUrl(), this.setHomeListingPartner(), e = this.$el.find("form"), e.on("ajax:before", function(e) {
                    return function() {
                        return $("button#send-share-email").attr("disabled", !0)
                    }
                }(this)).on("ajax:complete", function(e) {
                    return function() {
                        return $("button#send-share-email").attr("disabled", !1), $("img#recaptcha_reload").trigger("click")
                    }
                }(this)).on("ajax:success", function(e) {
                    return function(t, n, r, i) {
                        return e.successHandler(n)
                    }
                }(this)).on("ajax:error", function(e) {
                    return function(t, n, r, i) {
                        return e.errorHandler(n)
                    }
                }(this))
            }, n.prototype.setEmailTitle = function() {
                var e;
                if ($("title")[0] === void 0) return;
                return e = $("title")[0].innerHTML, this.$el.find("p.title").html(e), this.$el.find("#share_email_title").val(e)
            }, n.prototype.setUrl = function() {
                var e;
                return e = location.href, this.$el.find("#share_email_url").val(e)
            }, n.prototype.setHomeListingPartner = function() {
                var e, t, n;
                return n = $("li.find-listings a").attr("no-href") || "", e = NScout.NoHrefLinks.decrypt_path(n), t = e.replace("green_link", "email"), this.$el.find("#share_email_home_listing_partner_path").val(t)
            }, n.prototype.successHandler = function(e) {
                var t;
                return t = new NScout.ShareEmailSentPrompt({
                    config: {
                        recipients: e.recipients
                    }
                }), this.$el.hide(), t.show(), this.resetForm()
            }, n.prototype.resetForm = function() {
                return $("#share_email_name, #share_email_recipients, #share_email_message").each(function() {
                    return $(this).val("")
                })
            }, n.prototype.errorHandler = function(e) {
                var t;
                return this.$el.find(".error").remove(), t = JSON.parse(e.responseText).errors, $.each(t, function(e) {
                    return function(t, n) {
                        var r, i;
                        return i = "#share_email_" + t, r = "<div class='error'>" + n + "</div>", e.$el.find(i).before(r)
                    }
                }(this))
            }, n.prototype.show = function() {
                return this.w = $(window).width(), this.h = $(window).height(), this.greyOut.width(this.w), this.greyOut.show(), this.$el.height() > this.h && this.$el.find(".content").css({
                    height: this.h,
                    overflow: "scroll"
                }), this.$el.css("left", (this.w - this.$el.width()) / 2 + "px"), this.$el.css("top", (this.h - this.$el.height()) / 2 + "px"), this.$el.show()
            }, n.prototype.hide = function() {
                return _.extend({}, n.__super__.hide.apply(this, arguments), this.resetForm()), this.$el.find(".error").remove()
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.ShareEmailSentPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#share-email-sent", n.prototype.initialize = function() {
                return _.extend({}, n.__super__.initialize.apply(this, arguments), this.setRecipients())
            }, n.prototype.setRecipients = function() {
                return this.$el.find(".recipients").html(this.config.recipients)
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SignUpPrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "sign-up-popup", n.prototype.smallScreenAlternateUrl = "/users/new", n.prototype.events = function() {
                return _.extend({}, n.__super__.events.apply(this, arguments), {
                    "click footer a": "login"
                })
            }, n.prototype.login = function(e) {
                return this.$el.hide(), e.stopPropagation(), e.preventDefault(), (new NScout.LoginPrompt).show()
            }, n.prototype.afterInitializeHook = function() {
                var e;
                this._alwaysHaveSignUpAvailable(), e = $("a[href*='/users/new'][data-join-reason]");
                if (e.length === 0) return;
                return $.get("/users/new/", function(e) {
                    return function(t) {
                        if (t != null) return e.$el.html(t)
                    }
                }(this)), this.$el.hide(), $("body").append(this.$el), e.click(function(e) {
                    return function(t) {
                        return $("#user_sign_up_page").val(document.URL), e._injectReasonToJoin(t.currentTarget), e.show(), t.preventDefault()
                    }
                }(this))
            }, n.prototype._injectReasonToJoin = function(e) {
                var t;
                t = $(e).data("join-reason");
                if (t) return this.$el.find("span.reason").html(t)
            }, n.prototype._alwaysHaveSignUpAvailable = function() {
                var e;
                if (this.config.logged_in) return;
                return e = $("<a>"), e.attr("href", "/users/new"), e.attr("data-join-reason", ""), $("body").append(e)
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.UpgradeToSavePrompt = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "upgrade-to-save-prompt", n.prototype.smallScreenAlternateUrl = "/subscribe/", n.prototype.options = ["things"], n.prototype.templateName = "upgrade_to_save", n.prototype.afterInitializeHook = function() {
                return this.header = $("header.quaternary"), this.template = JST[this.templateName]({
                    thing: this._thing(),
                    href: this._href()
                }), this.$el.html(this.template), $("body").append(this.$el)
            }, n.prototype._thing = function() {
                return this.header.data("savedItemType")
            }, n.prototype._href = function() {
                return this.header.data("savedItemHref")
            }, n
        }(NScout.AbstractGrayedOutPrompt)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SearchForm = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.cityDefault = "- select a state first -", n.prototype.cityAltDefault = "- select city -", n.prototype.events = function() {
                return {
                    "click li.selectboxit-disabled": "subscribePopup",
                    "click .locked .feature-body": "subscribePopup"
                }
            }, n.prototype.initialize = function() {
                return this.stateField = this.form.find("select[name*=state]"), this.withinField = this.form.find("select[name*=within]"), this.cityField = this.form.find("select[name*=city]")
            }, n.prototype.setupFields = function() {
                return this.stateField.change(this.stateChanged.bind(this)), this.withinField.change(this.withinChanged.bind(this))
            }, n.prototype.state = function() {
                return this.stateField.val()
            }, n.prototype.within = function() {
                return this.withinField.val()
            }, n.prototype.city = function() {
                return this.cityField.val()
            }, n.prototype.clearSelectOptions = function(e) {
                var t;
                return e.find("option").remove(), t = "<span>" + $(e).data().prompt + "</span>", e.siblings().find(".custom-dropdown-button").html(t), e.siblings().find("li").remove()
            }, n.prototype.resetLocationSelectFields = function() {
                return this.resetSelect(this.stateField), this.resetSelect(this.withinField), this.disableSelect(this.withinField), this.resetSelect(this.cityField), this.disableSelect(this.cityField)
            }, n.prototype.resetSelect = function(e) {
                return e.siblings().find("li[data-value='']").click()
            }, n.prototype.disableSelect = function(e) {
                return e.prop("disabled", "disabled"), e.siblings().find("a").addClass("disabled")
            }, n.prototype.enableSelect = function(e) {
                return e.prop("disabled", !1), e.siblings().find("a").removeClass("disabled")
            }, n.prototype.stateSelected = function() {
                var e;
                return ((e = this.state()) != null ? e.length : void 0) > 0 && this.state() !== "nationwide"
            }, n.prototype.populateSelectOptions = function(e) {
                var t;
                return t = this.cityField.attr("id"), $("#select-" + t).append("<li data-value='" + e[1] + "'><span class='option-title'>" + e[0] + "</span></li>"), this.cityField.append("<option value='" + e[1] + "'>" + e[0] + "</option>")
            }, n.prototype.stateChanged = function() {
                var e, t;
                return this.stateSelected() ? (this.enableSelect(this.withinField), t = "/" + this.state() + "/searchable_cities.json", $.get(t, function(e) {
                    return function(t) {
                        var n, r, i, s, o;
                        e.clearSelectOptions(e.cityField), n = t.cities, o = [];
                        for (i = 0, s = n.length; i < s; i++) r = n[i], o.push(e.populateSelectOptions(r));
                        return o
                    }
                }(this))) : (this.clearSelectOptions(this.cityField), this.disableSelect(this.cityField), this.resetSelect(this.withinField), this.disableSelect(this.withinField), e = this.state().length > 0 ? "<div>" + this.state() + "</div>" : "<span>" + this.stateField.data("prompt") + "</span>", this.stateField.siblings().find(".custom-dropdown-button").html(e))
            }, n.prototype.withinSelected = function() {
                var e;
                return ((e = this.within()) != null ? e.length : void 0) > 0 && this.within() !== "statewide"
            }, n.prototype.withinChanged = function() {
                return this.withinSelected() ? this.enableSelect(this.cityField) : (this.clearSelectOptions(this.cityField), this.disableSelect(this.cityField))
            }, n.prototype.searchError = function(e) {
                var t;
                return NScout.Scouting.hide(), $("html, body").scrollTop(0), (e != null ? e.length : void 0) ? t = JST["feature_search/errors"]({
                    flashMessage: e
                }) : t = JST["feature_search/errors"]({
                    flashMessage: "Your search could not be processed."
                }), $(".box-a-flash").append(t)
            }, n.prototype.subscribePopup = function() {
                return NScout.SubscribePopup.show()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = function(e, t) {
                return function() {
                    return e.apply(t, arguments)
                }
            },
            t = {}.hasOwnProperty,
            n = function(e, n) {
                function i() {
                    this.constructor = e
                }
                for (var r in n) t.call(n, r) && (e[r] = n[r]);
                return i.prototype = n.prototype, e.prototype = new i, e.__super__ = n.prototype, e
            };
        this.NScout = this.NScout || {}, this.NScout.ReportSearchForm = function(t) {
            function r() {
                return this.parseGeocode = e(this.parseGeocode, this), r.__super__.constructor.apply(this, arguments)
            }
            return n(r, t), r.prototype.el = "#new_location_search", r.prototype.initialize = function() {
                var e;
                this.$input = this.$("input[type=text]");
                try {
                    return this.geocoder = new google.maps.Geocoder, this.$el.submit(function(e) {
                        return function(t) {
                            return t.preventDefault(), e.makeSearch()
                        }
                    }(this))
                } catch (t) {
                    e = t
                }
            }, r.prototype.geocode = function() {
                var e;
                if ((e = this.query) != null ? !e.length : !void 0) return;
                return this.geocoder.geocode({
                    language: "en",
                    address: this.query
                }, this.parseGeocode)
            }, r.prototype.parseGeocode = function(e, t) {
                var n, r, i;
                i = this.$el.attr("action"), "OK" === t ? (r = e[0], n = {
                    flag: "geocode-success",
                    lat: r.geometry.location.lat(),
                    lng: r.geometry.location.lng(),
                    components: JSON.stringify(r.address_components),
                    types: r.types,
                    address: r.formatted_address,
                    query: this.query
                }) : "ZERO_RESULTS" === t && (n = {
                    flag: "geocode-error",
                    query: this.query
                });
                if (n) return $.ajax({
                    type: "POST",
                    url: i,
                    data: {
                        search_location: n
                    },
                    dataType: "json",
                    success: this.parseServerResponse.bind(this),
                    error: this.searchError.bind(this)
                })
            }, r.prototype.searchError = function(e) {
                var t;
                return NScout.Scouting.hide(), $("html, body").scrollTop(0), e.length ? t = JST["feature_search/errors"]({
                    flashMessage: e
                }) : t = JST["feature_search/errors"]({
                    flashMessage: "Your search could not be processed."
                }), $(".box-a-flash").append(t)
            }, r.prototype.parseServerResponse = function(e) {
                return "OK" === e.status ? document.location = e.path : this.searchError(e.message)
            }, r.prototype.makeSearch = function() {
                return this.query = this.$input.val(), $("#flash_error").remove(), NScout.Scouting.show(), this.query.length ? this.geocode() : this.searchError("Please specify the neighborhood you would like to match by entering an address or neighborhood name along with city and state or zip above.")
            }, r
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.FeatureHelpText = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#help-text", n.prototype.events = {
                "click .close-button": function() {
                    return this.hide()
                },
                clickoutside: function() {
                    return this.hide()
                }
            }, n.prototype.render = function() {
                return this.$el.html(JST["feature_search/tooltip"]({
                    title: this.title,
                    text: this.helpText
                }))
            }, n.prototype.setFeature = function(e) {
                return this.feature = e, this.helpText = I18n.t("nscout.feature_search.help_text")[e].join("</br></br>")
            }, n.prototype.setText = function(e) {
                return this.helpText = e
            }, n.prototype.setTitle = function(e) {
                return this.title = e
            }, n.prototype.setOffset = function(e) {
                return this.$el.offset({
                    top: e.top + 35,
                    left: e.left - 65
                })
            }, n.prototype.hide = function() {
                return $(".footer").removeClass("taller"), this.$el.hide(), this.$el.offset({
                    top: 0,
                    left: 0
                })
            }, n.prototype.show = function() {
                return this.feature === "special_character" ? $(".footer").addClass("taller") : $(".footer").removeClass("taller"), this.$el.show()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        this.NScout = this.NScout || {}, this.NScout.FeatureSearchSummaryMustHave = {
            update: function() {
                return $("fieldset.lowest").each(function(e) {
                    return function(t, n) {
                        var r;
                        r = $(n).find(".must-have");
                        if (r.length === 0) return;
                        return e._selectableSet(n).filter(e._hasValue).each(function(t, n) {
                            var i, s;
                            return i = $(n).data("feature"), s = e._is_dual_element_feature(i) ? $("span[data-feature=" + $(n).val() + "], span[data-feature=" + i + "]") : $("span[data-feature=" + i + "]"), r.prop("checked") ? s.addClass("must-have") : s.removeClass("must-have")
                        })
                    }
                }(this))
            },
            _selectableSet: function(e) {
                return $(e).find(".feature-body input[value!=0][value!=none]").not(".consider_all").not(".must-have")
            },
            _hasValue: function(e) {
                return $(this).prop("checked") || $(this).filter("input[type=hidden]").length > 0
            },
            _is_dual_element_feature: function(e) {
                return _.include(["time_period", "crime_type", "vacant_housing_type", "income_type"], e)
            }
        }
    }.call(this),
    function() {
        this.NScout = this.NScout || {}, NScout.FeatureSets = {
            cost_features: ["median_home_value", "median_rental_price", "real_estate_taxes"],
            appreciation_features: [
                ["time_period", "home_appreciation_rate"], "rent_trend"
            ],
            crime_features: [
                ["crime_type", "crime_rate"]
            ],
            lifestyle_features: ["lifestyle", "nautical", "walkable", "quiet", "hip", "sophisticates"],
            school_features: ["test_scores", "class_size", "percent_of_children_in_poverty", "percent_of_children_in_private_school"],
            neighborhood_features: ["home_size", "housing_type", "era_built", "special_purpose_housing", "neighborhood_density", "coastal", "lakefront", "farms", "home_ownership_rate", "home_ownership_trend", ["vacant_housing_type", "vacancy_rate"], "vacancy_trend"],
            neighbor_features: ["population", "mix", "rpct_age_0_4", "rpct_5_17", "rpct_18_29", "rpct_30_44", "rpct_45_64", "rankpct_65_up", "single_rpct", "married_rpct", "divorced_rpct", "widowed_rpct", "household_type", "alone_rpct", "samesex_rpct", "rankpct_fam_sort", "single_par_rpct", "residents_moving", "residents_born_out_of_state", "residents_foreign_born", "college_degree", "advanced_degree", "currently_college", "education_trend", "racial_diversity", "r_white", "r_black", "r_amerind", "r_pacific", "r_asian", "r_cambod", "r_chin", "r_kor", "r_filipino", "r_japan", "r_south", "r_viet", "r_other", "r_hispanic", "r_cenam", "r_cuban", "r_domin", "r_mex", "r_pr", "r_souam", "a_african", "a_arab", "a_armenian", "a_austrian", "a_belgian", "a_brazil", "a_british", "a_canadian", "a_croatian", "a_czech", "a_danish", "a_dutch", "a_easteuro", "a_english", "a_finnish", "a_french", "a_fr_can", "a_german", "a_greek", "a_haitian", "a_hungary", "a_iranian", "a_irish", "a_italian", "a_jamaican", "a_lebanese", "a_lithuan", "a_norway", "a_penn_ger", "a_polish", "a_portugal", "a_romanian", "a_russian", "a_scandin", "a_scot_iri", "a_scottish", "a_solvak", "a_spanish", "a_sub_afri", "a_swedish", "a_swiss", "a_ukrain", "a_usa", "a_welsh", "a_westindi", "a_yugoslav", "l_african", "l_arabic", "l_armenian", "l_chinese", "l_english", "l_french", "l_german", "l_greek", "l_guajarat", "l_hebrew", "l_hindi", "l_italian", "l_japanese", "l_korean", "l_monkhmer", "l_amerind", "l_persian", "l_polish", "l_portuge", "l_russian", "l_souasia", "l_spanish", "l_tagalog", "l_urdu", "l_vietnam", "l_yiddish", ["income_type", "income_level"], "income_trend", "unemployment_rate", "rankpct_exc", "srv_rpct", "sup_rpct", "lbr_rpct", "far_rpct", "military", "government", "agriculture", "mining", "construction", "manufacturing", "wholesale", "retail", "transportation", "utilities", "information", "finance", "real_estate", "professional", "management", "administration", "education", "healthcare", "arts", "accommodation", "other", "means_of_transport", "commute_time", "vehicles_per_household"]
        }, this.NScout.FeatureDescriptions = {
            i18n: I18n.t("nscout.feature_search.summary"),
            selectedFeatureDescription: function(e, t) {
                var n, r, i, s;
                r = void 0, i = $.isArray(e) ? (s = e[0], n = e[1], this.i18n[s] && this.i18n[s][t[s]] ? (r = t[s], this.i18n[s][t[s]][t[n]]) : void 0) : this.i18n[e] ? typeof this.i18n[e] == "string" ? t[e] === "1" ? (r = e, this.i18n[e]) : void 0 : (r = e, this.i18n[e][t[e]]) : void 0;
                if (i != null) return "<span data-feature='" + r + "'>" + i + "</span>"
            },
            selectedDescriptions: function(e, t) {
                var n;
                return n = _.map(e, function(e) {
                    return function(n) {
                        return e.selectedFeatureDescription(n, t)
                    }
                }(this)), _.compact(n)
            },
            locationFeatureSummary: function(e) {
                var t, n, r, i, s, o;
                s = e.state, o = e.within, r = e.city, i = e.city_name, t = e.query, n = e.address_bounds;
                if (n && t) return "Within " + n + " mi of " + t;
                if (s && s === "nationwide") return s.charAt(0).toUpperCase() + s.substring(1);
                if (s && o && o === "statewide") return "Statewide search of " + s.toUpperCase();
                if (s && r && o) return "Within " + o + " mi of " + i + ", " + s.toUpperCase()
            },
            costFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.cost_features : void 0, e)
            },
            appreciationFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.appreciation_features : void 0, e)
            },
            crimeFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.crime_features : void 0, e)
            },
            lifestyleSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.lifestyle_features : void 0, e)
            },
            schoolFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.school_features : void 0, e)
            },
            neighborhoodFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.neighborhood_features : void 0, e)
            },
            neighborsFeatureSummary: function(e) {
                var t;
                return this.selectedDescriptions((t = NScout.FeatureSets) != null ? t.neighbor_features : void 0, e)
            }
        }
    }.call(this),
    function() {
        var t = {}.hasOwnProperty,
            n = function(e, n) {
                function i() {
                    this.constructor = e
                }
                for (var r in n) t.call(n, r) && (e[r] = n[r]);
                return i.prototype = n.prototype, e.prototype = new i, e.__super__ = n.prototype, e
            };
        this.NScout = this.NScout || {}, this.NScout.FeatureSearchForm = function(t) {
            function r() {
                return r.__super__.constructor.apply(this, arguments)
            }
            return n(r, t), r.prototype.events = function() {
                return _.extend(r.__super__.events.call(this), {
                    "click #box-search-show": "showSearchInfo",
                    "click #feature-search .advanced .tips": "showSearchTips",
                    "click .collapseable.header": "collapseHeader",
                    "click .toggle-location a.address": "changeToLocationSearch",
                    "click .toggle-location a.city-state": "changeToCitySearch",
                    "click .must-have-control": "updateMustHave",
                    "change input": "update",
                    "change select": "update",
                    "click .reset a": "resetForm",
                    'change input[name="feature_search[time_period]"]': "updateAppreciationSlider",
                    'change input[name="feature_search[crime_type]"]': "updateCrimeSlider",
                    'change input[name="feature_search[income_type]"]': "updateIncomeSlider",
                    'change input[name="feature_search[vacant_housing_type]"]': "updateVacancySlider",
                    'change input[name="feature_search[lifestyle]"]': "updateLifestyleDescription",
                    "click .locked .feature-body": "showSubscribePopup",
                    "click .unlock": "showSubscribePopup",
                    "click .help-button": "showHelpPopup",
                    "change .consider_all": "checkConsiderAll",
                    "change :not(.consider_all)[type=checkbox]": "checkSelection",
                    "mouseover .summary-columns .column .body": "show_full_descriptions"
                })
            }, r.prototype.initialize = function() {
                if (this.$el.length === 0) {
                    this.present = !1;
                    return
                }
                return this.present = !0, this.setupVariables(), r.__super__.initialize.apply(this, arguments), this.setupSliders(), this.setupLockedFields(), this.updateDependentFields(), this.setupGeocoder(), this.triggerPresetValues(), this.openFieldsets()
            }, r.prototype.openFieldsets = function() {
                var e, t, n, r, i, s;
                e = $("body");
                if (!e.hasClass("page-search") || !e.hasClass("page-search-advanced-search")) return;
                i = ["median_home_value", "lifestyle", "special_character"], s = [];
                for (n = 0, r = i.length; n < r; n++) t = i[n], s.push(e.find("fieldset.minor[data-feature=" + t + "]").removeClass("hide"));
                return s
            }, r.prototype.setupVariables = function() {
                return this.form = this.$el, this.horizontalSliders = [], this.verticalSliders = [], this.addressField = this.$('input[name$="[address]"]'), this.latField = this.$('input[name$="[lat]"]'), this.lngField = this.$('input[name$="[lng]"]'), this.queryField = this.$('input[name$="[query]"]'), this.boundsField = this.$('select[name$="[address_bounds]"]'), this.helpTextArea = new NScout.FeatureHelpText, this.dependentFields = this.$(".sub-feature.dependent"), this.summary_area = this.$(".summary-area")
            }, r.prototype.setupSliders = function() {
                var e, t, n, r, i, s, o, u, a, f, l, c;
                c = this.$(".slider-container").not(".slider-container.vertical");
                for (f = 0, l = c.length; f < l; f++) o = c[f], this.horizontalSliders.push(new NScout.Slider(o));
                return t = this.$('[name="feature_search[time_period]"]:checked').prop("value"), e = this.$(".appreciation-rate .slider-container"), this.appreciationSlider = new NScout.AppreciationSlider(e, t), this.verticalSliders.push(this.appreciationSlider), r = this.$('[name="feature_search[crime_type]"]:checked').prop("value"), n = this.$(".crime-index .slider-container"), this.crimeSlider = new NScout.CrimeSlider(n, r), this.verticalSliders.push(this.crimeSlider), s = this.$('[name="feature_search[income_type]"]:checked').prop("value"), i = this.$(".income-level .slider-container"), this.incomeSlider = new NScout.IncomeSlider(i, s), this.verticalSliders.push(this.incomeSlider), a = this.$('[name="feature_search[vacant_housing_type]"]:checked').prop("value"), u = this.$(".vacancy-rate .slider-container"), this.vacancySlider = new NScout.VacancySlider(u, a), this.verticalSliders.push(this.vacancySlider)
            }, r.prototype.setupLockedFields = function() {
                var e, t, n, r, i;
                r = this.$("fieldset.locked"), i = [];
                for (t = 0, n = r.length; t < n; t++) e = r[t], i.push(this.disableFields($(e)));
                return i
            }, r.prototype.setupGeocoder = function() {
                var e;
                try {
                    return this.geocoder = new google.maps.Geocoder, this.$el.submit(function(e) {
                        return function(t) {
                            return t.preventDefault(), e.makeSearch()
                        }
                    }(this))
                } catch (t) {
                    e = t
                }
            }, r.prototype.triggerPresetValues = function() {
                var e, t, n, r, i;
                r = this.getCheckedRadio("fieldset.lifestyle"), r.length === 1 && this.updateLifestyleDescription({
                    currentTarget: r
                }), e = this.getCheckedRadio("div.sub-feature.time-period"), e.length === 1 && this.updateAppreciationSlider({
                    currentTarget: e
                }), t = this.getCheckedRadio("fieldset.crime"), t.length === 1 && this.updateCrimeSlider({
                    currentTarget: t
                }), n = this.getCheckedRadio("div.sub-feature.income-type"), n.length === 1 && this.updateIncomeSlider({
                    currentTarget: n
                }), i = this.getCheckedRadio("div.sub-feature.vacant-housing-type"), i.length === 1 && this.updateVacancySlider({
                    currentTarget: i
                });
                if ($("fieldset.address input[type=text]").val().length > 0) return this.changeLocationFieldset(!0)
            }, r.prototype.getCheckedRadio = function(e) {
                return $(e + " input[type=radio][checked][value!=none]")
            }, r.prototype.setupFields = function() {
                return r.__super__.setupFields.apply(this, arguments), this.update()
            }, r.prototype.render = function() {
                var e;
                return this.formValues || (this.formValues = {}), e = JST["feature_search/summary"]({
                    values: this.formValues
                }), this.summary_area.html(e), $("a.reassure").click(function(e) {
                    return $('a[href*="/users/new"]').last().click()
                })
            }, r.prototype.disableFields = function(e) {
                return e.find("select").attr("disabled", "disabled"), e.find("input").attr("disabled", "disabled"), e.find(".form-slider").slider("disable")
            }, r.prototype.enableFields = function(e) {
                return e.find("select").attr("disabled", !1), e.find("input").attr("disabled", !1), e.find(".form-slider").slider("enable")
            }, r.prototype.changeLocationFieldset = function(e) {
                var t, n, r, i;
                return e == null && (e = !0), r = this.$("fieldset.city-state"), n = this.$(".toggle-location a.address"), t = this.$("fieldset.address"), i = this.$(".toggle-location a.city-state"), e ? (this.disableAndHide(r, n), this.enableAndShow(t, i)) : (this.disableAndHide(t, i), this.enableAndShow(r, n)), this.update()
            }, r.prototype.disableAndHide = function(e, t) {
                return e.hide(), t.hide(), this.disableFields(e)
            }, r.prototype.enableAndShow = function(e, t) {
                return e.show(), t.show(), this.enableFields(e)
            }, r.prototype.setAddress = function() {
                return this.geocode(this.queryField.val())
            }, r.prototype.geocode = function(e) {
                if (e != null ? !e.length : !void 0) return;
                return this.geocoder.geocode({
                    language: "en",
                    address: e
                }, this.parseGeocode.bind(this))
            }, r.prototype.parseGeocode = function(e, t) {
                var n, r, i, s;
                return "OK" === t ? (s = e[0], r = s.geometry.location.lat(), i = s.geometry.location.lng(), n = s.formattedAddress, this.in_usa(s) ? (this.addressField.val(n), this.latField.val(r), this.lngField.val(i), this.submitForm(this.form)) : this.searchError("Sorry, that address doesn't appear to be within the US.")) : this.searchError("Unable to geocode this address.")
            }, r.prototype.in_usa = function(e) {
                return e.formatted_address.match(/USA/)
            }, r.prototype.makeSearch = function() {
                var e;
                return e = this.queryField.val(), !this.queryField.is(":disabled") && e.length && this.boundsField.val().length ? this.geocode(e) : this.submitForm(this.form)
            }, r.prototype.submitForm = function() {
                var e, t;
                return e = this.$el.serialize(), t = this.$el.attr("action"), $("#flash_error").remove(), NScout.Scouting.show(), $.ajax({
                    url: t,
                    type: "POST",
                    data: e,
                    dataType: "json",
                    success: this.handleSubmitForm.bind(this),
                    error: this.searchError.bind(this)
                })
            }, r.prototype.handleSubmitForm = function(e) {
                return "OK" === e.status ? window.location = e.path : this.searchError(e.message)
            }, r.prototype.update = function() {
                return this.updateDependentFields(), this.updateValues(), this.updateSummary(), this.updateSummaryMustHaves()
            }, r.prototype.updateValues = function() {
                var e, t, n, r, i, s, o;
                e = this.$el.serializeArray(), this.formValues = {};
                for (s = 0, o = e.length; s < o; s++) n = e[s], r = n.name.match(/feature_search\[(.*)\]/), r && (i = r[1], this.formValues[i] = n.value);
                return t = this.cityField.find('option[value="' + this.formValues.city + '"]').text(), this.formValues.city_name = t
            }, r.prototype.updateDependentFields = function() {
                var e, t, n, r, i, s, o;
                this.updateValues(), s = this.dependentFields, o = [];
                for (r = 0, i = s.length; r < i; r++) e = s[r], t = $(e).data("depends-on"), n = this.formValues[t], n != null && n !== "none" ? (this.enableFields($(e)), o.push($(e).removeClass("disabled"))) : (this.disableFields($(e)), o.push($(e).addClass("disabled")));
                return o
            }, r.prototype.updateSummary = function() {
                return this.render()
            }, r.prototype.updateVerticalSlider = function(e, t, n) {
                var r, i, s, o;
                s = e.parent(), r = s[0].className.replace("fe", "").replace("radio", "").replace(/\s+/g, ""), o = e.closest(".feature-body").find(".slider-bracket"), o.replaceWith("<div class='slider-bracket " + r + "'></div>"), r === "not-important" ? ($("" + t + " .form-slider").slider("disable"), $(".sub-feature" + t).addClass("disabled")) : ($("" + t + " .form-slider").slider("enable"), $(".sub-feature" + t).removeClass("disabled")), i = e.prop("value"), n.userChoiceFor(i);
                if (i === "none") return n.reset()
            }, r.prototype.updateAppreciationSlider = function(e) {
                return this.updateVerticalSlider($(e.currentTarget), ".appreciation-rate", this.appreciationSlider)
            }, r.prototype.updateCrimeSlider = function(e) {
                return this.updateVerticalSlider($(e.currentTarget), ".crime-index", this.crimeSlider)
            }, r.prototype.updateIncomeSlider = function(e) {
                return this.updateVerticalSlider($(e.currentTarget), ".income-level", this.incomeSlider)
            }, r.prototype.updateVacancySlider = function(e) {
                return this.updateVerticalSlider($(e.currentTarget), ".vacancy-rate", this.vacancySlider)
            }, r.prototype.updateLifestyleDescription = function(e) {
                var t, n, r, i, s, o, u, a;
                return a = $(e.currentTarget), u = a.parent(), r = u[0].className.replace("fe", "").replace("radio", ""), i = I18n.translations.en.nscout.feature_search.variant.lifestyle.description, n = a.val(), o = i[n], t = $(".lifestyle-description"), s = $('<div class="lifestyle-description"></div>'), s.replaceAll(t).addClass(r).text(o)
            }, r.prototype.updateMustHave = function(e) {
                var t, n;
                return n = $(e.currentTarget).find('input[type="checkbox"]'), t = $(e.currentTarget).find(".must-have-button"), n.prop("checked") ? (n.prop("checked", !1), t.removeClass("selected")) : (n.prop("checked", !0), t.addClass("selected")), e.stopPropagation(), this.updateSummaryMustHaves()
            }, r.prototype.updateSummaryMustHaves = function() {
                return NScout.FeatureSearchSummaryMustHave.update()
            }, r.prototype.collapseHeader = function(e) {
                var t, n;
                return t = $(e.currentTarget).data("feature"), n = this.$("fieldset[data-feature=" + t + "]"), n.toggleClass("hide")
            }, r.prototype.changeToLocationSearch = function() {
                return this.changeLocationFieldset(!0)
            }, r.prototype.changeToCitySearch = function() {
                return this.changeLocationFieldset(!1)
            }, r.prototype.resetSliders = function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h;
                c = this.horizontalSliders;
                for (s = 0, a = c.length; s < a; s++) t = c[s], t.reset();
                h = this.verticalSliders;
                for (o = 0, f = h.length; o < f; o++) t = h[o], t.userChoiceFor("none"), t.reset();
                i = $(".slider-container.vertical").parents(".sub-feature");
                for (u = 0, l = i.length; u < l; u++) r = i[u], e = r.getAttribute("class"), e.indexOf("disabled") === -1 && r.setAttribute("class", "" + e + " disabled");
                return n = $(".slider-container.vertical").parents(".sub-feature").siblings(".slider-bracket"), n.replaceWith('<div class="slider-bracket not-important"></div>'), $(".slider-container.vertical .form-slider").slider("disable")
            }, r.prototype.resetForm = function() {
                return this.resetLocationSelectFields(), this.$('.must-have-control input[type="checkbox"]').prop("checked", !1), this.$(".must-have-control .must-have-button").removeClass("selected"), this.resetSliders(), this.$el[0].reset(), this.update()
            }, r.prototype.showSearchInfo = function() {
                return e.preventDefault(), this.$("#feature-search-info").show()
            }, r.prototype.showSearchTips = function() {
                return this.advancedInfo.show()
            }, r.prototype.showSubscribePopup = function(e) {
                return NScout.SubscribePopup.show(), e.stopPropagation()
            }, r.prototype.showHelpPopup = function(e) {
                var t, n, r, i;
                return r = $(e.currentTarget), t = r.data("feature"), n = r.offset(), i = this.$('fieldset[data-feature="' + t + '"] > .header h5').text(), this.helpTextArea.setFeature(t), this.helpTextArea.setTitle(i), this.helpTextArea.render(), this.helpTextArea.show(), this.helpTextArea.setOffset(n), e.stopPropagation()
            }, r.prototype.show_full_descriptions = function(e) {
                var t, n;
                return n = $(e.currentTarget).closest(".column"), t = new NScout.SummaryToolTip, t.setAttachmentPoint(n), t.render(), e.stopPropagation()
            }, r.prototype.checkConsiderAll = function(e) {
                var t;
                if ($(e.currentTarget).prop("checked")) return t = $(e.currentTarget).closest(".feature-body"), t.find("input").not(".consider_all").prop("checked", !1), this.update()
            }, r.prototype.checkSelection = function(e) {
                var t;
                t = $(e.currentTarget).closest(".feature-body"), $(e.currentTarget).prop("checked") && (t.find(".consider_all").prop("checked", !1), t.hasClass("race_ethnic") && (this.checkSubgroup(e, "feature_search_r_asian", "r_asian"), this.checkSubgroup(e, "feature_search_r_hispanic", "r_hispanic")), t.hasClass("age") && this.checkAge(e));
                if (!t.find("input:checked").length) return t.find(".consider_all").prop("checked", !0)
            }, r.prototype.checkAge = function(e) {
                return $(e.currentTarget)[0].id === "feature_search_mix" ? $(".feature-body.age").find("input").not("#feature_search_mix").prop("checked", !1) : $("input#feature_search_mix").prop("checked", !1), this.update()
            }, r.prototype.checkSubgroup = function(e, t, n) {
                return $(e.currentTarget)[0].id === t ? $(".subgroup." + n).find("input").prop("checked", !1) : $("input#" + t).prop("checked", !1), this.update()
            }, r
        }(this.NScout.SearchForm)
    }.call(this),
    function() {
        var e = function(e, t) {
                return function() {
                    return e.apply(t, arguments)
                }
            },
            t = {}.hasOwnProperty,
            n = function(e, n) {
                function i() {
                    this.constructor = e
                }
                for (var r in n) t.call(n, r) && (e[r] = n[r]);
                return i.prototype = n.prototype, e.prototype = new i, e.__super__ = n.prototype, e
            };
        this.NScout = this.NScout || {}, this.NScout.MatchSearchForm = function(t) {
            function r() {
                return this.parseServerResponse = e(this.parseServerResponse, this), r.__super__.constructor.apply(this, arguments)
            }
            return n(r, t), r.prototype.accuracy = {
                nhood: ["street_address", "sublocality", "administrative_area_level_3", "neighborhood", "premise", "subpremise"],
                city: ["locality", "administrative_area_level_2"],
                zip: ["postal_code"]
            }, r.prototype.initialize = function() {
                var e;
                if (this.$el.length === 0) {
                    this.present = !1;
                    return
                }
                this.present = !0, this.form = this.$el, r.__super__.initialize.apply(this, arguments), this.input = this.$("input[name*=address]");
                try {
                    return this.geocoder = new google.maps.Geocoder, this.$el.submit(this.makeSearch.bind(this))
                } catch (t) {
                    e = t
                }
            }, r.prototype.geocode = function() {
                var e;
                if ((e = this.query) != null ? !e.length : !void 0) return;
                return this.geocoder.geocode({
                    language: "en",
                    address: this.query
                }, this.parseGeocode.bind(this))
            }, r.prototype.parseGeocode = function(e, t) {
                var n, r, i;
                return i = this.form.attr("action"), "OK" === t ? (r = e[0], n = {
                    flag: "geocode-success",
                    lat: r.geometry.location.lat(),
                    lng: r.geometry.location.lng(),
                    components: JSON.stringify(r.address_components),
                    types: r.types,
                    address: r.formatted_address,
                    query: this.query,
                    city: this.$("#matching_search_city").val(),
                    within: this.$("#matching_search_within").val(),
                    state: this.$("#matching_search_state").val()
                }) : "ZERO_RESULTS" === t && (n = {
                    flag: "geocode-error",
                    query: this.query,
                    city: this.$("#matching_search_city").val(),
                    within: this.$("#matching_search_within").val(),
                    state: this.$("#matching_search_state").val()
                }), n ? $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: {
                        matching_search: n
                    },
                    url: i,
                    success: this.parseServerResponse.bind(this),
                    error: this.searchError.bind(this)
                }) : this.searchError("ERROR: " + t)
            }, r.prototype.parseServerResponse = function(e) {
                return "OK" === e.status ? document.location = e.path : this.searchError(e.message)
            }, r.prototype.tryDifferentCity = function(e) {
                return this.$("#matching_search_address").val(e), this.form.submit
            }, r.prototype.setNhoodId = function(e) {
                var t;
                return $("#flash_error").remove(), NScout.Scouting.show(), t = {
                    matching_search: {
                        neighborhood_id: e,
                        query: this.input.val(),
                        city: this.$("#matching_search_city").val(),
                        within: this.$("#matching_search_within").val(),
                        state: this.$("#matching_search_state").val()
                    }
                }, $.post(this.$el.attr("action"), t, this.parseServerResponse, "json")
            }, r.prototype.makeSearch = function(e) {
                return e.preventDefault(), this.query = this.input.val(), $("#flash_error").remove(), NScout.Scouting.show(), this.query.length ? this.geocode() : this.searchError("Please specify the neighborhood you would like to match by entering an address or neighborhood name along with city and state or zip above.")
            }, r
        }(this.NScout.SearchForm)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SearchSummary = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".result-columns", n.prototype.animation_duration = 2e3, n.prototype.animation_delay = 300, n.prototype.events = function() {
                return {
                    "click .column.revisable": "openReviseForm",
                    "click .close-button": "closeReviseForm",
                    clickoutside: "closeReviseForm"
                }
            }, n.prototype.initialize = function() {
                return _.delay(this.growBars, this.animation_delay, this.animation_duration), this.preopenSelectedFeatures(), this.installTooltips()
            }, n.prototype.installTooltips = function() {
                return $(".revisable .plus").each(function(e, t) {
                    var n;
                    return n = $(t).next(".full_description").html(), $(t).qtip({
                        content: n,
                        position: {
                            corner: {
                                tooltip: "topMiddle"
                            }
                        }
                    })
                })
            }, n.prototype.preopenSelectedFeatures = function() {
                return $(".full_description span[data-feature]").each(function(e, t) {
                    var n;
                    return n = $(t).data("feature"), $("fieldset[data-feature=" + n + "],input[data-feature=" + n + "]").closest(".hide").toggleClass("hide")
                })
            }, n.prototype.openReviseForm = function(e) {
                return this.$el.find(".focused").removeClass("focused"), $(e.currentTarget).addClass("focused")
            }, n.prototype.closeReviseForm = function(e) {
                if (!$(e.target).is(".faq")) return this.$el.find(".focused").removeClass("focused")
            }, n.prototype.growBars = function(e) {
                return $(".internal_bar").each(function(t) {
                    var n, r;
                    return n = $(this), r = n.data("width"), n.animate({
                        width: r
                    }, e)
                })
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SummaryToolTip = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.tagName = "div", n.prototype.className = "tooltip summary", n.prototype.events = {
                "click .close-button": "hide",
                clickoutside: "hide"
            }, n.prototype.setAttachmentPoint = function(e) {
                return this.target = e, this.text = e.find(".full_description").html(), this.title = e.find(".head").html()
            }, n.prototype.render = function() {
                if (!this.text) return;
                return $(".tooltip").trigger("clickoutside"), this.$el.html(JST["feature_search/tooltip"]({
                    title: this.title,
                    text: this.text
                })), this.target.prepend(this.$el), this.$el.show()
            }, n.prototype.hide = function() {
                return this.$el.hide(), this.$el.html(""), this.remove()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodTabs = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.removeHelpText = function() {
                return $("body .help-text").remove()
            }, n.prototype.removeHelpTooltip = function(e) {
                return this.removeHelpText(), e.stopPropagation()
            }, n.prototype.toggle_collapse = function(e) {
                return $(e.currentTarget).find(".toggle-hidden").toggleClass("hide"), $(e.currentTarget).parent().find(".subsection-content").toggleClass("hide")
            }, n.prototype.showHelpTooltip = function(e) {
                var t, n;
                return this.removeHelpText(), n = $(e.currentTarget), t = JST["" + this.template + "/" + n.data().feature], n.parent().append(t), n.siblings(".help-text").show(), e.stopPropagation()
            }, n.prototype.sendToSubscribePage = function(e) {
                return location.href = "/subscribe", e.stopPropagation()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.CitySchools = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".page-cities-schools .tab-school-districts", n.prototype.template = "neighborhood/schools", n.prototype.events = function() {
                return {
                    "click .box-c-rates-widget .help-button": this.showHelpTooltip,
                    "click .help-text .close-button.faq": this.removeHelpTooltip,
                    clickoutside: this.removeHelpTooltip
                }
            }, n.prototype.removeHelpText = function() {
                return this.$el.find(".help-text").remove()
            }, n
        }(this.NScout.NeighborhoodTabs)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodDemographics = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#content-demographics", n.prototype.template = "neighborhood/demographics", n.prototype.events = function() {
                return {
                    "click .unlock": this.sendToSubscribePage,
                    "click .subsection-header": this.toggle_collapse,
                    "click img.locked": this.sendToSubscribePage,
                    "click .subsection-header .help-button": this.showHelpTooltip,
                    "click .help-text .close-button.faq": this.removeHelpTooltip,
                    clickoutside: this.removeHelpTooltip
                }
            }, n
        }(this.NScout.NeighborhoodTabs)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodRealEstate = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#content-real-estate", n.prototype.template = "neighborhood/real_estate", n.prototype.events = function() {
                return {
                    "click .unlock": this.sendToSubscribePage,
                    "click .subsection-header": this.toggle_collapse,
                    "click img.locked": this.sendToSubscribePage,
                    "click .subsection-header .help-button": this.showHelpTooltip,
                    "click .help-text .close-button.faq": this.removeHelpTooltip,
                    clickoutside: this.removeHelpTooltip
                }
            }, n.prototype.showHelpTooltip = function(e) {
                var t, n, r;
                return this.removeHelpText(), r = $(e.currentTarget), t = JST["" + this.template + "/" + r.data().feature], r.parent().append(t), r.data().feature === "appreciation_rate" && (n = r.position().left - 28, $("#unified-appreciation .help-text .arrow").css("left", n)), r.siblings(".help-text").show(), e.stopPropagation()
            }, n
        }(this.NScout.NeighborhoodTabs)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodSchools = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#content-schools", n.prototype.template = "neighborhood/schools", n.prototype.events = function() {
                return {
                    "click .unlock": this.sendToSubscribePage,
                    "click img.locked": this.sendToSubscribePage,
                    "click .help-button": this.showHelpTooltip,
                    "click .help-text .close-button.faq": this.removeHelpTooltip,
                    clickoutside: this.removeHelpTooltip
                }
            }, n
        }(this.NScout.NeighborhoodTabs)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodHeader = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.template = "neighborhood/faq", n.prototype.events = function() {
                return {
                    "click .help-button": this.showHelpTooltip,
                    "click .help-text .close-button.faq": this.removeHelpTooltip,
                    clickoutside: this.removeHelpTooltip
                }
            }, n.prototype.header = function() {
                return $(this.el)
            }, n.prototype.helpButton = function() {
                return this.header().find(".help-button")
            }, n.prototype.showHelpTooltip = function(e) {
                var t;
                return this.removeHelpText(), t = this.helpButton(), t.parent().append(JST["" + this.template]), this.positionArrow(t), t.siblings(".help-text").show(), $("html, body").animate({
                    scrollTop: 0
                }, "2000", "swing"), e.stopPropagation()
            }, n.prototype.positionArrow = function(e) {
                var t, n, r;
                return n = 0, t = 444, r = e.position().left - this.positionOffset(), r = Math.max.apply(null, [n, r]), r = Math.min.apply(null, [t, r]), this.header().find(".arrow").css("left", r)
            }, n.prototype.positionOffset = function() {
                return 0
            }, n
        }(this.NScout.NeighborhoodTabs)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            }; - (this.NScout = this.NScout || {}), this.NScout.NeighborhoodFooter = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".box-c-neighborhood-bottom", n.prototype.bookmarking = function() {
                return $("header.quaternary").size() !== 0
            }, n.prototype.header = function() {
                return this.bookmarking() ? $("header.quaternary") : $(".nhood_header .nhood_data")
            }, n.prototype.positionOffset = function() {
                return this.bookmarking ? 248 : $("body").hasClass("search-result") ? 47 : 247
            }, n
        }(this.NScout.NeighborhoodHeader)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            }; - (this.NScout = this.NScout || {}), this.NScout.NeighborhoodOriginalHeader = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".nhood_header .nhood_data", n.prototype.positionOffset = function() {
                return $("body").hasClass("search-result") ? 47 : 247
            }, n
        }(this.NScout.NeighborhoodHeader)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            }; - (this.NScout = this.NScout || {}), this.NScout.NeighborhoodQuaternaryHeader = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "header.quaternary", n.prototype.positionOffset = function() {
                return 248
            }, n
        }(this.NScout.NeighborhoodHeader)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.NeighborhoodTabset = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".tab-set", n.prototype.events = function() {
                return {
                    "click .ui-tabs-anchor": this.checkActive
                }
            }, n.prototype.checkActive = function() {
                if ($("#content-overview").is(":hidden")) return $("#location-tooltip.infoTooltip").css("display", "none")
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.Announcement = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.announcementName = "advanced_search_announcement", n.prototype.attachmentPointCSS = ".search-form p.advanced-text", n.prototype.id = "announcement", n.prototype.events = {
                "click .dismiss": "dismiss",
                "click .join": "join"
            }, n.prototype.attachmentPoint = function() {
                return this.attachment_point_value || (this.attachment_point_value = $(this.attachmentPointCSS))
            }, n.prototype.announcementTopPositioning = function() {
                var e, t, n;
                return n = this.attachmentPoint().position().top, t = this.attachmentPoint().height(), e = 15, n + t + e + "px"
            }, n.prototype.announcementLeftPositioning = function() {
                var e, t, n, r;
                return n = this.attachmentPoint().position().left, r = this.attachmentPoint().width() / 2, t = 30, e = this.$el.width(), n + r + t - e + "px"
            }, n.prototype.hasAttachmentPoint = function() {
                return this.attachmentPoint().length > 0
            }, n.prototype.render = function() {
                return this.$el.html(JST[this.announcementName]), this.attachmentPoint().append(this.$el), this.$el.css({
                    top: this.announcementTopPositioning(),
                    left: this.announcementLeftPositioning()
                }).delay(2e3).fadeIn()
            }, n.prototype.initialize = function() {
                this.loggedIn = $("body").data("logged-in");
                if (this.canShow()) return this.render()
            }, n.prototype.canShow = function() {
                return this.hasAttachmentPoint() && this.noCookie()
            }, n.prototype.noCookie = function() {
                return $.cookie(this.announcementName) !== "true"
            }, n.prototype.dismiss = function(e) {
                $.cookie(this.announcementName, "true", {
                    path: "/"
                }), this.$el.fadeOut();
                if (!this.loggedIn) return e.preventDefault()
            }, n.prototype.cookieExpirationDate = function() {
                var e, t, n;
                return e = new Date, n = e.getFullYear(), t = n + 1, e.setFullYear(t)
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.LockedWidgets = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".box-c-rates-widget.locked", n.prototype.events = function() {
                return {
                    "click .item": this.sendToSubscribePage
                }
            }, n.prototype.sendToSubscribePage = function() {
                return location.href = "/subscribe"
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.LockedSchoolRating = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "#school-rating", n.prototype.events = function() {
                return {
                    "click .content.locked": this.sendToSubscribePage
                }
            }, n.prototype.sendToSubscribePage = function() {
                return location.href = "/subscribe"
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.HomeListingPartnerWidget = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "section.home_listing_partner_widget", n.prototype.events = function() {
                return {
                    click: "submit"
                }
            }, n.prototype.initialize = function() {
                if (this.$el.length > 0 && this.$el.html().length > 0) return this.render()
            }, n.prototype.render = function() {
                return this.$el.find(".ziprealty-link a").attr("href", this.href())
            }, n.prototype.href = function() {
                var e;
                e = $("a[data-partner-component=true]");
                if (e.attr("no-href") !== void 0) return NScout.NoHrefLinks.decrypt_path(e.attr("no-href")).replace("green_link", "home_listing_partner_minimal_widget")
            }, n.prototype.submit = function(e) {
                return this.$el.find("form").submit()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SecondaryNav = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.events = {
                "click li.buy-sell > a": "_toggleBuySellTooltip",
                "click li.places > a": "_togglePlacesTooltip",
                "click li.searches > a": "_toggleSearchesTooltip"
            }, n.prototype.initialize = function() {
                if (!$("nav#my-stuff").length) return;
                return this.setElement($("nav#my-stuff")), this.body = $("body"), this._setAttributes(), this._initBuySellTooltip(), this._initPlacesTooltip(), this._initSearchesTooltip()
            }, n.prototype._setAttributes = function() {
                return this.savedSearchCount = $("li.searches .saved-search-count")[0].innerHTML, this.savedSearchPreview = $("li.searches").data("preview"), this.savedPlaceCount = $("li.places .saved-place-count")[0].innerHTML, this.savedPlacePreview = $("li.places").data("preview"), this.loggedIn = this.body.data("logged-in"), this.showRealEstate = this.body.hasClass("show_real_estate")
            }, n.prototype._initBuySellTooltip = function() {
                var e;
                if ($("li.buy-sell a").length === 0) return;
                return this.buySellTooltip = new NScout.BuySellTooltip, e = $("li.buy-sell a")[0].href, this.buySellTooltip.template = JST["tooltips/buy_sell"]({
                    href: e
                }), this.buySellTooltip.render()
            }, n.prototype._initPlacesTooltip = function() {
                return this.placesTooltip = new NScout.PlacesTooltip, this.loggedIn ? this.placesTooltip.template = JST["tooltips/preview"]({
                    count: this.savedPlaceCount,
                    thing: "Places",
                    items: this.savedPlacePreview,
                    path: "my-places"
                }) : this.placesTooltip.template = JST["tooltips/discover"]({
                    thing: "Places",
                    description: this.savedPlacePreview
                }), this.placesTooltip.render()
            }, n.prototype._initSearchesTooltip = function() {
                return this.searchesTooltip = new NScout.SearchesTooltip, this.loggedIn ? this.searchesTooltip.template = JST["tooltips/preview"]({
                    count: this.savedSearchCount,
                    thing: "Searches",
                    items: this.savedSearchPreview,
                    path: "my-searches"
                }) : this.searchesTooltip.template = JST["tooltips/discover"]({
                    thing: "Searches",
                    description: this.savedSearchPreview
                }), this.searchesTooltip.render()
            }, n.prototype._toggleBuySellTooltip = function(e) {
                return e.preventDefault(), this.buySellTooltip.show(), e.stopPropagation()
            }, n.prototype._togglePlacesTooltip = function(e) {
                return e.preventDefault(), this.placesTooltip.show(), e.stopPropagation()
            }, n.prototype._toggleSearchesTooltip = function(e) {
                return e.preventDefault(), this.searchesTooltip.show(), e.stopPropagation()
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SecondaryNavTooltip = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.className = "secondary-tooltips", n.prototype.events = {
                "click .close-button": "hide",
                clickoutside: "hide",
                "click a.join-now": "_joinNow"
            }, n.prototype.render = function() {
                return this.$el.html(this.template), $(this.attachmentPoint).append(this.$el), this.hide()
            }, n.prototype.hide = function(e) {
                this.$el.hide();
                if (e) return e.stopPropagation()
            }, n.prototype.show = function() {
                return $("." + this.className).hide(), this.$el.show()
            }, n.prototype._joinNow = function(e) {
                return $("." + this.className).hide(), e.stopPropagation(), e.preventDefault(), NScout.SignUpSource.set("Secondary Navigation Tooltip"), $('a[href*="/users/new"]').last().click()
            }, n
        }(Backbone.View), this.NScout.BuySellTooltip = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "buy-sell-tooltip", n.prototype.attachmentPoint = "nav#my-stuff li.buy-sell", n
        }(this.NScout.SecondaryNavTooltip), this.NScout.PlacesTooltip = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "places-tooltip", n.prototype.attachmentPoint = "nav#my-stuff li.places", n
        }(this.NScout.SecondaryNavTooltip), this.NScout.SearchesTooltip = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.id = "searches-tooltip", n.prototype.attachmentPoint = "nav#my-stuff li.searches", n
        }(this.NScout.SecondaryNavTooltip)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.QuaternaryHeader = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "header.quaternary", n.prototype.upgradeToSavePrompt = _.memoize(function() {
                return new NScout.UpgradeToSavePrompt
            }), n.prototype.initialize = function() {
                this.saveButton = this.$el.find("a.save-item"), this.savedItemLimitReached = this.saveButton.data("savedItemLimitReached");
                if (!$("body").data("logged-in")) return this.saveButton.click(function() {
                    return NScout.SignUpSource.set("Try to save")
                });
                if (this.savedItemLimitReached) return this.saveButton.click(function(e) {
                    return function() {
                        return e.upgradeToSavePrompt().show()
                    }
                }(this))
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.MyAccount = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".user-account", n.prototype.events = function() {
                return {
                    "click #cancel-plan": "openCancelWarnPrompt",
                    "click #show-update-billing-information-form": "showBillingForm",
                    "click #show-update-password-form": "showPasswordForm",
                    "click section .close-button": "hideFormWithButton"
                }
            }, n.prototype.openCancelWarnPrompt = function(e) {
                var t, n, r, i, s;
                return r = $(e.currentTarget).data(), i = r.expiry, s = r.path, t = r.bookmarking, n = new NScout.CancelWarnPrompt({
                    config: {
                        expiry: i,
                        path: s,
                        bookmarking: t
                    }
                }), n.show(), e.stopPropagation()
            }, n.prototype.showBillingForm = function() {
                return this.hideForm($("#update-password")), this.showForm($("#update-billing-information"))
            }, n.prototype.showPasswordForm = function() {
                return this.hideForm($("#update-billing-information")), this.showForm($("#update-password"))
            }, n.prototype.hideFormWithButton = function(e) {
                return this.hideForm($(e.currentTarget).closest("section")), $("html, body").animate({
                    scrollTop: $(this.el).offset().top
                }, "slow"), !1
            }, n.prototype.showForm = function(e) {
                return e.slideDown("slow"), $("html, body").animate({
                    scrollTop: e.offset().top
                }, "slow"), !1
            }, n.prototype.hideForm = function(e) {
                return e.slideUp("slow")
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.SavedItem = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = "li.saved-item", n.prototype.events = function() {
                return {
                    "click a.cancel": this.hideForm,
                    "click a.icons-saved-item-edit": this.showForm,
                    "click a.delete": this.removeSavedItem
                }
            }, n.prototype.initialize = function() {
                var e;
                return e = this.$el.find("form"), e.on("ajax:success", function(e) {
                    return function(t, n, r, i) {
                        return e.successHandler(t, n)
                    }
                }(this)).on("ajax:error", function(e) {
                    return function(t, n, r, i) {
                        return e.errorHandler(t, n)
                    }
                }(this))
            }, n.prototype.successHandler = function(e, t) {
                var n;
                return n = e.currentTarget.parentNode, $(e.currentTarget).slideUp("slow", function(e) {
                    return function() {
                        return $(n).find("b.name a").text(t.name), $(n).find("span.note").text(t.notes), e.showSuccess(n, t), e.removeErrors()
                    }
                }(this))
            }, n.prototype.showSuccess = function(e, t) {
                var n;
                return n = $(e).find("section .actions"), n.prepend("<div class='success'>" + t.notice + "</div>"), $(".success").fadeOut(4e3, function() {
                    return $(".success").remove()
                })
            }, n.prototype.removeErrors = function() {
                return $("div.error").remove(), $("input.error").removeClass("error")
            }, n.prototype.errorHandler = function(e, t) {
                var n, r;
                return this.removeErrors(), r = $(e.currentTarget).find("#saved_item_name_input"), n = JSON.parse(t.responseText).name, r.find("#saved_item_name").addClass("error"), r.append("<div class='error'>" + n + "</div>")
            }, n.prototype.hideForm = function(e) {
                return $(e.currentTarget).offsetParent().slideUp()
            }, n.prototype.showForm = function(e) {
                return $(e.currentTarget).offsetParent().find("form").slideDown()
            }, n.prototype.removeSavedItem = function(e) {
                return $(e.currentTarget).on("ajax:success", function(e) {
                    return function(t, n, r, i) {
                        var s;
                        return s = $(t.currentTarget).offsetParent(), s.slideUp("slow", function() {
                            s.remove(), $("body").hasClass("page-saved-items-my-places") && e.updateSavedItemCount("place", n);
                            if ($("body").hasClass("page-saved-items-my-searches")) return e.updateSavedItemCount("search", n)
                        })
                    }
                }(this))
            }, n.prototype.updateSavedItemCount = function(e, t) {
                var n, r;
                return r = t.saved_item_count, n = this.capitalize(e), r !== 1 && (n = this.pluralize(n)), $(".saved-" + e + "-count").text(r), $(".saved-item-type").text(n)
            }, n.prototype.capitalize = function(e) {
                return e.charAt(0).toUpperCase() + e.slice(1)
            }, n.prototype.pluralize = function(e) {
                return e === "Search" && (e += "e"), e += "s"
            }, n
        }(Backbone.View)
    }.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.ShareEmails = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.el = ".share-emails", n.prototype.events = function() {
                return {
                    "click a.send-email": "showPrompt"
                }
            }, n.prototype.initialize = function(e) {
                return this.loggedIn = $("body").data("logged-in"), this.loggedIn ? this.shareEmailPrompt = new NScout.ShareEmailPrompt : $("a.send-email").attr("href", "/users/new").attr("data-join-reason", "to send to a friend")
            }, n.prototype.showPrompt = function() {
                return this.loggedIn ? this.shareEmailPrompt.show() : NScout.SignUpSource.set("Send-to-a-friend Email")
            }, n
        }(Backbone.View)
    }.call(this),
    function(e, t) {
        function F(e) {
            return ~~(f + l * e / c)
        }

        function I(e) {
            return ~~(f - l * Math.log((1 + Math.sin(e / c)) / (1 - Math.sin(e / c))) / 2)
        }

        function q(e) {
            return c * (e - f) / l
        }

        function R(e) {
            return c * (Math.PI / 2 - 2 * Math.atan(Math.exp((e - f) / l)))
        }

        function U(e) {
            var t, n, r, i, s, o, u, a, f, l;
            s = 0, o = 0, a = [], f = [];
            for (t = 0; e[t]; t++) u = e[t].x, s = u - s, l = Math.abs(s).toString(2).replace(/0*1?/, ""), a[t] = s ? ("00000" + (l.length + 1).toString(2) + -(s >> 31)).slice(-6) + l : "00000", s = u;
            a[t] = "11111";
            for (t = 0; e[t]; t++) u = e[t].y, o = u - o, l = Math.abs(o).toString(2).replace(/0*1?/, ""), f[t] = o ? ("00000" + (l.length + 1).toString(2) + -(o >> 31)).slice(-6) + l : "00000", o = u;
            f[t] = "11111", s = a.join(""), o = f.join(""), a = [], f = [];
            for (t = 0, n = 0; s.charAt(n + 5); t += 1, n += 6) a[t] = h[s.slice(n, n + 6)];
            for (t = 0, n = 0; o.charAt(n + 5); t += 1, n += 6) f[t] = h[o.slice(n, n + 6)];
            return {
                x: a.join(""),
                y: f.join("")
            }
        }

        function z(e) {
            var t, n, r, i, s, o, u, a, f, l;
            s = e.x, o = e.y, a = [], f = [];
            for (t = 0; s.charAt(t); t++) a[t] = h[s.charAt(t)];
            for (t = 0; o.charAt(t); t++) f[t] = h[o.charAt(t)];
            s = a.join(""), o = f.join(""), a = [], f = [], u = 0;
            for (t = 0, n = 0; s.charAt(n + 4); t++, n++) {
                r = n + 5, i = parseInt(s.slice(n, r), 2), n = r - 1 + i, l = 1 << i >> 1;
                if (i >> 1 << 1) {
                    if (!s.charAt(n)) break;
                    l += parseInt(s.slice(r + 1, n + 1), 2)
                }
                if (l) {
                    if (!s.charAt(r)) break;
                    l = [l - 0, 0 - l][s.charAt(r) - 0]
                }
                u += l, a[t] = u
            }
            u = 0;
            for (t = 0, n = 0; o.charAt(n + 4); t++, n++) {
                r = n + 5, i = parseInt(o.slice(n, r), 2), n = r - 1 + i, l = 1 << i >> 1;
                if (i >> 1 << 1) {
                    if (!o.charAt(n)) break;
                    l += parseInt(o.slice(r + 1, n + 1), 2)
                }
                if (l) {
                    if (!o.charAt(r)) break;
                    l = [l - 0, 0 - l][o.charAt(r) - 0]
                }
                u += l, f[t] = u
            }
            return {
                x: a,
                y: f
            }
        }

        function W(e, t) {
            e = window.event ? window.event.srcElement : e.target, e.file && e.call && e.call._.U(e.file, t)
        }

        function X(e, t) {
            e = window.event ? window.event.srcElement : e.target, e.file && e.call && e.call._.V(e.file, t)
        }

        function V(e) {
            W(e, 0)
        }

        function $(e) {
            W(e, 1)
        }

        function J(e) {
            X(e, 0)
        }

        function K(e) {
            X(e, 1)
        }

        function Q(e, t) {
            this._._ = e
        }

        function G(e, t) {
            return typeof e == "object"
        }

        function Y(e, t) {
            return t ? document.createElementNS(e, t) : document.createElement(e)
        }

        function Z(e, t) {
            e[0] < t[0] && (e[0] = t[0]), e[0] > t[1] && (e[0] = t[1]), e[1] < t[0] && (e[1] = t[0]), e[1] > t[1] && (e[1] = t[1])
        }

        function et(e, t) {
            e[O].left = t[0], e[O].top = t[1], e[O].width = t[2], e[O].height = t[3]
        }

        function tt() {
            var e, t;
            if (g.length > 0)
                for (e in g) t = g[e]._.$, g[e]._.$ = 0, t && g[e].setCluster(0, 1)
        }
        var n = "http://www.w3.org/2000/svg",
            r = "urn:schemas-microsoft-com:vml",
            i, s = 0,
            o = 0,
            u = 0,
            a, f = 268435456,
            l = 268435456 / Math.PI,
            c = 180 / Math.PI,
            h = [],
            p, d, v, m, g = [],
            y = "fill",
            b = "stroke",
            w = y + "-opacity",
            E = b + "-opacity",
            S = y + "Color",
            x = b + "Color",
            T = y + "Alpha",
            N = b + "Alpha",
            C = y + "Style",
            k = b + "Style",
            L = "absolute",
            A = "relative",
            O = "style",
            M = "appendChild",
            _ = "removeChild",
            D = "display";
        for (var P = 0, H = 0, B = 0, j = 0; B = "0123456789ABCDEFGHIJKLOPQRSTUVWXYZabcdefghijklopqrstuvwxyz*+,-./".charAt(P); P++) H = ("000000" + P.toString(2)).slice(-6), h[H] = B, h[B] = H;
        m = document.createElement("div"), m.innerHTML = "<!--[if gt IE 8]><i></i><![endif]-->", a = m.getElementsByTagName("i")[0];
        if (t = document.namespaces) t.v || t.add("v", r), u = 1, p = 0, d = 10;
        if (t = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape", "1.1")) o = 1, p = 2, d = 8;
        (t = Y("CANVAS")) && t.getContext && (s = 1, p = 2, d = 8), (t = google) && (t = t.maps) && t.OverlayView && (i = 0, t = e.prototype = new t.OverlayView), typeof GOverlay != "undefined" && (i = 1, t = e.prototype = new GOverlay, t.finalize = Q, t.initialize = Q), t.freeze = function() {
            this._.$ = 1, v = clearTimeout(v), v = setTimeout(tt, 0)
        }, t.repair = function() {
            this.setCluster()
        }, t.setProxy = function(e) {
            this.$ = e.$, this.freeze()
        }, t.setVisible = function(e) {
            var t, n, r, i, s, o, u;
            if (!(t = this._.A)) return;
            t[O][D] = e ? "" : "none"
        }, t.resetAlpha = t.resetColor = t.resetStyle = function(e, t) {
            var n, r, i, s, o, u, a;
            if (!(n = this._.A)) return;
            if (!(r = this._.E)) return;
            G(e) || (e = [e]), G(t) || (t = {}), o = [];
            for (i = 0; s = e[i]; i++) {
                if (!r[s]) continue;
                o[s] = s, a = t;
                for (u in a) r[s][u] = a[u]
            }
            for (s in e) {
                if (!r[s]) continue;
                o[s] = s, a = t;
                for (u in a) r[s][u] = a[u];
                a = e[s];
                for (u in a) r[s][u] = a[u]
            }
            var f = "getAttribute",
                l = "setAttribute",
                c = "color",
                h = "opacity";
            u = n.getElementsByTagName("path");
            for (i = 0; a = u[i]; i++) o[s = a.file] && (r[s][S] && a[f](y) && a[l](y, r[s][S]), r[s][x] && a[f](b) && a[l](b, r[s][x]), r[s][T] && a[f](w) && a[l](w, r[s][T]), r[s][N] && a[f](E) && a[l](E, r[s][N]));
            u = n.getElementsByTagName(y);
            for (i = 0; a = u[i]; i++) o[s = a.parentNode.file] && (r[s][S] && a[c] && (a[c] = r[s][S]), r[s][T] && a[h] && (a[h] = r[s][T]));
            u = n.getElementsByTagName(b);
            for (i = 0; a = u[i]; i++) o[s = a.parentNode.file] && (r[s][x] && a[c] && (a[c] = r[s][x]), r[s][N] && a[h] && (a[h] = r[s][N]))
        }, t.setAlpha = t.setColor = t.setStyle = function(e, t) {
            var n, r, i, s, o, u, a;
            if (!(r = this._.E)) return;
            G(e) || (e = [e]), G(t) || (t = {}), o = [];
            for (i = 0; s = e[i]; i++) {
                r[s] = [], a = t;
                for (u in a) r[s][u] = a[u]
            }
            i--;
            for (s in e) {
                i++, r[s] = [], a = t;
                for (u in a) r[s][u] = a[u];
                a = e[s];
                for (u in a) r[s][u] = a[u]
            }
            this.setCluster(i ? -1 : e)
        }, t.setClick = function(e) {
            this._.U = e, this.freeze()
        }, t.setCover = function(e) {
            this._.V = e, this.freeze()
        }, t.setLayer = function(e) {
            this._.L = e, this.$.U = {}, this.$.V = {}, this.freeze()
        }, t.setPixel = function(e) {
            this._.Q = e, this.$.U = {}, this.$.V = {}, this.freeze()
        }, t.roster = t.setOrder = function(e) {
            var t, n, r, i, s, o, u;
            s = this._.I = e ? {} : e;
            if (s)
                for (r = 0; i = e[r]; r++) s[i] = i;
            if (s)
                for (i in e) s[i] = e[i];
            this.freeze()
        }, t.reciprocal = t.setReverse = function(e) {
            var t, n, r, i, s, o, u;
            s = this._.O = e ? {} : e;
            if (s)
                for (r = 0; i = e[r]; r++) s[i] = i;
            if (s)
                for (i in e) s[i] = e[i];
            this.freeze()
        }, t.load = t.reload = t.setPaths = function(e, t, n, r) {
            var i = this._,
                s = this.$,
                o, u, a, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, C, k, L, A, O;
            o = t, n = n ? 21 - n : 0, r = r ? 21 - r : 0, b = f;
            for (t in e) {
                y = e[t], c = [b + b, b + b, 0, 0, [],
                    [],
                    [],
                    []
                ], h = [b + b, b + b, 0, 0, [],
                    [],
                    [],
                    []
                ], E = [], E[0] = [], E[1] = [], E[2] = [], E[3] = [];
                if (y)
                    for (v = 0; O = y[v]; v++) {
                        if (a = (k = (O.x != null) * (O.y != null)) ? !G(O.x) * !G(O.y) : 0) O = z(O);
                        N = [b + b, b + b, 0, 0, [],
                            [],
                            [],
                            []
                        ], C = [b + b, b + b, 0, 0, [],
                            [],
                            [],
                            []
                        ], E[0][v] = [], E[1][v] = [], E[2][v] = [], E[3][v] = [], g = -1, x = null, T = null;
                        if (y)
                            for (m = 0;; m++) {
                                if (k) {
                                    if ((O.x[m] == null) + (O.y[m] == null)) break;
                                    a ? (L = O.x[m] << n, A = O.y[m] << r) : (L = F(O.x[m]), A = I(O.y[m]))
                                } else {
                                    if (O[m] == null) break;
                                    a ? (L = F(O[m].x), A = I(O[m].y)) : (L = F(O[m].x), A = I(O[m].y))
                                }(x != L) + (T != A) && g++, E[0][v][g] = L, E[1][v][g] = A, E[2][v][g] = L + (b + b) * (b - L >> 31), E[3][v][g] = A + (b + b) * (b - A >> 31), x = L, T = A, h[0] > L && (h[0] = L), h[2] < L && (h[2] = L), h[1] > A && (h[1] = A), h[3] < A && (h[3] = A), C[0] > L && (C[0] = L), C[2] < L && (C[2] = L), C[1] > A && (C[1] = A), C[3] < A && (C[3] = A), L = (L + b) % (b + b) - b, A = (A + b) % (b + b) - b, c[0] > L && (c[0] = L), c[2] < L && (c[2] = L), c[1] > A && (c[1] = A), c[3] < A && (c[3] = A), N[0] > L && (N[0] = L), N[2] < L && (N[2] = L), N[1] > A && (N[1] = A), N[3] < A && (N[3] = A)
                            }
                        x = null, T = null, h[4][v] = C[0], h[5][v] = C[1], h[6][v] = C[2], h[7][v] = C[3], c[4][v] = N[0], c[5][v] = N[1], c[6][v] = N[2], c[7][v] = N[3]
                    }
                if (x = c[2] - c[0] - h[2] + h[0] >> 31) h[0] = c[0], h[2] = c[2], h[4] = c[4], h[6] = c[6];
                if (T = c[3] - c[1] - h[3] + h[1] >> 31) h[1] = c[1], h[3] = c[3], h[5] = c[5], h[7] = c[7];
                E = [E[0 - x - x], E[1 - T - T]], k = [], k[0] = [], k[1] = [];
                for (v = 0;
                    (E[0][v] != null) * (E[1][v] != null); v++) {
                    g = -1, k[0][v] = [], k[1][v] = [], L = E[0][v], A = E[1][v];
                    for (m = 0;
                        (E[0][v][m] != null) * (E[1][v][m] != null); m++) O = 1, (L[m - 1] != null) * (A[m - 1] != null) * (L[m + 1] != null) * (A[m + 1] != null) && (O = (L[m + 1] - L[m - 1]) * (A[m] - A[m + 1] + A[m] - A[m - 1]) - (A[m + 1] - A[m - 1]) * (L[m] - L[m + 1] + L[m] - L[m - 1]), O = (((L[m] - L[m - 1]) * (L[m] - L[m + 1]) >> 31) + 1) * (((A[m] - A[m - 1]) * (A[m] - A[m + 1]) >> 31) + 1) + ((L[m] - L[m - 1]) * (A[m] - A[m + 1]) != (A[m] - A[m - 1]) * (L[m] - L[m + 1]))), O && (g++, k[0][v][g] = L[m], k[1][v][g] = A[m])
                }
                E = [k[0], k[1], h[0], h[1], h[2], h[3], h[4], h[5], h[6], h[7], x, T], s.U[t] = {}, s.V[t] = {}, s.W[t] = o, s.Z[t] = E
            }
        }, t.draw = t.redraw = t.setCluster = function(e, t) {
            var r = this._,
                a = this.$,
                l, c, h, v, m, A, P, H, B, j, U, z, W, X, Q, tt, nt, rt, it, st, ot, ut, at, ft, lt, ct, ht, pt, dt, vt, mt, gt, yt, bt, wt, Et, St, xt, Tt, Nt, Ct, kt, Lt, At, Ot, Mt, _t, Dt, Pt, Ht, Bt, jt, Ft, It, qt, Rt, Ut;
            xt = 0, u && (xt = 6), s && (xt = 4), o && (xt = 5);
            if (!xt) return;
            W = i ? r._ : this.getMap(), st = i ? r._ : this.getPanes(), ot = i ? r._ : this.getProjection();
            if (!W + !st + !ot) return;
            bt = this, tt = W.getBounds(), v = W.getCenter(), lt = W.getZoom(), St = r.L ? r.L : p, Nt = r.Q ? r.Q : d, ut = ((lt >> St) + 1 << St) - 1, Mt = 21 - ut, Pt = 21 - lt, tt = {
                x: F(v.lng()) >> Pt,
                y: I(v.lat()) >> Pt
            }, v = {
                x: q(tt.x << Pt),
                y: R(tt.y << Pt)
            }, W = i ? W.getContainer() : W.getDiv(), P = i ? st.getPane(G_MAP_MAP_PANE) : st.floatPane, v = i ? ot.fromLatLngToDivPixel(new GLatLng(v.y, v.x)) : ot.fromLatLngToDivPixel(new google.maps.LatLng(v.y, v.x)), It = tt.x - (W.offsetWidth + 1 >> 1), qt = tt.x + (W.offsetWidth + 1 >> 1), Rt = tt.y - (W.offsetHeight + 1 >> 1), Ut = tt.y + (W.offsetHeight + 1 >> 1), r.x = tt.x, r.y = tt.y, r.X = qt - It, r.Y = Ut - Rt, Ht = tt.x - v.x, Bt = tt.y - v.y, jt = 1 + (qt - It >> Nt) + 1, Ft = 1 + (Ut - Rt >> Nt) + 1, It = (It - 0 >> Nt) + 0, qt = (qt - 1 >> Nt) + 1, Rt = (Rt - 0 >> Nt) + 0, Ut = (Ut - 1 >> Nt) + 1, ct = W.id ? W.id : "_", pt = 1, vt = 1 << Nt >> 1, mt = 4 << Nt >> 1, g[ct] = bt;
            if (!!t + (ut != r.W) + (lt != r.Z) + (Ht != r.X$) + (Bt != r.Y$) + (jt != r.X_) + (Ft != r.Y_)) {
                r.W = ut, r.Z = lt, r.X$ = Ht, r.Y$ = Bt, r.X_ = jt, r.Y_ = Ft, r.X0 = 0, r.X1 = 0, r.Y0 = 0, r.Y1 = 0, tt = "", W = r.A;
                if (W) {
                    for (j = W.childNodes.length - 1; j + 1; j--) X = W.childNodes[j], W[_](X);
                    tt = W[O][D], P[_](W), W = null
                }
                W = Y("DIV");
                if (W) {
                    P[M](W), W[O][D] = tt, W[O].position = L, et(W, ["0px", "0px", "100%", "100%"]);
                    for (j = 0; jt * Ft - j; j++) X = Y("DIV"), W[M](X), X[O].position = L, X._ = [], X.$ = ""
                }
                r.A = W
            }
            if (!!e + (ut != r.W) + (lt != r.Z) + (It < r.X0) + (qt > r.X1) + (Rt < r.Y0) + (Ut > r.Y1)) {
                r.W = ut, r.Z = lt, It <= r.X0 && (H = [It, It + jt]), qt >= r.X1 && (H = [qt - jt, qt]), Rt <= r.Y0 && (B = [Rt, Rt + Ft]), Ut >= r.Y1 && (B = [Ut - Ft, Ut]), r.X0 = It, r.X1 = qt, r.Y0 = Rt, r.Y1 = Ut;
                for (_t = H[0]; H[1] - _t; _t++)
                    for (Dt = B[0]; B[1] - Dt; Dt++) {
                        j = xt == 4 ? r.O : 0, v = j ? j : {}, X = r.A.childNodes[(_t + jt) % jt + (Dt + Ft) % Ft * jt], l = X.childNodes[0], X[O].position = L, X[O].overflow = "hidden", et(X, [(_t << Nt) - Ht + "px", (Dt << Nt) - Bt + "px", (1 << Nt) + "px", (1 << Nt) + "px"]), A = "Cluster x=" + _t + " y=" + Dt + " z=" + lt, e == -1 && (X.$ = "");
                        if (G(e)) {
                            for (W in e) X._[W] && (X.$ = "");
                            for (j = 0; W = e[j]; j++) X._[W] && (X.$ = "")
                        }
                        if (X.$ != A) {
                            l && X[_](l), l = 0, xt == 4 && (l = Y("CANVAS")), xt == 5 && (l = Y(n, "svg")), xt == 6 && (l = Y("DIV")), l && X[M](l), l[O].position = L, et(l, [(0 << Nt) + "px", (0 << Nt) + "px", (1 << Nt) + "px", (1 << Nt) + "px"]), X._ = [], X.$ = A, X.status = A, l.status = "";
                            if (xt != 4)
                                for (j = l.childNodes.length - 1; j + 1; j--) X = l.childNodes[j], l[_](X);
                            else A = l.getContext("2d"), l.width = 1 << Nt, l.height = 1 << Nt, v[y] && (A[C] = v[S], A.globalAlpha = v[T], A.fillRect(-vt, -vt, +mt, +mt)), v[b] && (A[k] = v[x], A.globalAlpha = v[N], A.strokeRect(-vt, -vt, +mt, +mt))
                        }
                    }
                e = r.I ? r.I : a.Z;
                for (t in e) {
                    v = r.E[t];
                    if (!v) continue;
                    P = v.weight, G(P) && (P = P[P.length - 1 - lt >> 31 << 31 ? P.length - 1 : lt]), P = P ? P : 1, pt = pt - P >> 31 << 31 ? P : pt, bt = [-1 - (pt >> Nt) << Nt, 1 + (pt >> Nt) << Nt]
                }
                e = r.I ? r.I : a.Z;
                for (t in e) {
                    v = r.E[t];
                    if (!v) continue;
                    X = f, At = a.U[t], Ot = a.V[t], l = a.W[t], tt = a.Z[t], H = [((tt[2] >> Pt) - (pt << St >> 1) - 0 >> Nt) + 0, ((tt[4] >> Pt) + (pt << St >> 1) - 1 >> Nt) + 1], B = [((tt[3] >> Pt) - (pt << St >> 1) - 0 >> Nt) + 0, ((tt[5] >> Pt) + (pt << St >> 1) - 1 >> Nt) + 1], _t = tt[10] * ((X >> Pt) - r.x >> 31) * (X + X >> Pt >> Nt), Dt = tt[11] * ((X >> Pt) - r.y >> 31) * (X + X >> Pt >> Nt), at = [It - _t, qt - _t], ft = [Rt - Dt, Ut - Dt];
                    if (!!v[y] + !!v[b])
                        if (lt * (H[0] <= at[1]) * (H[1] >= at[0]) * (B[0] <= ft[1]) * (B[1] >= ft[0])) {
                            At || (At = {}), Ot || (Ot = {}), At[ut] || (At[ut] = {}), Ot[lt] || (Ot[lt] = {}), At[ut].$ != pt && (At[ut] = {}), Ot[lt].$ != pt && (Ot[lt] = {}), At[ut]._ = ct, Ot[lt]._ = ct, At[ut].$ = pt, Ot[lt].$ = pt, H[0] < at[0] && (H[0] = at[0]), H[1] > at[1] && (H[1] = at[1]), B[0] < ft[0] && (B[0] = ft[0]), B[1] > ft[1] && (B[1] = ft[1]), st = At[ut]["_" + t + "_" + ut + "_"];
                            if (!st) {
                                A = 0, st = [];
                                for (U = 0;
                                    (tt[0][U] != null) * (tt[1][U] != null); U++) {
                                    j = 0, P = [], at = tt[0][U], ft = tt[1][U], rt = null, it = null;
                                    for (z = 0;
                                        (at[z] != null) * (ft[z] != null); z++) !((at[z - 1] != null) * (ft[z - 1] != null) ? (at[z - 1] >> Mt >> Nt == at[z] >> Mt >> Nt) * (ft[z - 1] >> Mt >> Nt == ft[z] >> Mt >> Nt) : 0) + !((at[z + 1] != null) * (ft[z + 1] != null) ? (at[z + 1] >> Mt >> Nt == at[z] >> Mt >> Nt) * (ft[z + 1] >> Mt >> Nt == ft[z] >> Mt >> Nt) : 0) && (P[j++] = z);
                                    j >> 0 << 0 && (st[A++] = P)
                                }
                            }
                            At[ut]["_" + t + "_" + ut + "_"] = st, v = r.E[t];
                            for (_t = H[0]; H[1] - _t; _t++)
                                for (Dt = B[0]; B[1] - Dt; Dt++) {
                                    ot = Ot[lt]["_" + t + "_" + lt + "_" + (_t ^ _t >> lt << lt) + "_" + (Dt ^ Dt >> lt << lt) + "_"];
                                    if (!ot) {
                                        A = 0, ot = [];
                                        for (U = 0; st[U] != null; U++) {
                                            j = 0, P = [], at = tt[0][U], ft = tt[1][U], rt = null, it = null;
                                            if (lt * (((tt[6][U] >> Pt) - (pt << St >> 1) - 0 >> Nt) + 0 <= _t) * (((tt[8][U] >> Pt) + (pt << St >> 1) - 1 >> Nt) + 1 >= _t) * (((tt[7][U] >> Pt) - (pt << St >> 1) - 0 >> Nt) + 0 <= Dt) * (((tt[9][U] >> Pt) + (pt << St >> 1) - 1 >> Nt) + 1 >= Dt))
                                                for (Q = 0, nt = 1;
                                                    (st[U][Q] != null) * (st[U][nt] != null); Q++, nt++) {
                                                    l = [(_t + 0 << Pt >> Mt) - 1, (_t + 1 << Pt >> Mt) - 0, (Dt + 0 << Pt >> Mt) - 1, (Dt + 1 << Pt >> Mt) - 0, (_t + 0 << Nt) - (pt >> 1), (_t + 1 << Nt) + (pt >> 1), (Dt + 0 << Nt) - (pt >> 1), (Dt + 1 << Nt) + (pt >> 1)], h = [at[st[U][Q]] >> Mt >> Nt, ft[st[U][Q]] >> Mt >> Nt], m = [at[st[U][nt]] >> Mt >> Nt, ft[st[U][nt]] >> Mt >> Nt];
                                                    if (lt * (bt[0] == -1 << Nt) * (bt[1] == +1 << Nt) * (h[0] == m[0]) * (h[1] == m[1]) * ((h[0] > l[1]) + (h[0] < l[0]) + (h[1] > l[3]) + (h[1] < l[2])) * ((m[0] > l[1]) + (m[0] < l[0]) + (m[1] > l[3]) + (m[1] < l[2]))) v = [h[0] + m[0] >> 1, h[1] + m[1] >> 1], v = [((v[0] > l[1]) - (v[0] < l[0])) * (1 + (pt >> Nt) << Nt), ((v[1] > l[3]) - (v[1] < l[2])) * (1 + (pt >> Nt) << Nt)], (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]]);
                                                    else {
                                                        z = st[U][Q], W = st[U][nt];
                                                        for (; W - z + 1; z++) v = !!((at[z - 1] != null) * (ft[z - 1] != null) ? (((at[z - 1] >> Pt > l[5]) - (at[z - 1] >> Pt < l[4])) * ((at[z] >> Pt > l[5]) - (at[z] >> Pt < l[4])) - 1) * (((ft[z - 1] >> Pt > l[7]) - (ft[z - 1] >> Pt < l[6])) * ((ft[z] >> Pt > l[7]) - (ft[z] >> Pt < l[6])) - 1) : 0) + !!((at[z + 1] != null) * (ft[z + 1] != null) ? (((at[z + 1] >> Pt > l[5]) - (at[z + 1] >> Pt < l[4])) * ((at[z] >> Pt > l[5]) - (at[z] >> Pt < l[4])) - 1) * (((ft[z + 1] >> Pt > l[7]) - (ft[z + 1] >> Pt < l[6])) * ((ft[z] >> Pt > l[7]) - (ft[z] >> Pt < l[6])) - 1) : 0) ? [(at[z] >> Pt) - (_t << Nt) - vt, (ft[z] >> Pt) - (Dt << Nt) - vt] : [((at[z] >> Pt > l[5]) - (at[z] >> Pt < l[4])) * (1 + (pt >> Nt) << Nt), ((ft[z] >> Pt > l[7]) - (ft[z] >> Pt < l[6])) * (1 + (pt >> Nt) << Nt)], (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]])
                                                    }
                                                }
                                            X = P, j = 0, P = [], rt = null, it = null;
                                            for (z = 0; X[z]; z++) W = [X[z][0] < bt[0], X[z][0] > bt[1], X[z][1] < bt[0], X[z][1] > bt[1]], W[0] + W[1] + W[2] + W[3] ? (W = [W[1] - W[0], W[3] - W[2]], X[U = z - 1] && (v = [X[z][0] - X[U][0], X[z][1] - X[U][1]], h = [v[0] ? (X[z][0] - (W[0] << Nt)) / v[0] : v[0], v[1] ? (X[z][1] - (W[1] << Nt)) / v[1] : v[1]], m = [v[0] ? ((W[0] << Nt) - X[U][0]) / v[0] : v[0], v[1] ? ((W[1] << Nt) - X[U][1]) / v[1] : v[1]], W[l = (h[0] <= h[1]) - 0] && (v = [~~(h[l] * X[U][0] + m[l] * X[z][0]), ~~(h[l] * X[U][1] + m[l] * X[z][1])], Z(v, bt), (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]])), W[l = (h[0] >= h[1]) - 0] && (v = [~~(h[l] * X[U][0] + m[l] * X[z][0]), ~~(h[l] * X[U][1] + m[l] * X[z][1])], Z(v, bt), (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]]))), X[U = z + 1] && (v = [X[z][0] - X[U][0], X[z][1] - X[U][1]], h = [v[0] ? (X[z][0] - (W[0] << Nt)) / v[0] : v[0], v[1] ? (X[z][1] - (W[1] << Nt)) / v[1] : v[1]], m = [v[0] ? ((W[0] << Nt) - X[U][0]) / v[0] : v[0], v[1] ? ((W[1] << Nt) - X[U][1]) / v[1] : v[1]], W[l = (h[0] >= h[1]) - 0] && (v = [~~(h[l] * X[U][0] + m[l] * X[z][0]), ~~(h[l] * X[U][1] + m[l] * X[z][1])], Z(v, bt), (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]])), W[l = (h[0] <= h[1]) - 0] && (v = [~~(h[l] * X[U][0] + m[l] * X[z][0]), ~~(h[l] * X[U][1] + m[l] * X[z][1])], Z(v, bt), (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]])))) : (v = X[z], (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]]));
                                            X = P, j = 0, P = [], rt = null, it = null;
                                            for (z = 0; X[z]; z++) v = X[z], (!X[z - 1] + !X[z + 1] ? !X[z - 1] + !X[z + 1] : (((X[z][0] - X[z - 1][0]) * (X[z][0] - X[z + 1][0]) >> 31) + 1) * (((X[z][1] - X[z - 1][1]) * (X[z][1] - X[z + 1][1]) >> 31) + 1) + ((X[z][0] - X[z - 1][0]) * (X[z][1] - X[z + 1][1]) != (X[z][1] - X[z - 1][1]) * (X[z][0] - X[z + 1][0]))) && (rt != v[0]) + (it != v[1]) && (P[j++] = [rt = v[0], it = v[1]]);
                                            for (j = 0; W = P[j]; j++) P[j] = W[0] ^ W[0] >> 16 << 16 ^ W[1] << 16;
                                            j >> 1 << 1 && (ot[A++] = P)
                                        }
                                    }
                                    Ot[lt]["_" + t + "_" + lt + "_" + (_t ^ _t >> lt << lt) + "_" + (Dt ^ Dt >> lt << lt) + "_"] = ot, v = r.E[t], j = xt == 4 ? r.O : 0, v = j ? {
                                        fill: 1,
                                        fillColor: "#ffffff",
                                        fillAlpha: 1 / 255,
                                        stroke: 1,
                                        strokeColor: "#000000",
                                        strokeAlpha: 254 / 255,
                                        weight: 1
                                    } : v, X = r.A.childNodes[(_t + jt) % jt + (Dt + Ft) % Ft * jt], l = X.childNodes[0], X[O].position = L, X[O].overflow = "hidden";
                                    if (X._[t]) continue;
                                    X._[t] = t, P = v.weight, G(P) && (P = P[P.length - 1 - lt >> 31 << 31 ? P.length - 1 : lt]), P = P ? P : 1;
                                    if (xt == 4) {
                                        A = l.getContext("2d"), l.data || (l.data = {}), l.data[t] = {
                                            x: [],
                                            y: []
                                        }, A.beginPath();
                                        var zt = 0,
                                            Wt = 0,
                                            Xt = [];
                                        for (j = 0, U = 0;
                                            (X = ot[U]) != null; U++)
                                            for (z = 0;
                                                (W = X[z]) != null; j++, z++) zt = (W << 16 >> 16) + vt, Wt = (W >> 16) + vt, l.data[t].x.push((W << 16 >> 16) + vt), l.data[t].y.push((W >> 16) + vt), A[z ? "lineTo" : "moveTo"](zt, Wt);
                                        if (!j) continue;
                                        A.lineCap = "round", A.lineJoin = "round", A.lineWidth = P, v[y] && (r.O && (A.globalCompositeOperation = "copy"), A[C] = v[S], A.globalAlpha = v[T], A.fill()), v[b] && (r.O && (A.globalCompositeOperation = "copy"), A[k] = v[x], A.globalAlpha = v[N], A.stroke())
                                    } else {
                                        if (xt == 5) {
                                            A = [];
                                            for (j = 0, U = 0;
                                                (X = ot[U]) != null; U++)
                                                for (z = 0;
                                                    (W = X[z]) != null; j++, z++) A[j] = (z ? "L" : "M") + " " + ((W << 16 >> 16) + vt) + " " + ((W >> 16) + vt);
                                            if (!j) continue;
                                            A = A.join(" "), X = Y(n, "path"), W = "getAttribute", W = "setAttribute", X[W]("d", A), X[W](y, v[y] ? v[S] : "none"), X[W](w, v[y] ? v[T] : 0), X[W]("fill-rule", "evenodd"), X[W](b, v[b] ? v[x] : "none"), X[W](E, v[b] ? v[N] : 0), X[W]("stroke-linecap", "round"), X[W]("stroke-linejoin", "round"), X[W]("stroke-width", P + "px")
                                        }
                                        if (xt == 6) {
                                            A = [];
                                            for (j = 0, U = 0;
                                                (X = ot[U]) != null; U++)
                                                for (z = 0;
                                                    (W = X[z]) != null; j++, z++) A[j] = (z ? "l" : "m") + " " + ((W << 16 >> 16) + vt) + " " + ((W >> 16) + vt);
                                            A[j] = "e";
                                            if (!j) continue;
                                            A = A.join(" "), X = Y('<v:shape style="behavior:url(#default#VML);position:absolute;left:' + vt + "px;top:" + vt + "px;width:" + 1 + "px;height:" + 1 + 'px;" coordorigin="' + vt + " " + vt + '" coordsize="' + 1 + " " + 1 + '" filled="' + (v[y] ? "True" : "False") + '" stroked="' + (v[b] ? "True" : "False") + '" path="' + A + '">'), v[y] && X[M](Y('<v:fill   style="behavior:url(#default#VML);" color="' + v[S] + '" opacity="' + v[T] + '" weight="' + P + 'px">')), v[b] && X[M](Y('<v:stroke style="behavior:url(#default#VML);" color="' + v[x] + '" opacity="' + v[N] + '" weight="' + P + 'px">'))
                                        }
                                        r.U && (X[O].cursor = "pointer", X.onmouseup = V, X.onmousedown = $), r.V && (X[O].cursor = "pointer", X.onmouseout = J, X.onmouseover = K), X.call = this, X.file = t, X.status = "", X.status += " " + t + "(" + j + ")", l[M](X), c = l, X[O].position = L
                                    }
                                    l.status += " " + t + "(" + j + ")"
                                }
                        } else {
                            a.U[t] = st = {}, a.V[t] = ot = {};
                            for (j = 0; 24 - j; j++) At[j] && (At[j]._ != A) - (j - ut >> 31) && (st[j] = At[j]);
                            for (j = 0; 24 - j; j++) Ot[j] && (Ot[j]._ != A) - (j - lt >> 31) && (ot[j] = Ot[j])
                        }
                    else {
                        a.U[t] = st = {}, a.V[t] = ot = {};
                        for (j = 0; 24 - j; j++) At[j] && (At[j]._ != A) - (j - 0 >> 31) && (st[j] = At[j]);
                        for (j = 0; 24 - j; j++) Ot[j] && (Ot[j]._ != A) - (j - 0 >> 31) && (ot[j] = Ot[j])
                    }
                }
                xt == 6 && typeof c != "undefined" && (X = Y('<v:image style="behavior:url(#default#VML);"></v:image>'), c[M](X))
            }
        }
    }(PolyCluster);
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Base = function() {}, NScout.Map.Base.prototype = {
    hideTimeout: 200,
    colorValues: ["#0000BE", "#1414CC", "#2B2BD6", "#4444E3", "#5F5FED", "#7C7CF7", "#99F", "#B3B3FF", "#CCF", "#E4D6DA"],
    defStyle: {
        fill: 1,
        stroke: 1,
        strokeColor: "#c9c9c9",
        fillAlpha: .85,
        strokeAlpha: .75,
        weight: .8
    },
    hoverStyle: {
        fillColor: "#ffff55"
    },
    canvasId: "mapcanvas",
    map_canvas: null,
    multiResolution: !1,
    buildBound: function(e, t) {
        if (e === null) {
            var n = new google.maps.LatLng(40.7132691, -74.0069729),
                r = new google.maps.LatLng(40.7142691, -74.0059729);
            return new google.maps.LatLngBounds(n, r)
        }
        var i = t || .9;
        e.sw.lng > 0 && e.ne.lng < 0 && (i = 1);
        var s = 1 - i,
            o = (e.ne.lat - e.sw.lat) / 2,
            u = (e.ne.lng - e.sw.lng) / 2,
            n = new google.maps.LatLng(e.sw.lat + o * s, e.sw.lng + u * s),
            r = new google.maps.LatLng(e.ne.lat - o * s, e.ne.lng - u * s);
        return new google.maps.LatLngBounds(n, r)
    },
    initMap: function(e) {
        this.mapLoaded = !1, this.polyLoaded = !1;
        var t = {
            zoom: 1,
            center: this.bounds.getCenter(),
            mapTypeId: e || google.maps.MapTypeId.SATELLITE
        };
        this.map_canvas = document.getElementById(this.canvasId), this.map = new google.maps.Map(this.map_canvas, t);
        var n = {
                width: $(this.map_canvas).width(),
                height: $(this.map_canvas).height()
            },
            r = this.getBoundsZoomLevel(this.bounds, n);
        this.map.setZoom(r), this.addLoadingDiv(), google.maps.event.addListenerOnce(this.map, "tilesloaded", this.setMapLoaded.bind(this))
    },
    initLabel: function() {
        this.label = new NScout.LabelOverlay, this.label.setHover(this.hoverLastPolygon.bind(this), this.unhoverLastPolygons.bind(this)), this.label.setClick(this.clickLabel.bind(this))
    },
    buildCluster: function() {
        if (!this.clusterReady()) return;
        this.buildMultiPolyHash(), typeof this.cluster == "undefined" && (this.cluster = new PolyCluster(this.map)), this.mouseMoveHandler = this.mouseMove.bind(this), this.mouseUpHandler = this.mouseUp.bind(this), document.documentElement.ontouchstart === undefined ? (this.cluster
            .setCover(this.clusterCover.bind(this)), this.cluster.setClick(this.clusterClick.bind(this))) : google.maps.event.addDomListener(this.map_canvas, "click", this.touchHandler.bind(this)), this.multiResolution ? this.cluster.setPaths(this.geometry[this.resolution]) : this.cluster.setPaths(this.geometry);
        var e = this;
        $.each(this.polygons, function(t, n) {
            var r = {
                fillColor: e.getColor(e.colors[n])
            };
            $.extend(r, e.defStyle), e.cluster.setStyle(n, r)
        }), setTimeout(this.setPolyLoaded.bind(this), 200)
    },
    clusterCover: function(e, t) {
        t ? this.hoverPolygon.call(this, e) : this.unhoverPolygon.call(this)
    },
    hoverPolygon: function(e) {
        if (e == "zip" || e == "smallCircle" || e == "bigCircle") {
            this.hoverLastPolygon();
            return
        }
        this.hoverTimeout && (clearTimeout(this.hoverTimeout), delete this.hoverTimeout);
        var t = this.mpId(e);
        this.currentPolygon && this.unhoverPolygonNow.call(this), this.sidebar && this.sidebar.hover(t), this.currentPolygon = e, this.showPopupLabel(e), this.highlightArea(t)
    },
    unhoverPolygon: function() {
        this.hoverTimeout = setTimeout(this.unhoverPolygonNow.bind(this), this.hideTimeout)
    },
    unhoverPolygonNow: function() {
        this.sidebar && this.sidebar.unhover(), this.label.setMap(null), this.unHighlightArea(), delete this.currentPolygon
    },
    hoverLastPolygon: function(e) {
        this.hoverTimeout && (clearTimeout(this.hoverTimeout), delete this.hoverTimeout)
    },
    unhoverLastPolygons: function(e) {
        this.hoverTimeout = setTimeout(this.unhoverPolygonNow.bind(this), this.hideTimeout)
    },
    clickLabel: function(e) {
        e.preventDefault(), this.fireClick()
    },
    clusterClick: function(e, t) {
        if (!t) return;
        if (e == "smallCircle" || e == "bigCircle" || e == "zip") return;
        $(document).bind("mousemove", this.mouseMoveHandler), $(document).bind("mouseup", this.mouseUpHandler)
    },
    mouseMove: function() {
        $(document).unbind("mousemove", this.mouseMoveHandler), $(document).unbind("mouseup", this.mouseUpHandler)
    },
    mouseUp: function() {
        $(document).unbind("mousemove", this.mouseMoveHandler), $(document).unbind("mouseup", this.mouseUpHandler), this.fireClick()
    },
    touchHandler: function(e) {
        var t = null;
        if (e.target.data) {
            var n = e.target.data,
                r = $(e.target).offset(),
                i = e.changedTouches[0].pageX - r.left,
                s = e.changedTouches[0].pageY - r.top;
            for (var o in n) {
                var u = n[o];
                if (this.isPointInPoly(u, i, s)) {
                    t = o;
                    break
                }
            }
        } else t = e.target.file;
        if (t) {
            e.preventDefault();
            var a = this;
            setTimeout(function() {
                a.clusterCover(t, !0), a.fireClick(), a.clusterCover(t, !1)
            }, 20);
            return
        }
    },
    isPointInPoly: function(e, t, n) {
        var r = e.x.length;
        for (var i = !1, s = -1, o = r - 1; ++s < r; o = s)(e.y[s] <= n && n < e.y[o] || e.y[o] <= n && n < e.y[s]) && t < (e.x[o] - e.x[s]) * (n - e.y[s]) / (e.y[o] - e.y[s]) + e.x[s] && (i = !i);
        return i
    },
    fireClick: function() {
        if (this.clickHandler && this.currentPolygon) {
            var e = this.lastClickedPolygon = this.currentPolygon,
                t = this.clickHandler,
                n = this.labels[e];
            n.polygon_id = e;
            var r = new google.maps.LatLng(this.labels[e].center.y, this.labels[e].center.x),
                i = new NScout.TempOverlay(r, function(e) {
                    t(n, e)
                });
            i.setMap(this.map), this.label.setMap(null)
        }
    },
    setClick: function(e) {
        this.clickHandler = e
    },
    getColor: function(e) {
        return typeof e == "string" ? e : this.colorValues[e]
    },
    zipStyle: {
        fill: 0,
        stroke: 1,
        strokeColor: "red",
        strokeAlpha: 1,
        weight: 4
    },
    addZipPolygon: function() {
        this.cluster.setPaths({
            zip: this.zipPolygon
        }), this.cluster.setStyle("zip", this.zipStyle)
    },
    addLoadingDiv: function() {
        var e = $("#" + this.canvasId),
            t = e.position();
        this.loadingDiv = $("<div id='map-loading'><p>Creating your map...  Please be patient</p></div>"), this.loadingDiv.css({
            top: e.position().top,
            left: e.position().left,
            width: e.width(),
            height: e.height()
        }), e.after(this.loadingDiv)
    },
    showSpinner: function() {
        this.loadingDiv.show()
    },
    hideSpinner: function() {
        this.loadingDiv.hide()
    },
    setMapReady: function() {
        this.mapLoaded && this.polyLoaded && (this.loadingDiv.hide(), google.maps.event.addListener(this.map, "idle", this.updateMap.bind(this)), $(".map-popup").trigger("mapready"))
    },
    setMapLoaded: function() {
        this.mapLoaded = !0, this.setMapReady()
    },
    setPolyLoaded: function() {
        this.polyLoaded = !0, this.setMapReady()
    },
    getResolution: function(e) {
        return this.multiResolution && e * this.average_points >= NScout.Map.Utils.lowResLimit() ? 1 : 0
    },
    updateMap: function() {
        if (!this.multiResolution) return;
        this.updateVisiblePolygons(), this.resolution = this.getResolution(this.visible.length);
        var e = [],
            t = {},
            n = [];
        for (var r = 0; r < this.visible.length; r++) {
            var i = this.visible[r];
            if (this.visibleGeometry[i] != this.resolution) {
                var s = this.geometry[this.resolution][i];
                s === undefined ? (this.geometry[this.resolution][i] = {}, e.push(i)) : s.length > 0 && (t[i] = s, n.push(i))
            }
        }
        e.length > 0 && this.loadPolygons(this.resolution, e), n.length > 0 && this.showPolygons(t, this.resolution)
    },
    loadPolygons: function(e, t) {
        t = "polygons=" + t.join(",");
        var n = this.getUrl(e);
        n.indexOf("?") ? n = n + "&" + t : n = n + "?" + t;
        var r = function(t) {
            this.handleLoadedPolygons(t, e)
        };
        $.getJSON(n, r.bind(this))
    },
    handleLoadedPolygons: function(e, t) {
        polygons = e.polygons, t == this.resolution && this.showPolygons(polygons, t);
        for (var n in polygons) this.geometry[t][n] = polygons[n]
    },
    showPolygons: function(e, t) {
        this.cluster.setPaths(e), this.cluster.setCluster(-1);
        for (polygon in e) this.visibleGeometry[polygon] = t
    },
    updateVisiblePolygons: function() {
        var e = this.map.getBounds(),
            t = e.getSouthWest(),
            n = e.getNorthEast(),
            r = {
                x1: t.lng(),
                x2: n.lng(),
                y1: t.lat(),
                y2: n.lat()
            };
        this.visible = [];
        for (key in this.bb) {
            var i = this.bb[key];
            if (!i) continue;
            i.sw && (i = {
                x1: i.sw.lng,
                x2: i.ne.lng,
                y1: i.sw.lat,
                y2: i.ne.lat
            }), this.intersects(r, i) && this.visible.push(key)
        }
    },
    intersects: function(e, t) {
        return t.x1 <= e.x2 && t.x2 >= e.x1 && t.y1 <= e.y2 && t.y2 >= e.y1
    },
    setInitialGeometry: function(e) {
        var t = this;
        if (this.multiResolution) {
            this.polygons = [], this.geometry = {}, this.visibleGeometry = {}, $.each(e, function(e) {
                t.polygons.push(e), t.visibleGeometry[e] = t.resolution
            }), this.geometry[this.resolution] = e;
            if (this.resolution > 0)
                for (i = 0; i < this.resolution; i++) this.geometry[i] = {}
        } else this.geometry = e, this.polygons = [], $.each(e, function(e) {
            t.polygons.push(e)
        })
    },
    clusterReady: function() {
        return !0
    },
    highlightArea: function(e) {
        this.highlighted = [];
        var t = this.mpHash[e];
        for (var n in t) {
            var r = t[n];
            this.cluster.resetStyle(r, this.hoverStyle), this.highlighted.push(r)
        }
    },
    unHighlightArea: function() {
        for (var e in this.highlighted) this.cluster.resetStyle(this.highlighted[e], {
            fillColor: this.getColor(this.colors[this.highlighted[e]])
        });
        this.highlighted = []
    },
    buildMultiPolyHash: function() {
        var e, t;
        this.mpHash = {};
        for (e in this.labels) t = this.mpId(e), this.mpHash[t] = this.mpHash[t] || [], this.mpHash[t].push(e)
    },
    mpId: function(e) {
        return this.labels[e].name
    },
    zoomStart: function() {
        this.zoomInProgress = !0, this.zoomClusterReady = !1, this.zoomTilesReady = !1, this.showSpinner()
    },
    zoomEnd: function() {
        this.zoomInProgress && this.zoomClusterReady && this.zoomTilesReady && (this.zoomInProgress = !1, this.hideSpinner())
    },
    zoomSetClusterRady: function() {
        this.zoomClusterReady = !0, this.zoomEnd()
    },
    zoomSetTilesReady: function() {
        this.zoomTilesReady = !0, this.zoomEnd()
    },
    highlightByName: function(e) {
        if (this.mpHash) {
            this.unHighlightArea(), this.highlightArea(e);
            var t = this.mpHash[e][0];
            if (t) {
                var n = this;
                setTimeout(function() {
                    n.showPopupLabel(t)
                }, 20)
            }
        }
    },
    unHighlightByName: function() {
        this.unHighlightArea(), this.label.setMap(null)
    },
    showPopupLabel: function(e) {
        if (e !== this.lastClickedPolygon || !window.locationTT.isVisible()) {
            var t = new google.maps.LatLng(this.labels[e].center.y, this.labels[e].center.x);
            this.label.setText(this.labels[e].name), this.label.setLatLng(t), this.label.setMap(this.map)
        }
    },
    showMapPopup: function() {
        if ($.cookie("map_popup_hidden") === null) {
            var e = $(".map-popup");
            e.show(), e.find(".close").bind("click", function() {
                e.hide(), $.cookie("map_popup_hidden", !0, {
                    path: "/"
                })
            })
        }
    },
    getBoundsZoomLevel: function(e, t) {
        function i(e) {
            var t = Math.sin(e * Math.PI / 180),
                n = Math.log((1 + t) / (1 - t)) / 2;
            return Math.max(Math.min(n, Math.PI), -Math.PI) / 2
        }

        function s(e, t, n) {
            return Math.floor(Math.log(e / t / n) / Math.LN2)
        }
        var n = {
                height: 256,
                width: 256
            },
            r = 21,
            o = e.getNorthEast(),
            u = e.getSouthWest(),
            a = (i(o.lat()) - i(u.lat())) / Math.PI,
            f = o.lng() - u.lng(),
            l = (f < 0 ? f + 360 : f) / 360,
            c = s(t.height, n.height, a),
            h = s(t.width, n.width, l);
        return Math.min(c, h, r)
    }
};
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.State = function(e) {
    this.init(e)
}, NScout.Map.State.prototype = $.extend({}, new NScout.Map.Base, {
    multiResolution: !0,
    init: function(e) {
        this.average_points = e.average_points, this.type = e.type, this.state = e.state, this.resolution = this.getResolution(e.count), this.bounds = this.buildBound(e.bounds), this.initMap(), this.loadData(), this.loadInitialPolygons(), this.initLabel(), $(".map-popup").bind("mapready", this.showMapPopup)
    },
    loadData: function() {
        var e = "/system/_polygons/" + this.state + "_data.json";
        jQuery.getJSON(e, this.handleDataUrl.bind(this))
    },
    handleDataUrl: function(e) {
        this.colors = e.colors[this.type] || {}, this.labels = e.labels, this.bb = e.bb, this.buildCluster()
    },
    loadInitialPolygons: function() {
        var e = this.getUrl(this.resolution);
        jQuery.getJSON(e, function(e) {
            this.setInitialGeometry(e.polygons), this.buildCluster()
        }.bind(this))
    },
    getUrl: function(e) {
        return e === 0 ? "/" + this.state + "/polygons.json?resolution=" + this.resolution : "/system/_polygons/" + this.state + "_lowres.json"
    },
    clusterReady: function() {
        return this.polygons && this.geometry && this.labels && this.colors
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.City = function(e) {
    this.init(e)
}, NScout.Map.City.prototype = $.extend({}, new NScout.Map.Base, {
    multiResolution: !0,
    init: function(e) {
        this.average_points = e.average_points, this.type = e.type, this.dataUrl = e.url, this.bounds = this.buildBound(e.bounds, .975), this.resolution = this.getResolution(e.count), this.initMap(), this.initLabel(), $(".map-popup").bind("mapready", this.showMapPopup);
        var t = this.dataUrl + "?type=" + this.type + "&resolution=" + this.resolution;
        jQuery.getJSON(t, this.setData.bind(this))
    },
    setData: function(e) {
        this.setInitialGeometry(e.polygons), this.colors = e.colors, this.labels = e.labels, this.bb = e.bb, this.buildCluster()
    },
    getUrl: function(e) {
        return this.dataUrl + "?resolution=" + e
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Neighborhood = function(e) {
    this.init(e)
}, NScout.Map.Neighborhood.prototype = $.extend({}, new NScout.Map.Base, {
    type: "overview",
    defStyle: {
        fill: 1,
        stroke: 1,
        strokeColor: "#ff7171",
        fillAlpha: .4,
        strokeAlpha: .75,
        weight: 3
    },
    init: function(e) {
        this.data = e, this.isVisible() && (this.drawMap(), this.mapLoaded = !0), $(".tab-neighborhoods").bind("tabsshow", this.tabChange.bind(this))
    },
    drawMap: function() {
        this.setInitialGeometry({
            nhood: this.data.polygons
        }), this.colors = {
            nhood: "#fcffcd"
        }, this.labels = {
            nhood: {
                center: {
                    x: this.data.center[0],
                    y: this.data.center[1]
                },
                name: this.data.name,
                text: {
                    overview: this.data.mhv
                },
                home_listing_partner_zip: this.data.home_listing_partner_zip
            }
        }, this.bounds = this.buildBound(this.data.bounds), this.initMap(google.maps.MapTypeId.ROADMAP), this.initLabel(), this.buildCluster()
    },
    isVisible: function() {
        var e = $("#" + this.canvasId);
        return e.is(":visible") && e.width() > 0 && e.height() > 0
    },
    tabChange: function() {
        this.isVisible() && (this.mapLoaded || (this.mapLoaded = !0, this.drawMap()))
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Report = function(e) {
    this.init(e)
}, NScout.Map.Report.prototype = $.extend({}, NScout.Map.Neighborhood.prototype, {
    variant: "Report",
    buildCluster: function() {
        this.setPolyLoaded(), this.drawPolygon(), this.putMarker(), this.setPolygonObservers()
    },
    putMarker: function() {
        new google.maps.Marker({
            position: new google.maps.LatLng(this.data.marker.lat, this.data.marker.lng),
            map: this.map,
            title: this.data.marker.title
        })
    },
    drawPolygon: function() {
        var e = [];
        for (var t = 0; t < this.data.polygons.length; t++) e.push($.map(this.data.polygons[t], function(e) {
            return $.map(e, function(e) {
                return new google.maps.LatLng(e[1], e[0])
            })
        }));
        this.polygon = new google.maps.Polygon({
            paths: e,
            map: this.map,
            fillColor: "#fcffcd",
            fillOpacity: .4,
            strokeColor: "#ff7171",
            strokeOpacity: .75
        })
    },
    setPolygonObservers: function() {
        var e = this;
        google.maps.event.addListener(this.polygon, "mouseover", function() {
            e.hoverPolygon("nhood")
        }), google.maps.event.addListener(this.polygon, "mouseout", function() {
            e.unhoverPolygon()
        }), google.maps.event.addListener(this.polygon, "click", function() {
            e.mouseUp()
        })
    },
    highlightArea: function() {
        this.polygon.setOptions({
            fillColor: "#ffff55"
        })
    },
    unHighlightArea: function() {
        this.polygon.setOptions({
            fillColor: "#fcffcd"
        })
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.SearchResult = function(e) {
    this.init(e)
}, NScout.Map.SearchResult.prototype = $.extend({}, NScout.Map.Neighborhood.prototype, {
    variant: "search_result"
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Zip = function(e) {
    this.init(e)
}, NScout.Map.Zip.prototype = $.extend({}, new NScout.Map.Base, {
    mapType: "Zip",
    multiResolution: !0,
    type: "overview",
    init: function(e) {
        this.average_points = e.average_points, this.bounds = this.buildBound(e.bounds), this.dataUrl = e.url, this.mapTypeId = google.maps.MapTypeId.ROADMAP, this.initMap(), this.initLabel();
        var t = this.dataUrl + "?type=" + this.type + "&resolution=0";
        $.getJSON(t, this.setData.bind(this))
    },
    setData: function(e) {
        this.zipPolygon = e.zip_polygon, this.labels = e.nhood_data.labels, this.colors = e.nhood_data.colors, this.setInitialGeometry(e.nhood_data.polygons), this.buildCluster(), this.addZipPolygon()
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.SearchPolygons = function(e) {
    this.init(e)
}, NScout.Map.SearchPolygons.prototype = $.extend({}, new NScout.Map.Base, {
    mapType: "Search",
    bigCircleStyle: {
        stroke: 1,
        strokeColor: "#000000",
        weight: 1,
        strokeAlpha: 1,
        fillAlpha: 1,
        fillColor: "#000000",
        fill: 0
    },
    smallCircleStyle: {
        stroke: 1,
        strokeColor: "#000000",
        weight: 1,
        fill: 1,
        fillColor: "#000000",
        strokeAlpha: 1,
        fillAlpha: 1
    },
    multiResolution: !0,
    variant: "polygons",
    url: "/search.json?variant=polygon",
    polygonsUrl: "/search/polygons.json",
    metersInMile: 1609,
    type: "search",
    init: function(e) {
        this.average_points = e.average_points, this.resolution = this.getResolution(e.count), this.bounds = this.buildBound(e.bounds), this.initMap(), this.initLabel(), $.getJSON(this.getInitialUrl(this.resolution), this.handleJSON.bind(this)), $(".map-popup").bind("mapready", this.showMapPopup)
    },
    handleJSON: function(e) {
        var t = this;
        $.each(["labels", "colors", "circles"], function(n, r) {
            t[r] = e[r]
        }), this.bb = e.bboxes, this.setInitialGeometry(e.polygons), this.buildCluster(), this.showCircles()
    },
    showCircles: function() {
        this.circles && (this.cluster.setPaths({
            bigCircle: this.circles.big
        }), this.cluster.setStyle("bigCircle", this.bigCircleStyle), this.cluster.setPaths({
            smallCircle: this.circles.small[5]
        }), this.cluster.setStyle("smallCircle", this.smallCircleStyle), this.updateCenterSizeWhenZoomChange())
    },
    updateCenterSizeWhenZoomChange: function() {
        var e = this,
            t = e.map.getZoom(),
            n = 5;
        google.maps.event.addListener(e.map, "zoom_changed", function() {
            var r = e.map.getZoom() - t;
            r < -n && (r = -n), r > n && (r = n), e.cluster.setPaths({
                smallCircle: e.circles.small[r + n]
            })
        })
    },
    getInitialUrl: function(e) {
        return this.url + "&resolution=" + e
    },
    getUrl: function(e) {
        return this.polygonsUrl + "?resolution=" + e
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.SearchLabels = function(e) {
    this.init(e)
}, NScout.Map.SearchLabels.prototype = {
    url: "/search.json?variant=label",
    canvasId: "mapcanvas",
    type: "search",
    variant: "labels",
    init: function(e) {
        this.bounds = this.buildBound(e.bounds), this.markers = [], this.data = {}, this.delayedData = [], this.initMap(), this.popup = new NScout.LabelOverlay
    },
    initMap: function() {
        var e = {
            zoom: 1,
            center: this.bounds.getCenter(),
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        this.map = new google.maps.Map(document.getElementById(this.canvasId), e), this.map.fitBounds(this.bounds);
        if (this.delayedData.length > 0)
            for (var t in this.delayedData) this.addResultToMap(this.delayedData[t])
    },
    buildBound: function(e, t) {
        var n = t || .9,
            r = 1 - n,
            i = (e.ne.lat - e.sw.lat) / 2,
            s = (e.ne.lng - e.sw.lng) / 2,
            o = new google.maps.LatLng(e.sw.lat + i * r, e.sw.lng + s * r),
            u = new google.maps.LatLng(e.ne.lat - i * r, e.ne.lng - s * r);
        return new google.maps.LatLngBounds(o, u)
    },
    setClick: function(e) {
        this.clickHandler = e
    },
    addResult: function(e) {
        this.map ? this.addResultToMap(e) : this.delayedData.push(e)
    },
    addResultToMap: function(e) {
        var t = e.position;
        this.data[t] = e;
        var n = new NScout.SearchOverlay(t, e.lat, e.lng);
        n.setMap(this.map), n.hover(this.hoverOn.bind(this, t), this.hoverOff.bind(this)), n.click(this.click.bind(this, t)), this.markers.push(n)
    },
    clearMarkers: function() {
        $.each(this.markers, function(e, t) {
            t.setMap(null)
        }), this.marker = [], this.data = []
    },
    hoverOn: function(e) {
        var t = new google.maps.LatLng(this.data[e].lat, this.data[e].lng);
        this.popup.setLatLng(t), this.popup.setText(this.data[e].title), this.popup.setMap(this.map)
    },
    hoverOff: function() {
        this.popup.setMap(null)
    },
    click: function(e) {
        if (!this.clickHandler) return;
        var t = this.clickHandler,
            n = this.data[e].label,
            r = new google.maps.LatLng(this.data[e].lat, this.data[e].lng),
            i = new NScout.TempOverlay(r, function(e) {
                t(n, e)
            });
        i.setMap(this.map)
    }
};
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.MatchingSuggest = function(e) {
    this.init(e)
}, NScout.Map.MatchingSuggest.prototype = $.extend({}, new NScout.Map.Base, {
    dataURL: "/search.json",
    init: function(e) {
        this.bounds = this.buildBound(e.bounds), this.initMap(google.maps.MapTypeId.ROADMAP), this.initLabel(), this.loadData()
    },
    loadData: function() {
        $.getJSON(this.dataURL, this.handleData.bind(this))
    },
    handleData: function(e) {
        this.zipPolygon = e.zip_polygon, this.setInitialGeometry(e.polygons), this.colors = e.colors, this.labels = e.labels, this.buildCluster(), this.addZipPolygon()
    },
    fireClick: function() {
        window.search_forms.matching_search_form.setNhoodId(this.currentPolygon)
    }
});
var NScout = NScout || {};
NScout.TempOverlay = function(e, t) {
    this.latLng = e, this.callback = t
}, NScout.TempOverlay.prototype = new google.maps.OverlayView, NScout.TempOverlay.prototype.draw = function() {
    if (this.latLng && this.callback) {
        var e = $(this.getMap().getDiv()),
            t = e.offset(),
            n = e.width(),
            r = e.height(),
            i = this.getProjection().fromLatLngToContainerPixel(this.latLng);
        i.x < 0 && (i.x = 0), i.y < 0 && (i.y = 0), i.x > n && (i.x = n), i.y > r && (i.y = r), this.callback({
            top: t.top + i.y,
            left: t.left + i.x,
            topMax: t.top + r,
            widthMax: t.left + n
        }), this.callback = null, this.latLng = null
    }
}, NScout.LabelOverlay = function() {
    var e;
    this.events = {}, this.offset = {
        top: 30,
        right: 0,
        bottom: 30,
        left: 75
    }, this.setText = function(e) {
        this.txt = e
    }, this.setLatLng = function(e) {
        this.latLng = e
    }, this.setHover = function(e, t) {
        this.hoverFx1 = e, this.hoverFx2 = t
    }, this.setClick = function(e) {
        this.clickFx = e
    }, this.onAdd = function() {
        this.createDiv();
        var e = this.getPanes().floatPane;
        e.appendChild(this.div[0]), this.div.css({
            position: "absolute"
        }), this.hoverFx1 && this.div.bind("mouseover", this.hoverFx1), this.hoverFx2 && this.div.bind("mouseout", this.hoverFx2), this.clickFx && this.div.bind("click touchstart", this.clickFx), this.events.show && this.events.show.call()
    }, this.createDiv = function() {
        this.div = $("<div />").addClass("mapTooltip"), this.div.append($("<div />").addClass("zoom-marker")), this.div.append($("<div />").addClass("text").html(this.txt))
    }, this.removeDiv = function() {
        this.div.remove()
    }, this.onRemove = function() {
        this.removeDiv(), this.events.hide && this.events.hide.call()
    }, this.draw = function() {
        var e = this.getProjection(),
            t = $(this.getMap().getDiv()),
            n = {
                width: t.width(),
                height: t.height()
            },
            r = this.div.find(".text"),
            i = {
                width: r.outerWidth(!1) + 20,
                height: r.outerHeight(!1)
            },
            s = e.fromLatLngToContainerPixel(this.latLng);
        s.x += 2, s.y -= 2 + i.height, s.x < this.offset.left && (s.x = this.offset.left), s.x > n.width - i.width && (s.x = n.width - i.width), s.y < this.offset.top && (s.y = this.offset.top), s.y > n.height - i.height - this.offset.bottom && (s.y = n.height - i.height - this.offset.bottom);
        var o = e.fromLatLngToDivPixel(e.fromContainerPixelToLatLng(s));
        this.div.css({
            top: o.y + "px",
            left: o.x + "px"
        })
    }, this.addEvent = function(e, t) {
        this.events[e] = t
    }
}, NScout.LabelOverlay.prototype = new google.maps.OverlayView, NScout.SearchOverlay = function(e, t, n) {
    this.init(e, t, n)
}, NScout.SearchOverlay.prototype = $.extend({}, new google.maps.OverlayView, {
    init: function(e, t, n) {
        this.center = new google.maps.LatLng(t, n), this.text = e
    },
    draw: function() {
        var e = this.getProjection(),
            t = e.fromLatLngToDivPixel(this.center);
        this.div.css({
            top: t.y - this.div.outerHeight(!1) / 2,
            left: t.x - this.div.outerWidth(!1) / 2
        })
    },
    onAdd: function() {
        var e = $(this.getPanes().floatPane),
            t = this.text.toString().length;
        t < 1 && (t = 1), t > 3 && (t = 3), this.div = $("<div />").addClass("searchLabel").addClass("search-label-digit-" + t).html(this.text), this.storedHover && this.div.hover(this.storedHover[0], this.storedHover[1]), this.storedClick && this.div.click(this.storedClick), e.append(this.div)
    },
    onRemove: function() {
        this.div.remove()
    },
    hover: function(e, t) {
        this.div ? this.div.hover(e, t) : this.storedHover = [e, t]
    },
    click: function(e) {
        this.div ? this.div.click(e) : this.storedClick = e
    }
});
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Sidebar = function(e) {
    this.init(e)
}, NScout.Map.Sidebar.prototype = {
    init: function(e) {
        this.container = $("div[rel=map-sidebar]");
        if (this.container.length < 1) return;
        this.map = e, this.variant = e.variant, this.variant !== "labels" && this.variant != "search_result" && (this.container.delegate("td", "mouseover", this.linkHoverOn.bind(this)), this.container.delegate("td", "mouseout", this.linkHoverOff.bind(this))), this.container.delegate(".search-paginator a", "click", this.pageLinkClick.bind(this)), this.updateMap()
    },
    pageLinkClick: function(e) {
        e.preventDefault(), href = $(e.target).attr("href") || $(e.target).parent().attr("href"), this.getSidebar(href)
    },
    getSidebar: function(e) {
        $.get(e, {
            variant: this.variant
        }, this.updateSidebar.bind(this), "html")
    },
    updateSidebar: function(e) {
        this.container.html(e), this.updateMap()
    },
    updateMap: function() {
        if (this.variant !== "labels") return;
        this.map.clearMarkers();
        var e = this.map;
        $("tr", this.container).each(function() {
            var t = $(this),
                n = t.attr("data-title"),
                r = {
                    full_name: n,
                    text: t.attr("data-txt-search"),
                    url: t.attr("data-path"),
                    type: t.attr("data-type")
                },
                i = t.attr("data-home-listing-partner");
            i && i.length > 0 && (r.home_listing_partner_zip = i), data = {
                position: parseInt(t.attr("data-position"), 10),
                lat: parseFloat(t.attr("data-lat")),
                lng: parseFloat(t.attr("data-lng")),
                title: n,
                label: r
            }, e.addResult(data)
        })
    },
    linkHoverOn: function(e) {
        var t = $(e.target).closest("tr"),
            n = t.data("full-title") || t.data("title");
        this.map.highlightByName(n)
    },
    linkHoverOff: function() {
        this.map.unHighlightByName()
    },
    hover: function(e) {
        if (this.map == undefined) return;
        var t, n = this.map.mapType === "Search" ? "data-title" : "data-full-title";
        t = this.container.find("tr[" + n + '="' + e + '"]'), t.addClass("hover")
    },
    unhover: function() {
        if (this.map == undefined) return;
        this.container.find('tr[class="hover"]').removeClass("hover")
    }
};
var NScout = NScout || {};
NScout.Map = NScout.Map || {}, NScout.Map.Utils = {
    markCurrentSearchResult: function() {
        var e = location.pathname.split("#")[0];
        $('.search-sidebar tr[data-path="' + e + '"]').addClass("current")
    },
    initMap: function() {
        if (window.mapOptions) {
            var e;
            window.mapOptions.variant === "search_result" ? e = NScout.Map.SearchResult : window.mapOptions.variant === "search" ? window.mapOptions.data.count >= NScout.Map.Utils.polygonLimit() || window.mapOptions.data.statewide ? e = NScout.Map.SearchLabels : e = NScout.Map.SearchPolygons : e = NScout.Map[window.mapOptions.variant], window.map = new e(mapOptions.data), window.map.sidebar = new NScout.Map.Sidebar(window.map)
        }
    },
    polygonLimit: function() {
        return 1e3
    },
    lowResLimit: function() {
        return 25e3
    }
};
var NScout = NScout || {};
Function.prototype.bind || (Function.prototype.bind = function(e) {
        var t = [].slice,
            n = t.call(arguments, 1),
            r = this,
            i = function() {},
            s = function() {
                return r.apply(this instanceof i ? this : e || {}, n.concat(t.call(arguments)))
            };
        return i.prototype = r.prototype, s.prototype = new i, s
    }), $.fn.selectbox_changed = function(e) {
        var t = $(this),
            n;
        return t.change(e), t.keyup(function(r) {
            var i = r.keyCode;
            if (i == 38 || i == 40 || i == 13 || i >= 65 && i <= 90) t.attr("loading") == "loading" ? clearTimeout(n) : t.attr("loading", "loading"), n = setTimeout(function() {
                t.attr("loading", ""), e()
            }, 500);
            return !0
        }), !0
    }, NScout.Util = {
        findUniques: function(e) {
            var t = {},
                n = [];
            for (var r = 0; r < e.length; ++r) e[r] in t || (n.push(e[r]), t[e[r]] = 1);
            return n
        },
        cleanArray: function(e) {
            for (var t = 0; t < e.length; t++) "" == e[t] && (e.splice(t, 1), t--);
            return e
        },
        splitCol: function() {
            $(".splitcol").each(function(e) {
                var t = Math.round($(this).find("li").size() / 2);
                $(this).find("li").each(function(e) {
                    e >= t && $(this).addClass("splitcol_right")
                }), $(this).find(".splitcol_right").insertAfter(this).wrapAll("<ul class='left'></ul>")
            })
        },
        remove_elements_with_indexes: function(e, t) {
            var n = [];
            for (var r = 0; r < e.length; r++) $.inArray(r, t) < 0 && n.push(e[r]);
            return n
        }
    }, NScout.Fancybox = {
        params: {
            one: {
                width: "80%",
                height: "90%",
                autoScale: !0,
                titleShow: !1,
                overlayColor: "#000",
                overlayOpacity: .5,
                transitionIn: "elastic",
                transitionOut: "elastic",
                type: "iframe"
            },
            two: {
                width: 400,
                height: 200,
                autoScale: !0,
                titleShow: !1,
                overlayColor: "#000",
                overlayOpacity: .1,
                transitionIn: "elastic",
                transitionOut: "elastic",
                type: "iframe"
            },
            three: {
                width: 520,
                height: 320,
                autoScale: !0,
                titleShow: !1,
                overlayColor: "#000",
                overlayOpacity: .1,
                transitionIn: "elastic",
                transitionOut: "elastic",
                type: "iframe"
            }
        },
        init: function() {
            $('body:not(.page-popup) a[href*="popup"], body:not(.page-popup) a.popup').not(".popup-message").not(".new-window").fancybox(NScout.Fancybox.params.one), $("body:not(.page-popup) a.popup-message").not(".medium").fancybox(NScout.Fancybox.params.two), $("body:not(.page-popup) a.popup-message.medium").fancybox(NScout.Fancybox.params.three);
            var e = NScout.Fancybox.params.one;
            e.href = "/popup/crime-faq/", $(".crime-faq a.crime-faq-link").fancybox(e), $("a.new-window").attr("target", "_blank"), $("a.lb").fancybox(), $("a.donation").fancybox({
                width: 580,
                height: 250,
                autoDimensions: !1
            }), $("a#i_do_not_agree").hide().before('<button id="i_do_not_agree_button">I Do Not Agree</button>'), $("#i_do_not_agree_button").click(function() {
                return $("a#i_do_not_agree").trigger("click"), !1
            }), $(".close-fancybox").click(function() {
                return parent.$.fancybox.close(), !1
            })
        }
    }, NScout.FormPlaceholder = {
        init: function() {
            !$.browser.webkit && !$.browser.mozilla && $("input[placeholder], textarea[placeholder]").blur(function() {
                var e = $(this);
                e.val() == "" && (e.val(e.attr("placeholder")), e.addClass("placeholder"))
            }).focus(function() {
                var e = $(this);
                e.removeClass("placeholder"), e.val() == e.attr("placeholder") && e.val("")
            }).each(function() {
                var e = $(this);
                if (e.val() == "" || e.val() == e.attr("placeholder")) e.val(e.attr("placeholder")), e.addClass("placeholder");
                var t = e.closest("form");
                t.length && t.submit(function() {
                    e.val() == e.attr("placeholder") && e.val("")
                })
            })
        }
    }, NScout.InlineLabels = {
        init: function() {
            $(window).bind("load", function() {
                setTimeout(function() {
                    $("label.inlined + input.input-text").each(function() {
                        $(this).val() !== "" && $(this).prev().addClass("has-text")
                    })
                }, 100)
            }), $("label.inlined + input.input-text").focus(function() {
                $(this).prev("label.inlined").addClass("focus")
            }).keypress(function() {
                $(this).prev("label.inlined").addClass("has-text").removeClass("focus")
            }).blur(function() {
                $(this).val() === "" && $(this).prev("label.inlined").removeClass("has-text").removeClass("focus")
            }).change(function() {
                $(this).val() === "" ? $(this).prev("label.inlined").removeClass("has-text").removeClass("focus") : $(this).prev("label.inlined").addClass("has-text")
            })
        }
    }, NScout.Console = {
        init: function() {
            typeof window.console == "undefined" && (window.console = {
                info: function() {},
                log: function() {}
            })
        }
    }, NScout.Flash = {
        init: function() {
            $("#flash_notice").fadeIn("slow"), $("#flash_error").fadeIn("slow"), $(".flash-message").on("click", ".flash-close", function() {
                $(this).closest(".flash-message").fadeOut()
            })
        }
    }, NScout.WindowPresets = {
        init: function() {
            window.anchor = $(document).attr("location").hash
        }
    }, NScout.Tabs = {
        init: function() {
            var e = function() {
                    var e = [];
                    $(".nav_tabs_sub").length > 0 && e.push($(".nav_tabs_sub")), $(".tab-neighborhoods").length > 0 && e.push($(".tab-neighborhoods")), $(".tab-schools").not("#school-districts-no-hqd").length > 0 && e.push($(".tab-schools").not("#school-districts-no-hqd")), $(".tab-school-districts ul.nav-school-districts").length > 0 && e.push($(".tab-school-districts")), $(e).each(function(e, t) {
                        t.tabs()
                    })
                },
                t = function(e) {
                    var t = $(".ui-tabs[data-default-tab]"),
                        n = "#content-" + t.attr("data-default-tab"),
                        r = t.find('a[href="' + n + '"]').parent().index(),
                        i = t.tabs("option", "active");
                    r != i && t.tabs("option", "active", r)
                },
                n = function() {
                    var e = document.location.hash,
                        t = /district/i.test(e) ? e : e.replace("#", "#content-"),
                        n = $('a[href="' + t + '"]').closest(".ui-tabs"),
                        r = n.find('a[href="' + t + '"]').parent().index();
                    n.tabs("option", "active", r)
                };
            e(), t(), n(), $(window).hashchange(n), $(".ui-tabs").on("tabsactivate", function(e, t) {
                var n = t.newPanel.selector.replace(/^#(content-)?(.+)$/, "$2");
                document.location.hash = n
            })
        }
    }, NScout.BuySellRequest = function() {
        var e = {
                fname: "First name",
                lname: "Last name",
                email_confirmation: "Retype email",
                email: "Email",
                city: "City",
                state: "State",
                phonetime: "Best time to call",
                b_city: "City to buy in",
                b_state: "State to buy in",
                b_proptype: "Type of property",
                loan_purpose: "This property is for",
                b_price: "Your price range",
                b_time: "Buying time frame",
                rate_your_credit: "How would you rate your credit?",
                s_price: "Desired selling price",
                s_time: "What is your time frame for selling?",
                s_proptype: "What type of property do you want to sell?",
                s_street: "Street Address of property",
                s_city: "City to sell in",
                s_state: "State to sell in",
                zip: "Zip",
                s_loc: "Type of neighborhood where property is located",
                day_phone: "Please enter at least one phone number",
                eve_phone: "Please enter at least one phone number",
                exclusive: "Have you signed an exclusive agreement to work with an agent for your upcoming transaction?",
                have_agent: "If your move is job related, does your company provide you with a real estate agent? "
            },
            t = function(t) {
                var n = [],
                    r = [];
                for (key in t) switch (t[key][0]) {
                    case "can't be blank":
                        n.push(key);
                        break;
                    case "is invalid":
                        r.push(key);
                        break;
                    case "doesn't match":
                        $('label[for="buy_sell_request_email"], label[for="buy_sell_request_email_confirmation"]').append('<br /><span style="color:red;">Email addresses must match</span>'), $("#buy_sell_request_email, #buy_sell_request_email_confirmation").css("background", "yellow")
                }
                if (n.length > 0) {
                    var i = [];
                    for (var s = 0; s < n.length; s++) {
                        var o = "buy_sell_request_" + n[s];
                        $('label[for="' + o + '"]').append('<br /><span style="color:red;">Required field</span>'), $("#" + o).css("background", "yellow"), i.push("- " + e[n[s]])
                    }
                    alert("Required fields missing:\n\n" + $.unique(i).join("\n"))
                }
                if (r.length > 0)
                    for (var s = 0; s < r.length; s++) {
                        var u = r[s],
                            o = "buy_sell_request_" + u;
                        $('label[for="' + o + '"]').append('<br /><span style="color:red;">This is not a valid ' + u + "</span>"), $("#" + o).css("background", "yellow")
                    }
            },
            n = function() {
                $("#buy_sell_request_b_price").change(function() {
                    $(this).val() == "$0 - $99,999" && (params = NScout.Fancybox.params.two, params.width = 460, params.href = "/popup/find-house/pricerange_buy/", $.fancybox(params), $(this).val(""))
                }), $("#buy_sell_request_s_price").change(function() {
                    $(this).val() == "$0 - $59,999" && (params = NScout.Fancybox.params.two, params.width = 460, params.href = "/popup/find-house/pricerange_sell/", $.fancybox(params), $(this).val(""))
                }), $("#buy_sell_request_b_time").change(function() {
                    $(this).val() == "More than 6 months" && (params = NScout.Fancybox.params.three, params.href = "/popup/find-house/6months_buy/", $.fancybox(params), $(this).val(""))
                }), $("#buy_sell_request_s_time").change(function() {
                    $(this).val() == "More than 6 months" && (params = NScout.Fancybox.params.three, params.href = "/popup/find-house/6months_sell/", $.fancybox(params), $(this).val(""))
                }), $("#buy_sell_request_s_state, #buy_sell_request_b_state").change(function() {
                    var e = "AK|IA|KS|LA|MO|MS|OK".split("|");
                    $.inArray($(this).val(), e) != -1 && (params = NScout.Fancybox.params.two, params.width = 480, params.height = 250, params.href = "/buy_sell_requests/state-warning", $.fancybox(params))
                }), $("#buy_sell_request_exclusive").change(function() {
                    $(this).val() == "true" && (params = NScout.Fancybox.params.two, params.width = 500, params.height = 260, params.href = "/popup/find-house/exclusive.html", $.fancybox(params), $(this).val(""))
                }), $("#buy_sell_request_have_agent").change(function() {
                    $(this).val() == "true" && (params = NScout.Fancybox.params.two, params.width = 500, params.height = 260, params.href = "/popup/find-house/have-agent.html", $.fancybox(params), $(this).val(""))
                }), $("#new_buy_sell_request").submit(function() {
                    var e = $("#buy_sell_request_accept_terms").prop("checked");
                    return e || alert("Please agree to the Terms and Conditions before continuing."), e
                }), $("a.close_fancybox_button").click(function() {
                    return parent.$.fancybox.close(), !1
                }), $("a.redirect_parent_to_button").click(function() {
                    return parent.location.pathname = $(this).attr("href"), !1
                })
            };
        return {
            init: n,
            showErrors: t
        }
    }(), NScout.ZebraTable = {
        init: function() {
            $.fn.setOddRowClass = function(e) {
                var t = 0,
                    e = e || "oddRow";
                $(this).find("tbody tr").each(function(n, r) {
                    $(r).css("display") != "none" && (t += 1), t % 2 == 0 ? $(r).addClass(e) : $(r).removeClass(e)
                })
            }, $("table.zebra").setOddRowClass()
        }
    }, NScout.PackagesForm = function() {
        var e, t = function(t) {
                var t = t || 500,
                    n = $(".packages-wrapper"),
                    r = n.find("table");
                return e = r.height(), n.css("height", e), r.find("tr.windowShade").fadeIn(t), n.animate({
                    height: r.height()
                }, t), r.setOddRowClass(), $(".packages-wrapper")
            },
            n = function(t) {
                var t = t || 500,
                    n = $(".packages-wrapper"),
                    r = n.find("table");
                r.find("tr.windowShade").fadeOut(t), n.animate({
                    height: e
                }, t, r.setOddRowClass)
            },
            r = function() {
                $(".show_more a").click(function() {
                    return $(this).hasClass("hide") ? (n(), $(this).html("Need more reports? See more options").removeClass("hide")) : (t(), $(this).html("See fewer options").addClass("hide")), !1
                })
            };
        return {
            init: r,
            show: t,
            hide: n
        }
    }(), NScout.DataTable = {
        init: function() {
            $("table.data-table thead").each(function() {
                cols = $(this).find("tr th").length, colspan = cols - 2, tags = "<tr class='rb-thead-top'>", tags += "<th class='first'></th>", colspan > 0 && (tags += "<th colspan='" + colspan + "'></th>"), tags += "<th class='last'></th>", tags += "</tr>", $(this).prepend(tags)
            })
        }
    }, NScout.BrokerNetworkForm = function() {
        var e, t, n, r, i, s = function() {
                e = $("#broker_network_application_service_areas_states");
                if (e.val() == undefined) return;
                t = $("#broker_network_application_service_areas_cities"), n = $("tr.step_2 button.add_areas"), r = $("tr.step_3 button.remove_areas"), i = $("#broker_network_application_service_areas").val().split(";"), o(), f(), e.change(o), n.click(u), r.click(a)
            },
            o = function() {
                var n = e.val().toLowerCase();
                if (n != "") {
                    var r = window.location.origin + "/" + n + "/searchable_cities.json";
                    t.html("").attr("disabled", !0), $.get(r, function(e) {
                        t.attr("disabled", !1), $.each(e.cities, function(e, n) {
                            var r = $("<option/>").attr("value", n[1]).html(n[0]);
                            t.append(r)
                        })
                    }), $("tr.step_2").show()
                } else $("tr.step_2").hide()
            },
            u = function() {
                var n = e.find('option[value="' + e.val() + '"]').html();
                return $.each(t.val() || [], function(e, r) {
                    var s = t.find('option[value="' + r + '"]').html();
                    i.push(s + ", " + n)
                }), i = NScout.Util.cleanArray(NScout.Util.findUniques(i)), f(), !1
            },
            a = function() {
                var e = $(".service_areas_checkboxes input:checked").map(function(e, t) {
                    return parseInt($(t).attr("value"))
                });
                return i = NScout.Util.remove_elements_with_indexes(i, $(e).get()), f(), !1
            },
            f = function() {
                var e = [],
                    t = $("tr.step_3 .service_areas_checkboxes");
                t.html(""), $.each(i, function(n, r) {
                    var i = $("<input />").attr({
                            type: "checkbox",
                            value: n
                        }),
                        s = $("<label />");
                    s.append(i), s.append(r), t.append("<br />"), t.append(s), e.push(r)
                });
                var n = $("#broker_network_application_service_areas");
                n.val(e.join(";")), n.val() != "" ? $("tr.step_3").show() : $("tr.step_3").hide()
            };
        return {
            init: s
        }
    }(), NScout.Lightbox = function(e) {
        this.init(e)
    }, NScout.Lightbox.prototype = {
        bar: null,
        _scouting: null,
        _grey_out: null,
        _w: $(window).width(),
        _h: $(window).height(),
        _size: 237,
        init: function(e) {
            var t = this;
            t._scouting = $(e), t._grey_out = $("#scouting-grey-out"), t.hide(), $(e).find(".close").click(function() {
                return t.hide(), !1
            }), $(e).find(".close_button input").click(function() {
                return t.hide(), !1
            })
        },
        show: function() {
            this._w = $(window).width(), this._h = $(window).height(), this._grey_out.width(this._w), this._grey_out.height(this._h), this._grey_out.show(), this._scouting.css("left", (this._w - this._size) / 2 + "px"), this._scouting.css("top", (this._h - this._size) / 2 + "px"), this._scouting.show();
            if (!NScout.ShareEmail.sent) {
                var e = parseInt(this._scouting.width()),
                    t = parseInt(this._scouting.height()),
                    n = parseInt(this._scouting.css("top")),
                    r = parseInt(this._scouting.css("left")),
                    i = this._scouting;
                i.css({
                    width: 0,
                    height: 0,
                    top: n + e / 2,
                    left: r + t / 2,
                    overflow: "hidden"
                }).show(), i.animate({
                    height: t,
                    width: e,
                    top: n,
                    left: r
                }, function() {
                    i.css("overflow", "visible")
                })
            }
        },
        hide: function() {
            this._scouting && (this._scouting.hide(), this._grey_out.hide())
        }
    }, NScout.Scouting = {
        bar: null,
        _scouting: null,
        _grey_out: null,
        _w: $(window).width(),
        _h: $(window).height(),
        _size: 237,
        init: function(e) {
            this._scouting = $("#scouting"), this._grey_out = $("#scouting-grey-out"), this.hide()
        },
        show: function() {
            this._w = $(window).width(), this._h = $(window).height(), this._grey_out.width(this._w), this._grey_out.height(this._h), this._grey_out.show(), this._scouting.css("left", (this._w - this._size) / 2 + "px"), this._scouting.css("top", (this._h - this._size) / 2 + "px"), this._scouting.show()
        },
        hide: function() {
            this._scouting && (this._scouting.hide(), this._grey_out.hide())
        }
    }, NScout.MovingForm = {
        radio1: null,
        radio2: null,
        init: function() {
            this.radio1 = document.form1.context[0], this.radio2 = document.form1.context[1], this.selectContext()
        },
        selectContext: function() {
            NScout.MovingForm.radio1.checked ? ($("#us_city_from").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#us_state_from").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#us_city_to").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#us_state_to").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#us1").css("color", "#000"), $("#us2").css("color", "#000"), $("#intl_move_to").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#intl_move_from").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#intl1").css("color", "#999"), $("#intl2").css("color", "#999")) : NScout.MovingForm.radio2.checked && ($("#us_city_from").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#us_state_from").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#us_city_to").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#us_state_to").css({
                backgroundColor: "#ccc",
                color: "#999"
            }).attr("disabled", "disabled"), $("#us1").css("color", "#999"), $("#us2").css("color", "#999"), $("#intl_move_to").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#intl_move_from").css({
                backgroundColor: "#fff",
                color: "#000"
            }).removeAttr("disabled"), $("#intl1").css("color", "#000"), $("#intl2").css("color", "#000"))
        },
        formAlert: function() {},
        backToWhite: function(e) {
            $(this).css("backgroundColorColor", "#fff")
        }
    }, NScout.ScrollableAnchors = {
        init: function() {
            var e = function(e) {
                    var t = $("body").height();
                    setTimeout(function() {
                        var t = $(e).offset().top - 5;
                        $("html, body").animate({
                            scrollTop: t
                        }, 500)
                    }, 10)
                },
                t = function(t) {
                    $(t).click(function(t) {
                        var n = $(this).attr("href").split("#")[1],
                            r = $('.ui-tabs-nav a[href*="' + n + '"]');
                        r || (r = $("#" + n)[0]), r || (r = $("#content-" + n)[0]);
                        if (!r) return;
                        return document.location.hash = n.replace("content-", ""), e(r), !1
                    })
                };
            t(".map-container .nav-sub li a, li.scrollable a, .home_listing_partner_widget .location-inc-link a"), $('a[href="#school-districts-hqd"], a[href="#school-districts-no-hqd"]').click(function() {
                e('.ui-tabs-nav a[href="#content-data"]')
            }), $("a.scrollable").click(function() {
                var e = $(this).attr("href");
                return setTimeout(function() {
                    var t = $(e).offset().top - 5;
                    $("html, body").animate({
                        scrollTop: t
                    }, 500)
                }, 10), !1
            })
        }
    }, NScout.QTip = {
        init: function() {
            $("[tooltip]").each(function() {
                $(this).qtip({
                    content: $(this).attr("tooltip"),
                    style: {
                        name: "cream",
                        border: {
                            width: 1
                        }
                    },
                    show: {
                        when: "mouseover"
                    },
                    hide: {
                        when: "mouseout"
                    }
                })
            }), $("span.zip-without-link").qtip({
                content: "This Zip Code is not hyperlinked because is it solely within this census tract.",
                show: {
                    when: "mouseover"
                },
                hide: {
                    when: "mouseout"
                }
            })
        }
    }, NScout.FormsValidate = {
        init: function() {
            $("form.validate").validate()
        }
    }, NScout.Formtastic = {
        moveErrorsBeforeInputs: function(e) {
            var t = ".inline-errors",
                n = "select ~ " + t + ", " + "radio ~ " + t + ", " + "textarea ~ " + t + ", " + "input ~ " + t,
                r = "> input, > select, > radio, > textarea";
            e.find(n).each(function() {
                var e = $(this),
                    t = e.parent().find(r).first();
                e.detach().insertBefore(t)
            })
        }
    }, NScout.SubscriptionForm = {
        init: function() {
            this.form = $("form.formtastic.billable_subscription");
            if (this.there_are_errors()) {
                NScout.Formtastic.moveErrorsBeforeInputs(this.form), this.copy_confirmation_errors(), alert("Required field missing.");
                if ($(".user-account section#update-billing-information").length) return $(".user-account section#update-billing-information").show(), $("html, body").animate({
                    scrollTop: $("section#update-billing-information").offset().top
                }, 1e3), !1
            }
            this.form.submit(function() {
                $("span.please_wait").show(), $("form.billable_subscription input[name=commit]").hide()
            }), this.form.find("li.country select").change(function() {
                return $.get("/subscription/state_zip/" + $(this).val() + "/", function(e) {
                    $("li.half").remove(), $("form fieldset.address li.city").after(e)
                }), !1
            })
        },
        there_are_errors: function() {
            var e = this.form.find(".inline-errors").not(":empty");
            return e.length > 0
        },
        copy_confirmation_errors: function() {
            var e = this.form.find('input[name*="_confirmation"]'),
                t = this;
            $.each(e, function(e, n) {
                var r = $(n).attr("name").replace("_confirmation", ""),
                    i = t.form.find('input[name="' + r + '"]'),
                    s = i.parent().find(".inline-errors"),
                    o = s.text();
                o && ($(n).parent().find(".inline-errors").remove(), $(n).before(s.clone()))
            })
        }
    }, NScout.NoHrefLinks = {
        init: function() {
            var e = this.decrypt_path,
                t = this.add_params,
                n = function(e) {
                    return $(e).closest("table").parent().hasClass("infoTooltip")
                },
                r = function() {
                    return location.href.match(/home_listing_partners/)
                };
            $("a[no-href]").on("click", function() {
                var r = $(this),
                    i = r.attr("no-href");
                return n(this) || (i = e(i)), r.attr("target") != "_parent" && (r.attr("target", "_blank"), i = t(i, {
                    referral_url: encodeURIComponent(location.href)
                })), window.open(i, r.attr("target")), !1
            })
        },
        decrypt_path: function(e) {
            return $.map(e.split(""), function(e) {
                return String.fromCharCode(e.charCodeAt(0) - 1)
            }).join("")
        },
        add_params: function(e, t) {
            var n = e.split("?")[0],
                r = e.split("?")[1],
                i = r ? r.split("&") : [];
            $.each(t, function(e, t) {
                var n = e + "=" + t;
                i.push(n)
            });
            var s = i.join("&");
            return n + (s && "?" + s)
        }
    }, jQuery(document).ready(function() {
        NScout.WindowPresets.init(), NScout.Tabs.init(), NScout.Fancybox.init(), NScout.FormPlaceholder.init(), NScout.FormsValidate.init(), NScout.InlineLabels.init(), NScout.Console.init(), NScout.Flash.init(), new NScout.ReportSearchForm, window.search_forms = {
            feature_search_form: new NScout.FeatureSearchForm({
                el: "#new_feature_search"
            }),
            matching_search_form: new NScout.MatchSearchForm({
                el: "#new_matching_search"
            })
        }, new NScout.SearchSummary, NScout.AdvancedSearchPageToggle.init(".advanced-search"), NScout.ScrollableAnchors.init(), NScout.BuySellRequest.init(), NScout.ZebraTable.init(), NScout.PackagesForm.init(), NScout.SubscriptionForm.init(), NScout.BrokerNetworkForm.init(), NScout.NoHrefLinks.init(), NScout.Map && NScout.Map.Utils.initMap(), NScout.LocationToolTip.init(), new NScout.LockedWidgets, new NScout.LockedSchoolRating, NScout.Scouting.init(), new NScout.SignUpPrompt({
            config: {
                logged_in: $("body").data("logged-in")
            }
        }), NScout.SubscribePopup = new NScout.SubscribePrompt, NScout.DataTable.init(), NScout.QTip.init(), new NScout.SessionLinks, new NScout.MyAccount, new NScout.NeighborhoodDemographics, new NScout.NeighborhoodRealEstate, new NScout.NeighborhoodSchools, new NScout.CitySchools, new NScout.NeighborhoodOriginalHeader, new NScout.SecondaryNav, new NScout.QuaternaryHeader, new NScout.ShareEmails, new NScout.NeighborhoodQuaternaryHeader, new NScout.NeighborhoodFooter, new NScout.NeighborhoodTabset, new NScout.SavedItem, $("li.clickable[data-href]").click(function() {
            window.location.href = $(this).data("href")
        }), new NScout.HomeListingPartnerWidget, window.search_forms.feature_search_form.present && window.search_forms.feature_search_form.setupFields(), window.search_forms.matching_search_form.present && window.search_forms.matching_search_form.setupFields()
    }),
    function() {
        window.JST == null && (window.JST = {}), window.JST.advanced_search_announcement = function(e) {
            return function() {
                var e;
                return e = [], e.push("<header>\n  <div class='arrow'>\n    <div class='inner'></div>\n    <div class='outer'></div>\n  </div>\n  <h2>NEW! Advanced Search</h2>\n  <button class='dismiss'></button>\n</header>\n<p>\n  Our NEW patented Advanced Search instantly reveals the best neighborhoods\n  for you, based on criteria you choose. You can create your ideal\n  neighborhood using hundreds of options, or as few as one. For Home buyers,\n  investors, businesses, and research.\n</p>\n<p>\n  <img src='/assets/advanced_search_thumbnail.jpg'>\n</p>\n<footer>\n  <a href='/advanced-search'>Give it a try!</a>\n  <br>\n  <a class='dismiss' href=''>No, maybe later</a>\n</footer>"), e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST.cancel_warn = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='content'>\n  <h2 class='head'>\n    <div class='title'>"), this.bookmarking ? n.push("      Please note:") : n.push("      Cancel account"), n.push("    </div>\n    <div class='close-button'></div>\n  </h2>\n  <div class='body'>"), this.bookmarking && n.push("    <p>\n      If cancelled, you will lose all of your Saved Places and Saved Searches when\n      your Plan expires on " + this.expiry + ".\n    </p>\n    <p class='strong'>This cannot be undone.</p>"), n.push("  </div>\n  <section class='foot'>\n    <p>Are you sure you want to cancel?</p>\n    <a class='no' href='#'>"), this.bookmarking ? n.push("      No, don't delete my libaray!") : n.push("      No, don't delete my subscription!"), n.push("    </a>\n    <a class='button yes' href='" + t(e(this.path)) + "' data-method='delete' rel='nofollow'>\n      Yes, I no longer need the subscription\n    </a>\n  </section>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        var e = [].slice;
        window.HAML = function() {
            function t() {}
            return t.escape = function(e) {
                return ("" + e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/\//g, "&#47;")
            }, t.cleanValue = function(e) {
                switch (e) {
                    case null:
                    case void 0:
                        return "";
                    case !0:
                    case !1:
                        return "Â“" + e;
                    default:
                        return e
                }
            }, t.extend = function() {
                var t, n, r, i, s, o, u;
                n = arguments[0], i = 2 <= arguments.length ? e.call(arguments, 1) : [];
                for (o = 0, u = i.length; o < u; o++) {
                    r = i[o];
                    for (t in r) s = r[t], n[t] = s
                }
                return n
            }, t.globals = function() {
                return {}
            }, t.context = function(e) {
                return this.extend({}, t.globals(), e)
            }, t.preserve = function(e) {
                return e.replace(/\n/g, "&#x000A;")
            }, t.findAndPreserve = function(e) {
                var t;
                return t = "textarea,pre".split(",").join("|"), e = e.replace(/\r/g, "").replace(RegExp("<(" + t + ")>([\\s\\S]*?)</\\1>", "g"), function(e, t, n) {
                    return "<" + t + ">" + window.HAML.preserve(n) + "</" + t + ">"
                })
            }, t.surround = function(e, t, n) {
                var r;
                return e + ((r = n.call(this)) != null ? r.replace(/^\s+|\s+$/g, "") : void 0) + t
            }, t.succeed = function(e, t) {
                var n;
                return ((n = t.call(this)) != null ? n.replace(/\s+$/g, "") : void 0) + e
            }, t.precede = function(e, t) {
                var n;
                return e + ((n = t.call(this)) != null ? n.replace(/^\s+/g, "") : void 0)
            }, t.reference = function(e, t) {
                var n, r, i, s;
                r = t ? t + "_" : "", typeof e.hamlObjectRef == "function" ? r += e.hamlObjectRef() : r += (((s = e.constructor) != null ? s.name : void 0) || "object").replace(/\W+/g, "_").replace(/([a-z\d])([A-Z])/g, "$1_$2").toLowerCase(), n = typeof e.to_key == "function" ? e.to_key() : typeof e.id == "function" ? e.id() : e.id ? e.id : e, i = "class='" + r + "'";
                if (n) return i += " id='" + r + "_" + n + "'"
            }, t
        }()
    }.call(this),
    function() {}.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["feature_search/errors"] = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='flash-message rounded_corners' id='flash_error'>\n  <div class='flash-close'>&times;</div>"), _.each(this.flashMessage.split(/<br>/), function(r) {
                    return n.push("  " + t(e(r))), n.push("  <br>"), ""
                }), n.push("</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["feature_search/summary"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, C, k, L, A, O, M, _, D, P, H, B, j, F, I, q, R, U, z, W, X;
                e = window.HAML.cleanValue, t = [], t.push("<div class='header-bar'></div>\n<div class='summary-columns'>"), u = NScout.FeatureDescriptions.locationFeatureSummary(this.values), r = NScout.FeatureDescriptions.costFeatureSummary(this.values), n = NScout.FeatureDescriptions.appreciationFeatureSummary(this.values), i = NScout.FeatureDescriptions.crimeFeatureSummary(this.values), o = NScout.FeatureDescriptions.lifestyleSummary(this.values), l = NScout.FeatureDescriptions.schoolFeatureSummary(this.values), f = NScout.FeatureDescriptions.neighborhoodFeatureSummary(this.values), a = NScout.FeatureDescriptions.neighborsFeatureSummary(this.values), u && (t.push("  <div class='column location'>\n    <div class='head'>\n      Search Area\n    </div>\n    <div class='body'>\n      <div class='description'>"), t.push("        " + e(u)), t.push("      </div>\n    </div>\n  </div>"));
                if (r.length) {
                    t.push("  <div class='column cost'>\n    <div class='head'>\n      Cost\n    </div>\n    <div class='body'>"), H = r.slice(0, 2);
                    for (c = 0, v = H.length; c < v; c++) s = H[c], t.push("      <div class='description'>" + e(s) + "</div>");
                    if (r.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (r.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (h = 0, m = r.length; h < m; h++) s = r[h], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (n.length) {
                    t.push("  <div class='appreciation column'>\n    <div class='head'>\n      Appreciation\n    </div>\n    <div class='body'>"), B = n.slice(0, 2);
                    for (p = 0, E = B.length; p < E; p++) s = B[p], t.push("      <div class='description'>" + e(s) + "</div>");
                    if (n.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (n.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (d = 0, S = n.length; d < S; d++) s = n[d], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (i.length) {
                    t.push("  <div class='column crime'>\n    <div class='head'>\n      Crime\n    </div>\n    <div class='body'>"), j = i.slice(0, 2);
                    for (A = 0, x = j.length; A < x; A++) s = j[A], t.push("      <div class='description'>"), t.push("        " + e(s)), t.push("      </div>");
                    if (i.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (i.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (O = 0, T = i.length; O < T; O++) s = i[O], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (l.length) {
                    t.push("  <div class='column school'>\n    <div class='head'>\n      Schools\n    </div>\n    <div class='body'>"), F = l.slice(0, 2);
                    for (M = 0, N = F.length; M < N; M++) s = F[M], t.push("      <div class='description'>"), t.push("        " + e(s)), t.push("      </div>");
                    if (l.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (l.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (_ = 0, C = l.length; _ < C; _++) s = l[_], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (f.length) {
                    t.push("  <div class='column neighborhood'>\n    <div class='head'>\n      Neighborhood\n    </div>\n    <div class='body'>"), I = f.slice(0, 2);
                    for (D = 0, k = I.length; D < k; D++) s = I[D], t.push("      <div class='description'>"), t.push("        " + e(s)), t.push("      </div>");
                    if (f.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (f.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (P = 0, L = f.length; P < L; P++) s = f[P], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (o.length) {
                    t.push("  <div class='column lifestyle'>\n    <div class='head'>\n      Lifestyle\n    </div>\n    <div class='body'>"), q = o.slice(0, 2);
                    for (U = 0, g = q.length; U < g; U++) s = q[U], t.push("      <div class='description'>"), t.push("        " + e(s)), t.push("      </div>");
                    if (o.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (o.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (z = 0, y = o.length; z < y; z++) s = o[z], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                if (a.length) {
                    t.push("  <div class='column neighbor'>\n    <div class='head'>\n      The Neighbors / Demographics\n    </div>\n    <div class='body'>"), R = a.slice(0, 2);
                    for (W = 0, b = R.length; W < b; W++) s = R[W], t.push("      <div class='description'>"), t.push("        " + e(s)), t.push("      </div>");
                    if (a.length > 2) {
                        t.push("      <div class='plus'>\n        Plus " + (a.length - 2) + " more...\n      </div>\n      <div class='full_description'>\n        <ul>");
                        for (X = 0, w = a.length; X < w; X++) s = a[X], t.push("          <li>" + e(s) + "</li>");
                        t.push("        </ul>\n      </div>")
                    }
                    t.push("    </div>\n  </div>")
                }
                return t.push("</div>"), t.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["feature_search/tooltip"] = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='top'>\n  <div class='title'>"), n.push("    " + t(e(this.title))), n.push("  </div>\n  <div class='close-button faq'></div>\n</div>\n<div class='bottom'>"), n.push("  " + e(this.text)), n.push("</div>\n<div class='arrow'>\n  <div class='inner'></div>\n  <div class='outer'></div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/age"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Ages</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").age;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/average_income"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Average Income</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Income</h2>"), a = I18n.t("nscout.feature_search.help_text").income_level;
                for (i = 0, o = a.length; i < o; i++) r = a[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Income Trend: Avg. Annual Change</h2>"), f = I18n.t("nscout.feature_search.help_text").income_trend;
                for (s = 0, u = f.length; s < u; s++) r = f[s], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/common_ancestries"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Ancestries</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").common_ancestries;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/commute"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Commute to Work</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Means of Transport</h2>"), l = I18n.t("nscout.feature_search.help_text").means_of_transport;
                for (i = 0, u = l.length; i < u; i++) r = l[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Average One-Way Commute Time</h2>"), c = I18n.t("nscout.feature_search.help_text").commute_time;
                for (s = 0, a = c.length; s < a; s++) r = c[s], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Vehicles Per Household</h2>"), h = I18n.t("nscout.feature_search.help_text").vehicles_per_household;
                for (o = 0, f = h.length; o < f; o++) r = h[o], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/education"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Education</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Percent of Adults with College Degree</h2>"), l = I18n.t("nscout.feature_search.help_text").college_degree;
                for (i = 0, u = l.length; i < u; i++) r = l[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Percent of Adults with Advanced Degree</h2>"), c = I18n.t("nscout.feature_search.help_text").advanced_degree;
                for (s = 0, a = c.length; s < a; s++) r = c[s], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Avg. Annual Change in College Graduates</h2>"), h = I18n.t("nscout.feature_search.help_text").education_trend;
                for (o = 0, f = h.length; o < f; o++) r = h[o], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/household_type"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Household Type</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").household_type;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/industry_sector"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Top Industries / Sectors</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").industry_sector;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/languages_spoken"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Languages Spoken</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").languages_spoken;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/marital_status"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Marital Status</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").marital_status;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/migration_mobility"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Migration &amp; Mobility</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Percent of Residents Moving Last Year</h2>"), l = I18n.t("nscout.feature_search.help_text").residents_moving;
                for (i = 0, u = l.length; i < u; i++) r = l[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Percent of Residents Born Out of State</h2>"), c = I18n.t("nscout.feature_search.help_text").residents_born_out_of_state;
                for (s = 0, a = c.length; s < a; s++) r = c[s], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Percent of Residents Foreign Born</h2>"), h = I18n.t("nscout.feature_search.help_text").residents_foreign_born;
                for (o = 0, f = h.length; o < f; o++) r = h[o], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/military_college"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Military &amp; College Status</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Percent Currently Active in the Military</h2>"), a = I18n.t("nscout.feature_search.help_text").currently_military;
                for (i = 0, o = a.length; i < o; i++) r = a[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Percent Currently at College / University</h2>"), f = I18n.t("nscout.feature_search.help_text").currently_college;
                for (s = 0, u = f.length; s < u; s++) r = f[s], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/occupation"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Occupations</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").occupation;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/racial_diversity"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Race / Ethnic Diversity</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Race / Ethnicity</h2>"), a = I18n.t("nscout.feature_search.help_text").race_ethnic;
                for (i = 0, o = a.length; i < o; i++) r = a[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Racial Diversity</h2>"), f = I18n.t("nscout.feature_search.help_text").racial_diversity_short;
                for (s = 0, u = f.length; s < u; s++) r = f[s], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/special_character"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Special Character</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").special_character;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/demographics/unemployment_rate"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Unemployment Rate</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").unemployment_rate;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/faq"] = function(e) {
            return function() {
                var e;
                return e = [], e.push("<div class='help-text'>\n  <div class='arrow'>\n    <div class='border'></div>\n    <div class='inner'></div>\n  </div>\n  <div class='top'>\n    <div class='title'>What do we mean by a neighborhood?</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>What do we mean by a neighborhood?</h2>\n    <p>\n      NeighborhoodScout&reg; uses the official government designation for\n      neighborhoods - the census tract.\n    </p>\n    <p>\n      Census tracts are small, relatively permanent subdivisions of a county\n      that are defined by the U.S. Census Bureau in conjunction with local\n      authorities all across the country to define real neighborhoods that are\n      bounded to contain areas with homogeneous population characteristics\n      (including economic status, lifestyle, and living conditions). Census\n      tracts usually have 4,000 persons, but can range between 1,500 and 8,000\n      persons. This is the most fine-grained area for which detailed information\n      is made available from the government, to protect the individual privacy\n      of each of us. Because census tracts are based on population, they vary\n      in size depending on the density of settlement. In urban areas, they are\n      small, and in rural areas they can cover an entire small town or even a\n      few small towns in very rural areas.\n    </p>\n    <p>\n      Since census tracts are subdivisions of a county, we did a spatial overlay\n      of the census tracts onto city and town boundaries using a geographic\n      information system to properly assign each census tract to its appropriate\n      city or town. Then we named each census tract to the local colloquially\n      recognized neighborhood name for that spot (e.g., Boston, MA (Dorchester).\n      If there was not a name available, we named the census tract by the largest\n      street intersection in the census tract (e.g., Worcester, MA\n      (Lincoln St/Plantation St).\n    </p>\n    <h2>Why we don't use Zip Codes as neighborhoods</h2>\n    <p>\n      Zip codes were developed by the Postal Service for the purpose of delivering\n      mail, but were never intended to define coherent neighborhoods. In addition,\n      Zip Codes can have as many as 10 distinctly different census tracts contained\n      within them. When distinct census tracts are blended together in a single\n      Zip Code, the data reflects their average conditions and often gives a\n      false sense of the area. The result is that potentially great matching\n      neighborhoods can be missed, and erroneous matches can also be produced\n      and delivered to you.\n    </p>\n    <p>\n      Using census tracts makes great matches possible, and helps people find\n      the areas that are best for them and their families. Because we are\n      committed to providing the highest possible quality and finding the\n      neighborhoods that best meet your criteria, we use census tracts. And, as\n      always, we show you the actual street map of the neighborhood so you know\n      exactly where your best matching neighborhood is located.\n    </p>\n  </div>\n</div>"), e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/appreciation_rate"] = function(e) {
            return function() {
                var e;
                return e = [], e.push("<div class='help-text'>\n  <div class='arrow'>\n    <div class='border'></div>\n    <div class='inner'></div>\n  </div>\n  <div class='top'>\n    <div class='title'>Appreciation Rates</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>NeighborhoodScout's<sup>&reg;</sup> Exclusive Home Appreciation Rates</h2>\n    <p>\n      NeighborhoodScout reveals the home appreciation rates for every city, town,\n      and even most neighborhoods in America.\n    </p>\n    <p>\n      NeighborhoodScout has calculated and provides home appreciation rates as a\n      percentage change in the resale value of existing homes in that city, town\n      or neighborhood over the latest quarter, the last year, 2-years, 5-years,\n      10-years, and even from 1990 to present.  We show both the cumulative\n      appreciation rate, and the average annual appreciation rate for each time\n      period (e.g., last 5-years: 84% total appreciation, Avg. per year: 16.8%).\n      We also show how each city, town or neighborhood's appreciation rate compares\n      to other cities, towns and neighborhoods in the nation, and within the same\n      state (e.g., 9 relative to the nation, 5 relative to California [10 is highest]).\n      This makes comparisons of house appreciation rates equally easy for professional\n      investors and individual homebuyers. In this example, the neighborhood is\n      one of the highest appreciating in the nation over the last 5-years, but is\n      only average in appreciation for the same period relative to other neighborhoods\n      in the state of California.\n    </p>\n    <h2>About the appreciation rate data</h2>\n    <p>\n      Our data are designed to capture changes in the value of single-family homes\n      at the city, town and even the neighborhood level. Different neighborhoods\n      within a city or town can have drastically different home appreciation rates.\n      NeighborhoodScout vividly reveals such differences. Our data are built upon\n      median house values in each neighborhood, and combine data from the United\n      States Bureau of the Census with quarterly house resale data. The data\n      reflect appreciation rates for the neighborhood overall, not necessarily\n      each individual house in the neighborhood.\n    </p>\n    <p>\n      Our data are calculated and updated every three months for each neighborhood,\n      city and town, approximately two months after the end of the previous quarter.\n      Each quarter, Fannie Mae and Freddie Mac provide their most recent mortgage\n      transactions to the FHFA. These data are combined with the data of the\n      previous 29 years to establish price differentials on properties where more\n      than one mortgage transaction has occurred. The data are merged with\n      neighborhood-specific median house values from the Census Bureau using\n      NeighborhoodScout's proprietary algorithms developed by Dr. Schiller,\n      creating an updated historical database that is then used to estimate the\n      appreciation rates for each city, town and neighborhood within each time\n      period. These resultant neighborhood appreciation rates are a broad measure\n      of the movement of single-family house prices. The appreciation rates serve\n      as an accurate indicator of house price trends at the neighborhood level.\n    </p>\n    <h2>How is the home appreciation data calculated?</h2>\n    <p>\n      Neighborhood appreciation rates from NeighborhoodScout are based on both\n      median house value data reported by respondents via the U.S. Bureau of the\n      Census, and a weighted repeat sales index, meaning that they measure average\n      price changes in repeat sales or refinancings on the same properties. This\n      information is obtained by reviewing repeat mortgage transactions on\n      single-family properties whose mortgages have been purchased or securitized\n      by Fannie Mae or Freddie Mac (by the FHFA). Then proprietary algorithms\n      developed by Dr. Schiller, NeighborhoodScout's founder, are applied\n      to produce neighborhood appreciation rates. Appreciation rates are updated\n      by NeighborhoodScout each quarter as additional mortgages are purchased or\n      securitized by Fannie Mae and Freddie Mac. The new mortgage acquisitions\n      are used to identify repeat transactions for the most recent quarter, then\n      are fed into NeighborhoodScout's search algorithms.\n    </p>\n    <h2>What transactions are covered in the appreciation rate data?</h2>\n    <p>\n      Neighborhood appreciation rate data are based on transactions involving\n      conforming, conventional mortgages. Only mortgage transactions on single-family\n      properties are included.  Conforming refers to a mortgage that both meets\n      the underwriting guidelines of Fannie Mae or Freddie Mac and that doesn't\n      exceed the conforming loan limit, a figure linked to an index published by\n      the Federal Housing Finance Board. Conventional means that the mortgages\n      are neither insured nor guaranteed by the FHA, VA, or other federal government\n      entity.\n    </p>\n    <p>\n      Mortgages on properties financed by government-insured loans, such as FHA\n      or VA mortgages, are excluded, as are properties with mortgages whose principal\n      amount exceeds the conforming loan limit. Mortgage transactions on condominiums\n      or multi-unit properties are also excluded.  As such, NeighborhoodScout does\n      not produce appreciation rates for neighborhoods that consist solely of\n      renters or have no single-family homes (dwellings without an entrance directly\n      to the outside).\n    </p>\n  </div>\n</div>"), e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/home_value"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Average Home Values</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Median Home Values</h2>"), o = I18n.t("nscout.feature_search.help_text").median_home_value;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/homeownership"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Homeownership</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Homeownership Rate</h2>"), l = I18n.t("nscout.feature_search.help_text").home_ownership_rate;
                for (i = 0, u = l.length; i < u; i++) r = l[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Homeownership Trend</h2>"), c = I18n.t("nscout.feature_search.help_text").home_ownership_trend;
                for (s = 0, a = c.length; s < a; s++) r = c[s], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Vacancy Trend</h2>"), h = I18n.t("nscout.feature_search.help_text").vacancy_trend;
                for (o = 0, f = h.length; o < f; o++) r = h[o], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/housing_details"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f, l, c, h, p, d, v;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Housing Details</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Age of Homes</h2>"), h = I18n.t("nscout.feature_search.help_text").era_built;
                for (i = 0, a = h.length; i < a; i++) r = h[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Type of Homes</h2>"), p = I18n.t("nscout.feature_search.help_text").housing_type;
                for (s = 0, f = p.length; s < f; s++) r = p[s], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Size of Homes</h2>"), d = I18n.t("nscout.feature_search.help_text").home_size;
                for (o = 0, l = d.length; o < l; o++) r = d[o], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Special Purpose Housing</h2>"), v = I18n.t("nscout.feature_search.help_text").special_purpose_housing;
                for (u = 0, c = v.length; u < c; u++) r = v[u], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/rental_market"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Rental Market (Homes &amp; Apartments)</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Average Market Rent</h2>"), a = I18n.t("nscout.feature_search.help_text").median_rental_price;
                for (i = 0, o = a.length; i < o; i++) r = a[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Rental Price Trend</h2>"), f = I18n.t("nscout.feature_search.help_text").rent_trend;
                for (s = 0, u = f.length; s < u; s++) r = f[s], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/real_estate/setting"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o, u, a, f;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Setting</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>Land and Water</h2>"), a = I18n.t("nscout.feature_search.help_text").land_and_water;
                for (i = 0, o = a.length; i < o; i++) r = a[i], n.push("    <p>" + t(e(r)) + "</p>");
                n.push("    <h2>Population Density</h2>"), f = I18n.t("nscout.feature_search.help_text").neighborhood_density;
                for (s = 0, u = f.length; s < u; s++) r = f[s], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/schools/district_rating"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>School Quality Rating</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").district_rating;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/schools/school_environment"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Neighborhood Educational Environment</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>"), o = I18n.t("nscout.feature_search.help_text").school_environment;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/schools/school_quality_rating"] = function(e) {
            return function() {
                var e;
                return e = [], e.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>School Quality Rating</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <h2>The Only Nationally Comparable School Quality Ratings Available Today</h2>\n    <p>\n      <strong>U.S. Patent 8,376,755 by NeighborhoodScout&reg;</strong>\n    </p>\n    <p>\n      NeighborhoodScout&reg; has developed the first ever nationally comparable school\n      ratings.\n    </p>\n    <p>\n      The result? â€“ school quality ratings that facilitate accurate comparison\n      among schools, school districts, and neighborhoods - even between schools in\n      different states â€“ something never before possible.\n    </p>\n    <p>\n      It is well known that the quality of education provided by public schools\n      varies greatly across the country. Still further, the quality of a child's\n      education can vary significantly from school district to school district\n      within a state and can even be widely varied between two different schools\n      within the same school district.\n    </p>\n    <p>\n      But until NeighborhoodScout, there has been no way to compare the quality of\n      schools in different states - even if the schools are only a few miles apart.\n    </p>\n    <p>\n      In an attempt to quantify student performance and to improve the performance\n      of elementary and secondary schools across America, the No Child Left Behind\n      (NCLB) Act was signed into law in January of 2002. The NCLB has earmarked\n      billions of dollars that are directed to nationwide educational reform and\n      improvement. Under NCLB each state receives federal dollars for its public\n      and charter schools based on the performance of their schools. One of the\n      main mechanisms for assessing performance is through testing and test scores.\n      As a result, schools have begun placing far more of an emphasis on preparing\n      students for these NCLB standardized tests.\n    </p>\n    <p>\n      While theoretically, the concept of a national NCLB standardized test should\n      provide a milestone by which to compare the performance of all of the schools\n      in the country relative to one another, the actual test is not truly\n      standardized. This is because while the federal government passed down\n      guidelines and standards for the creation of a testing mechanism, the states\n      themselves were left to develop, implement and administer the actual NCLB\n      tests. As a result, despite the federal guidelines and standards, there is\n      still a wide variation in the difficulty and content of the actual tests that\n      have been implemented from state to state. Therefore any school comparison\n      system that employs strictly the NCLB results as a basis for comparison is\n      likely skewed due to the widespread differences in the underlying tests.\n    </p>\n    <p>\n      Accordingly, there is a need for a method and system that provides\n      normalization of the performance data for all of the various schools and\n      school districts across the nation. Further, there is a need for a method and\n      system that provides a meaningful basis for comparison of school performance\n      on a national basis.\n    </p>\n    <p>\n      NeighborhoodScout has invented and patented a method and system to directly\n      compare school districts and individual schools across state lines based on\n      their reported NCLB test scores, even though the tests are entirely different\n      in each state.\n    </p>\n    <h2>How is this possible? Let's explain.</h2>\n    <p>\n      Generally, the present invention operates on the basis that all students\n      attending public elementary and secondary schools must take the NCLB offered\n      within their state providing a publicly available data repository for student\n      performance within each of those schools. While the NCLB test results can\n      provide a meaningful comparison between any students and schools that were\n      administered the same test, since the tests are different state-to-state, a\n      comparison on this basis is generally inaccurate and unreliable. To normalize\n      the NCLB test results based on the differences, the present invention employs\n      an additional factor that is employed as a modifier of the NCLB test results.\n    </p>\n    <p>\n      In addition to the NCLB testing, a population of randomly selected students\n      in each state also takes the National Assessment of Educational Progress\n      (NAEP) test. The NAEP test is the closest thing to a gold standard national\n      test and it is administered in the same form to every student who takes the\n      test. The difficulty in using this test as a basis for comparison on its own\n      is that there are not enough students in any one school or school district\n      that take the test to make it statistically significant for comparison within\n      smaller populations. It is of note however that although the NAEP is the same\n      in every location the results reported by the NAEP often differ significantly\n      from the NCLB results for any given state.\n    </p>\n    <p>\n      For example, the average percentage of students who passed the NAEP in a\n      recent year in Mississippi was 16% while in Massachusetts the pass rate was\n      45%, even though the test is the same. In contrast, Mississippi's recent NCLB\n      testing scores show that nearly 75% of their students are proficient or\n      advanced, making it look like Mississippi has an outstanding public school\n      system. The reality however is that Mississippi's NCLB scores are high\n      because their NCLB test is built to be easy.\n    </p>\n    <p>\n      As a result neither of the available tests provide an ideal set of data for\n      the comparison of schools on a nationwide school-by-school or\n      district-by-district basis. The NCLB is often skewed because of local test\n      development bias and the NEAP is not administered on a widespread enough\n      basis. In accordance with the present invention, a method and system has been\n      developed to make each state's NCLB test scores for every school and school\n      district comparable to other schools and school districts in different\n      states.\n    </p>\n    <p>\n      In operation, the system takes the average percentage of students testing as\n      proficient in reading and math on the NCLB state-specific test and subtracts\n      the percentage of students in that state who passed the NAEP, either in total\n      or for these specific subjects. This subtraction produces a gap value that is\n      then subtracted from each school and school districts' NCLB proficiency\n      percentages. Once the NCLB results are adjusted, the schools and the school\n      districts nationwide are then ranked relative to one another. As a result,\n      the method and system of the present invention provides a curve that brings\n      all individual schools and every school district to a nationally comparable\n      rating based on the NCLB testing results.\n    </p>\n  </div>\n</div>"), e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["neighborhood/schools/school_rating"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='help-text'>\n  <div class='top'>\n    <div class='title'>Neighborhood Educational Ratings</div>\n    <div class='close-button faq'></div>\n  </div>\n  <div class='bottom'>\n    <p>\n      <strong>U.S. Patent 8,376,755 by NeighborhoodScout&reg;</strong>\n    </p>"), o = I18n.t("nscout.feature_search.help_text").school_rating;
                for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("    <p>" + t(e(r)) + "</p>");
                return n.push("  </div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST.post_join = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='content'>\n  <h2 class='head'>\n    <div class='title'>Thanks for joining!</div>\n    <div class='close-button'></div>\n  </h2>\n  <div class='body'>\n    <p>\n      Please activate your email address by clicking on the verification link in\n      the email we just sent to\n      <strong>" + this.email + ".</strong>\n    </p>\n  </div>\n  <section class='foot'>\n    <ul>\n      <li>I think I gave you the wrong email address...</li>\n      <li>No worries, you can sign up again with any valid email address.</li>\n      <li>\n        <a class='button' href='/users/new'>Join With a Different Email Address</a>\n      </li>\n    </ul>\n    <ul>\n      <li>I didn't receive the email...</li>\n      <li>\n        First, check your spam filter for emails from\n        <a class='blue' href='/contact-us/'>customerservice@neighborhoodscout.com.</a>\n      </li>\n      <li>\n        Still not there? Resend the\n        <a class='blue' href='" + t(e(this.resend_href)) + "' data-method='post'>email verification</a>\n        or\n        <a class='blue' href='/contact-us/'>contact us</a>\n        for assistance.\n      </li>\n    </ul>\n  </section>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["prompts/auto_sign_up"] = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<div class='content sign-up'>\n  <h2 class='head'>\n    Stay Current\n    <div class='close-button'></div>\n  </h2>\n  <section>\n    <p>\n      Sign up free and get notified about data updates, changes to our Top Lists,\n      and more!\n    </p>\n    <form action='" + t(e(this.url)) + "' method='post'>\n      <input type='hidden' name='user[sign_up_page]' value='/'>\n      <fieldset>\n        <label for='user[email]'>Enter your email address:</label>\n        <input name='user[email]'>\n      </fieldset>\n      <fieldset>\n        <label for='user[password]'>Choose a password:</label>\n        <input name='user[password]' type='password'>\n      </fieldset>\n      <input type='hidden' name='user[sign_up_source_attributes][value]' value='Delayed Auto-popup'>\n      <input type='submit' value='Sign Up Free' disable_with='Please wait...'>\n      <p>\n        <a id='nope' href='#'>No thanks, not now</a>\n      </p>\n    </form>\n  </section>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["tooltips/buy_sell"] = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<h2>\n  <div class='title'>Buy or Sell a Home</div>\n  <div class='close-button'></div>\n</h2>\n<p>\n  Get matched with a top producing real estate agent and get up to $2,000 or more\n  cash back when you buy or sell. Free service.\n</p>\n<a class='calculator' href='" + t(e(this.href)) + "' rel='nofollow'></a>\n<a class='button' href='" + t(e(this.href)) + "' rel='nofollow'>Get Started</a>\n<div class='clearfix'></div>\n<div class='arrow'>\n  <div class='inner'></div>\n  <div class='outer'></div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["tooltips/discover"] = function(e) {
            return function() {
                var e, t, n;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<h2>\n  <div class='title'>My " + this.thing + "</div>\n  <div class='close-button'></div>\n</h2>\n<p>"), n.push("  " + t(e(this.description))), n.push("</p>\n<a class='button join-now' href='#'>Join Now</a>\n<div class='arrow'>\n  <div class='inner'></div>\n  <div class='outer'></div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST["tooltips/preview"] = function(e) {
            return function() {
                var e, t, n, r, i, s, o;
                t = window.HAML.escape, e = window.HAML.cleanValue, n = [], n.push("<h2>\n  <div class='title'>\n    My " + this.thing + "\n    <span>(" + this.count + ")</span>\n  </div>\n  <div class='close-button'></div>\n</h2>");
                if (this.items.length === 0) n.push("<p class='none'>(Preview your recent Saved " + this.thing + " here)</p>");
                else {
                    n.push("<ul class='preview'>"), o = this.items;
                    for (i = 0, s = o.length; i < s; i++) r = o[i], n.push("  <li>\n    <a href='" + t(e(r.path)) + "'>" + t(e(r.name)) + "</a>\n  </li>");
                    n.push("</ul>")
                }
                return n.push("<a class='button' href='/saved_items/" + t(e(this.path)) + "'>Go To My " + this.thing + "</a>\n<div class='arrow'>\n  <div class='inner'></div>\n  <div class='outer'></div>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this),
    function() {
        window.JST == null && (window.JST = {}), window.JST.upgrade_to_save = function(e) {
            return function() {
                var e, t, n, r;
                return t = window.HAML.escape, e = window.HAML.cleanValue, n = [], r = this.thing === "place" ? "Places" : "Searches", n.push("<div class='content'>\n  <h2 class='head'>\n    <div class='title'>Your " + r + " library is full</div>\n    <div class='close-button'></div>\n  </h2>\n  <div class='body'>\n    <p>\n      What would you like to do?\n    </p>\n    <p class='choice1'>\n      <a href='" + t(e(this.href)) + "'>Delete some " + r + "</a>\n      to make room\n    </p>\n    <p class='or'>\n      <span class='line'>\n        &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;\n      </span>\n      &nbsp;or\n      <span class='line'>\n        &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;\n      </span>\n    </p>\n    <a class='button' href='/subscribe/'>Upgrade for unlimited saves</a>\n  </div>\n  <section class='foot'></section>\n</div>"), n.join("\n").replace(/\s([\w-]+)='Â“true'/mg, " $1").replace(/\s([\w-]+)='Â“false'/mg, "").replace(/\s(?:id|class)=(['"])(\1)/mg, "")
            }.call(window.HAML.context(e))
        }
    }.call(this), NScout.AdvancedSearchPageToggle = {
        init: function(e) {
            this.contentContainer = $(e);
            var t = this;
            $(".form-selector .match").click(function(e) {
                e.preventDefault(), t.contentContainer.addClass("match-selected").removeClass("build-selected")
            }), $(".form-selector .build").click(function(e) {
                e.preventDefault(), t.contentContainer.addClass("build-selected").removeClass("match-selected")
            })
        }
    },
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n) e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype, t.prototype = new i, t.__super__ = n.prototype, t
            };
        this.NScout = this.NScout || {}, this.NScout.Slider = function() {
            function e(e) {
                var t;
                this.slider = $(e).find(".form-slider"), this.defaultValue = this.slider.data("default"), this.formElement = this.slider.find("input.feature_value"), this.offsetElement = this.slider.find("input.feature_offset"), t = this.slider.data("variants"), this.labels = _.map(t, function(e) {
                    return e[0]
                }), this.values = _.map(t, function(e) {
                    return e[1]
                }), this.setUpSlider()
            }
            return e.prototype.setUpSlider = function(e) {
                var t, n, r;
                return e == null && (e = "horizontal"), n = {
                    min: 0,
                    max: this.values.length - 1,
                    step: 1,
                    orientation: e
                }, this.slider.slider(n), this.slider.find(".ui-slider-handle").append("<div class='indicator-container'><div class='slider-indicator'></div></div>"), this.indicator = this.slider.find(".slider-indicator"), t = (r = this.labels) != null ? r[this.defaultValue] : void 0, t != null ? this.indicator.text(this.labels[this.defaultValue]) : this.indicator.hide(), this.slider.on("slide slidechange", function(e) {
                    return function(t, n) {
                        return e.sliderUpdate(n)
                    }
                }(this)), this.slider.on("slidestop", function(e) {
                    return function(t, n) {
                        return e.formElement.change()
                    }
                }(this)), this.slider.slider("value", this.offsetElement.val())
            }, e.prototype.sliderUpdate = function(e) {
                var t, n, r, i;
                return n = (r = this.values) != null ? r[e.value] : void 0, this.formElement.val(n), this.offsetElement.val(e.value), t = (i = this.labels) != null ? i[e.value] : void 0, t != null ? (this.indicator.text(t), this.indicator.show()) :
                    this.indicator.hide()
            }, e.prototype.reset = function() {
                return this.slider.slider("value", this.defaultValue)
            }, e
        }(), this.NScout.VerticalSlider = function(e) {
            function n(e, t) {
                var n;
                this.slider = $(e).find(".form-slider"), this.defaultValue = this.slider.data("default"), this.formElement = this.slider.find("input"), this.offsetElement = this.slider.find("input.feature_offset"), n = this.slider.data("variants"), this.labels = this.setLabels(t), this.values = _.map(n, function(e) {
                    return e[1]
                }), this.setUpSlider("vertical"), this.slider.slider({
                    disabled: !0
                })
            }
            return t(n, e), n.prototype.userChoiceFor = function(e) {
                return this.labels = this.setLabels(e), this.slider.slider("value", this.slider.slider("value"))
            }, n
        }(this.NScout.Slider), this.NScout.AppreciationSlider = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.setLabels = function(e) {
                var t;
                return t = {
                    app_1q_rankpct: {
                        0: "Under -.9%",
                        1: "-.9% to 0%",
                        2: ".1% to .3%",
                        3: ".4% to .6%",
                        4: ".7% to .9%",
                        5: "1% to 1.2%",
                        6: "1.3% to 1.5%",
                        7: "1.6% to 1.9%",
                        8: "2% to 3.1%",
                        9: "Over 3.1%"
                    },
                    app_1y_rankpct: {
                        0: "Under .5%",
                        1: ".5% to 2.6%",
                        2: "2.7% to 3.6%",
                        3: "3.7% to 4.4%",
                        4: "4.5% to 5.3%",
                        5: "5.4% to 6.3%",
                        6: "6.4% to 7.4%",
                        7: "7.5% to 8.9%",
                        8: "9% to 12.9%",
                        9: "Over 12.9%"
                    },
                    app_2y_rankpct: {
                        0: "Under 1.8%",
                        1: "1.8% to 5.7%",
                        2: "5.8% to 7.4%",
                        3: "7.5% to 9%",
                        4: "9.1% to 10.9%",
                        5: "11% to 13%",
                        6: "13.1% to 15.5%",
                        7: "15.6% to 18.4%",
                        8: "18.5% to 25.8%",
                        9: "Over 25.8%"
                    },
                    app_5y_rankpct: {
                        0: "Under -6.7%",
                        1: "-6.7% to 1.6%",
                        2: "1.7% to 5.1%",
                        3: "5.2% to 8.9%",
                        4: "9% to 13.2%",
                        5: "13.3% to 18.4%",
                        6: "18.5% to 25.3%",
                        7: "25.4% to 33.2%",
                        8: "33.3% to 51.1%",
                        9: "Over 51.1%"
                    },
                    app_10y_rankpct: {
                        0: "Under -32.6%",
                        1: "-32.6% to -15.1%",
                        2: "-15% to -8.4%",
                        3: "-8.3% to -2.9%",
                        4: "-2.8% to 3.1%",
                        5: "3.2% to 9.6%",
                        6: "9.7% to 17.3%",
                        7: "17.4% to 26.9%",
                        8: "27% to 55%",
                        9: "Over 55%"
                    },
                    app_total_rankpct: {
                        0: "Under 44%",
                        1: "44% to 71%",
                        2: "72% to 83%",
                        3: "84% to 95%",
                        4: "96% to 107%",
                        5: "108% to 120%",
                        6: "121% to 135%",
                        7: "136% to 155%",
                        8: "156% to 215%",
                        9: "Over 215%"
                    }
                }, t[e]
            }, n
        }(this.NScout.VerticalSlider), this.NScout.CrimeSlider = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.setLabels = function(e) {
                var t;
                return t = {
                    pcm: {
                        0: "least safe = 0",
                        1: "10",
                        2: "20",
                        3: "30",
                        4: "40",
                        5: "average = 50",
                        6: "60",
                        7: "70",
                        8: "80",
                        9: "90",
                        10: "safest = 100"
                    },
                    crime_property_index: {
                        0: "least safe = 0",
                        1: "10",
                        2: "20",
                        3: "30",
                        4: "40",
                        5: "average = 50",
                        6: "60",
                        7: "70",
                        8: "80",
                        9: "90",
                        10: "safest = 100"
                    },
                    crime_violent_index: {
                        0: "least safe = 0",
                        1: "10",
                        2: "20",
                        3: "30",
                        4: "40",
                        5: "average = 50",
                        6: "60",
                        7: "70",
                        8: "80",
                        9: "90",
                        10: "safest = 100"
                    },
                    crime_density_index: {
                        0: "least safe = 0",
                        1: "10",
                        2: "20",
                        3: "30",
                        4: "40",
                        5: "average = 50",
                        6: "60",
                        7: "70",
                        8: "80",
                        9: "90",
                        10: "safest = 100"
                    }
                }, t[e]
            }, n
        }(this.NScout.VerticalSlider), this.NScout.IncomeSlider = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.setLabels = function(e) {
                var t;
                return t = {
                    pci: {
                        0: "Lowest 15%",
                        1: "Higher than 15-39%",
                        2: "Higher than 40-59%",
                        3: "Higher than 60-84%",
                        4: "Top 15%"
                    },
                    mhi: {
                        0: "Lowest 15%",
                        1: "Higher than 15-39%",
                        2: "Higher than 40-59%",
                        3: "Higher than 60-84%",
                        4: "Top 15%"
                    }
                }, t[e]
            }, n
        }(this.NScout.VerticalSlider), this.NScout.VacancySlider = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e), n.prototype.setLabels = function(e) {
                var t;
                return t = {
                    vacant_rpct: {
                        0: "Highest",
                        1: "Average",
                        2: "Lowest"
                    },
                    seasonal_rpct: {
                        0: "Highest",
                        1: "Average",
                        2: "Lowest"
                    },
                    vacant_ns_rpct: {
                        0: "Highest",
                        1: "Average",
                        2: "Lowest"
                    }
                }, t[e]
            }, n
        }(this.NScout.VerticalSlider)
    }.call(this),
    function(e, t, n) {
        function i(e) {
            return e
        }

        function s(e) {
            return decodeURIComponent(e.replace(r, " "))
        }
        var r = /\+/g,
            o = e.cookie = function(r, u, a) {
                if (u !== n) {
                    a = e.extend({}, o.defaults, a), u === null && (a.expires = -1);
                    if (typeof a.expires == "number") {
                        var f = a.expires,
                            l = a.expires = new Date;
                        l.setDate(l.getDate() + f)
                    }
                    return u = o.json ? JSON.stringify(u) : String(u), t.cookie = [encodeURIComponent(r), "=", o.raw ? u : encodeURIComponent(u), a.expires ? "; expires=" + a.expires.toUTCString() : "", a.path ? "; path=" + a.path : "", a.domain ? "; domain=" + a.domain : "", a.secure ? "; secure" : ""].join("")
                }
                var c = o.raw ? i : s,
                    h = t.cookie.split("; ");
                for (var p = 0, d = h.length; p < d; p++) {
                    var v = h[p].split("=");
                    if (c(v.shift()) === r) {
                        var m = c(v.join("="));
                        return o.json ? JSON.parse(m) : m
                    }
                }
                return null
            };
        o.defaults = {}, e.removeCookie = function(t, n) {
            return e.cookie(t) !== null ? (e.cookie(t, null, n), !0) : !1
        }
    }(jQuery, document),
    function(e) {
        var t = e(window);
        e.fn.visible = function(e, n, r) {
            if (this.length < 1) return;
            var i = this.length > 1 ? this.eq(0) : this,
                s = i.get(0),
                o = t.width(),
                u = t.height(),
                r = r ? r : "both",
                a = n === !0 ? s.offsetWidth * s.offsetHeight : !0;
            if (typeof s.getBoundingClientRect == "function") {
                var f = s.getBoundingClientRect(),
                    l = f.top >= 0 && f.top < u,
                    c = f.bottom > 0 && f.bottom <= u,
                    h = f.left >= 0 && f.left < o,
                    p = f.right > 0 && f.right <= o,
                    d = e ? l || c : l && c,
                    v = e ? h || p : h && p;
                if (r === "both") return a && d && v;
                if (r === "vertical") return a && d;
                if (r === "horizontal") return a && v
            } else {
                var m = t.scrollTop(),
                    g = m + u,
                    y = t.scrollLeft(),
                    b = y + o,
                    w = i.offset(),
                    E = w.top,
                    S = E + i.height(),
                    x = w.left,
                    T = x + i.width(),
                    N = e === !0 ? S : E,
                    C = e === !0 ? E : S,
                    k = e === !0 ? T : x,
                    L = e === !0 ? x : T;
                if (r === "both") return !!a && C <= g && N >= m && L <= b && k >= y;
                if (r === "vertical") return !!a && C <= g && N >= m;
                if (r === "horizontal") return !!a && L <= b && k >= y
            }
        }
    }(jQuery),
    function() {
        var e;
        e = e || {}, e.SocialMediaSidebar = function() {
            var e, t, n, r, i;
            return e = function() {
                var e;
                return e = 1089, $(window).width() > e
            }, r = function() {
                return !$("#share").visible()
            }, i = function() {
                return $("a.share-button").css({
                    visibility: "visible"
                }), $("#at4-share").css({
                    visibility: "visible"
                })
            }, n = function() {
                return $("a.share-button").css({
                    visibility: "hidden"
                }), $("#at4-share").css({
                    visibility: "hidden"
                })
            }, e() && r() && (t = setInterval(function() {
                if ($("#at4-share").length) return i(), clearInterval(t)
            }, 100)), $(window).on("load", function() {
                var e;
                e = $(".responsive-share-button");
                if (e.length) return t = setInterval(function() {
                    if ($("#atrsb").length) return e.css({
                        visibility: "visible"
                    }), clearInterval(t)
                }, 100)
            }), $(window).on("load resize", function() {
                var e, t;
                e = $(".responsive-share-button"), t = 726;
                if (e.length) return $(window).width() > t ? e.removeClass("small") : e.addClass("small")
            }), $(window).on("resize", function() {
                return e() && r() ? i() : n()
            }), $(window).on("scroll", function() {
                return e() && r() ? i() : n()
            })
        }, jQuery(document).ready(function() {
            return e.SocialMediaSidebar()
        })
    }.call(this),
    function() {
        var e;
        e = e || {}, e.StateCityRealEstateTabLinks = function() {
            return $(".box-c-info-main").on("click", "a.realtor", function() {
                var e;
                return e = $(".box-c-info-main").offset().top - 40, $("html, body").animate({
                    scrollTop: e
                }, 500)
            })
        }, jQuery(document).ready(function() {
            return e.StateCityRealEstateTabLinks()
        })
    }.call(this),
    function() {
        function e(e, t) {
            var n;
            e || (e = {});
            for (n in t) e[n] = t[n];
            return e
        }

        function t() {
            var e, t = arguments,
                n, r = {},
                i = function(e, t) {
                    var n, r;
                    typeof e != "object" && (e = {});
                    for (r in t) t.hasOwnProperty(r) && (n = t[r], e[r] = n && typeof n == "object" && Object.prototype.toString.call(n) !== "[object Array]" && typeof n.nodeType != "number" ? i(e[r] || {}, n) : t[r]);
                    return e
                };
            t[0] === !0 && (r = t[1], t = Array.prototype.slice.call(t, 2)), n = t.length;
            for (e = 0; e < n; e++) r = i(r, t[e]);
            return r
        }

        function n(e, t) {
            return parseInt(e, t || 10)
        }

        function r(e) {
            return typeof e == "string"
        }

        function i(e) {
            return typeof e == "object"
        }

        function s(e) {
            return Object.prototype.toString.call(e) === "[object Array]"
        }

        function o(e) {
            return typeof e == "number"
        }

        function u(e) {
            return U.log(e) / U.LN10
        }

        function a(e) {
            return U.pow(10, e)
        }

        function f(e, t) {
            for (var n = e.length; n--;)
                if (e[n] === t) {
                    e.splice(n, 1);
                    break
                }
        }

        function l(e) {
            return e !== I && e !== null
        }

        function c(e, t, n) {
            var s, o;
            if (r(t)) l(n) ? e.setAttribute(t, n) : e && e.getAttribute && (o = e.getAttribute(t));
            else if (l(t) && i(t))
                for (s in t) e.setAttribute(s, t[s]);
            return o
        }

        function h(e) {
            return s(e) ? e : [e]
        }

        function p() {
            var e = arguments,
                t, n, r = e.length;
            for (t = 0; t < r; t++)
                if (n = e[t], typeof n != "undefined" && n !== null) return n
        }

        function d(t, n) {
            tt && n && n.opacity !== I && (n.filter = "alpha(opacity=" + n.opacity * 100 + ")"), e(t.style, n)
        }

        function v(t, n, r, i, s) {
            return t = q.createElement(t), n && e(t, n), s && d(t, {
                padding: 0,
                border: xt,
                margin: 0
            }), r && d(t, r), i && i.appendChild(t), t
        }

        function m(t, n) {
            var r = function() {};
            return r.prototype = new t, e(r.prototype, n), r
        }

        function g(e, t, r, i) {
            var s = vt.lang,
                e = +e || 0,
                o = t === -1 ? (e.toString().split(".")[1] || "").length : isNaN(t = J(t)) ? 2 : t,
                t = r === void 0 ? s.decimalPoint : r,
                i = i === void 0 ? s.thousandsSep : i,
                s = e < 0 ? "-" : "",
                r = String(n(e = J(e).toFixed(o))),
                u = r.length > 3 ? r.length % 3 : 0;
            return s + (u ? r.substr(0, u) + i : "") + r.substr(u).replace(/(\d{3})(?=\d)/g, "$1" + i) + (o ? t + J(e - r).toFixed(o).slice(2) : "")
        }

        function y(e, t) {
            return Array((t || 2) + 1 - String(e).length).join(0) + e
        }

        function b(e, t, n) {
            var r = e[t];
            e[t] = function() {
                var e = Array.prototype.slice.call(arguments);
                return e.unshift(r), n.apply(this, e)
            }
        }

        function w(e, t) {
            for (var n = "{", r = !1, i, s, o, u, a, f = [];
                (n = e.indexOf(n)) !== -1;) {
                i = e.slice(0, n);
                if (r) {
                    s = i.split(":"), o = s.shift().split("."), a = o.length, i = t;
                    for (u = 0; u < a; u++) i = i[o[u]];
                    s.length && (s = s.join(":"), o = /\.([0-9])/, u = vt.lang, a = void 0, /f$/.test(s) ? (a = (a = s.match(o)) ? a[1] : -1, i = g(i, a, u.decimalPoint, s.indexOf(",") > -1 ? u.thousandsSep : "")) : i = mt(s, i))
                }
                f.push(i), e = e.slice(n + 1), n = (r = !r) ? "}" : "{"
            }
            return f.push(e), f.join("")
        }

        function E(e) {
            return U.pow(10, W(U.log(e) / U.LN10))
        }

        function S(e, t, n, r) {
            var i, n = p(n, 1);
            i = e / n, t || (t = [1, 2, 2.5, 5, 10], r && r.allowDecimals === !1 && (n === 1 ? t = [1, 2, 5, 10] : n <= .1 && (t = [1 / n])));
            for (r = 0; r < t.length; r++)
                if (e = t[r], i <= (t[r] + (t[r + 1] || t[r])) / 2) break;
            return e *= n, e
        }

        function x() {
            this.symbol = this.color = 0
        }

        function T(e, t) {
            var n = e.length,
                r, i;
            for (i = 0; i < n; i++) e[i].ss_i = i;
            e.sort(function(e, n) {
                return r = t(e, n), r === 0 ? e.ss_i - n.ss_i : r
            });
            for (i = 0; i < n; i++) delete e[i].ss_i
        }

        function N(e) {
            for (var t = e.length, n = e[0]; t--;) e[t] < n && (n = e[t]);
            return n
        }

        function C(e) {
            for (var t = e.length, n = e[0]; t--;) e[t] > n && (n = e[t]);
            return n
        }

        function k(e, t) {
            for (var n in e) e[n] && e[n] !== t && e[n].destroy && e[n].destroy(), delete e[n]
        }

        function L(e) {
            dt || (dt = v(St)), e && dt.appendChild(e), dt.innerHTML = ""
        }

        function A(e, t) {
            var n = "Highcharts error #" + e + ": www.highcharts.com/errors/" + e;
            if (t) throw n;
            R.console && console.log(n)
        }

        function O(e) {
            return parseFloat(e.toPrecision(14))
        }

        function M(e, t) {
            gt = p(e, t.animation)
        }

        function _() {
            var e = vt.global.useUTC,
                t = e ? "getUTC" : "get",
                n = e ? "setUTC" : "set";
            Lt = (e && vt.global.timezoneOffset || 0) * 6e4, kt = e ? Date.UTC : function(e, t, n, r, i, s) {
                return (new Date(e, t, p(n, 1), p(r, 0), p(i, 0), p(s, 0))).getTime()
            }, At = t + "Minutes", Ot = t + "Hours", Mt = t + "Day", _t = t + "Date", Dt = t + "Month", Pt = t + "FullYear", Ht = n + "Minutes", Bt = n + "Hours", jt = n + "Date", Ft = n + "Month", It = n + "FullYear"
        }

        function D() {}

        function P(e, t, n, r) {
            this.axis = e, this.pos = t, this.type = n || "", this.isNew = !0, !n && !r && this.addLabel()
        }

        function H() {
            this.init.apply(this, arguments)
        }

        function B(e, t, n, r, i, s) {
            var o = e.chart.inverted;
            this.axis = e, this.isNegative = n, this.options = t, this.x = r, this.total = null, this.points = {}, this.stack = i, this.percent = s === "percent", this.alignOptions = {
                align: t.align || (o ? n ? "left" : "right" : "center"),
                verticalAlign: t.verticalAlign || (o ? "middle" : n ? "bottom" : "top"),
                y: p(t.y, o ? 4 : n ? 14 : -6),
                x: p(t.x, o ? n ? -6 : 6 : 0)
            }, this.textAlign = t.textAlign || (o ? n ? "right" : "left" : "center")
        }

        function j() {
            this.init.apply(this, arguments)
        }

        function F() {
            this.init.apply(this, arguments)
        }
        var I, q = document,
            R = window,
            U = Math,
            z = U.round,
            W = U.floor,
            X = U.ceil,
            V = U.max,
            $ = U.min,
            J = U.abs,
            K = U.cos,
            Q = U.sin,
            G = U.PI,
            Y = G * 2 / 360,
            Z = navigator.userAgent,
            et = R.opera,
            tt = /msie/i.test(Z) && !et,
            nt = q.documentMode === 8,
            rt = /AppleWebKit/.test(Z),
            it = /Firefox/.test(Z),
            st = /(Mobile|Android|Windows Phone)/.test(Z),
            ot = "http://www.w3.org/2000/svg",
            ut = !!q.createElementNS && !!q.createElementNS(ot, "svg").createSVGRect,
            at = it && parseInt(Z.split("Firefox/")[1], 10) < 4,
            ft = !ut && !tt && !!q.createElement("canvas").getContext,
            lt, ct = q.documentElement.ontouchstart !== I,
            ht = {},
            pt = 0,
            dt, vt, mt, gt, yt, bt, wt = function() {},
            Et = [],
            St = "div",
            xt = "none",
            Tt = /^[0-9]+$/,
            Nt = "rgba(192,192,192," + (ut ? 1e-4 : .002) + ")",
            Ct = "stroke-width",
            kt, Lt, At, Ot, Mt, _t, Dt, Pt, Ht, Bt, jt, Ft, It, qt = {};
        R.Highcharts = R.Highcharts ? A(16, !0) : {}, mt = function(t, n, r) {
                if (!l(n) || isNaN(n)) return "Invalid date";
                var t = p(t, "%Y-%m-%d %H:%M:%S"),
                    i = new Date(n - Lt),
                    s, o = i[Ot](),
                    u = i[Mt](),
                    a = i[_t](),
                    f = i[Dt](),
                    c = i[Pt](),
                    h = vt.lang,
                    d = h.weekdays,
                    i = e({
                        a: d[u].substr(0, 3),
                        A: d[u],
                        d: y(a),
                        e: a,
                        b: h.shortMonths[f],
                        B: h.months[f],
                        m: y(f + 1),
                        y: c.toString().substr(2, 2),
                        Y: c,
                        H: y(o),
                        I: y(o % 12 || 12),
                        l: o % 12 || 12,
                        M: y(i[At]()),
                        p: o < 12 ? "AM" : "PM",
                        P: o < 12 ? "am" : "pm",
                        S: y(i.getSeconds()),
                        L: y(z(n % 1e3), 3)
                    }, Highcharts.dateFormats);
                for (s in i)
                    for (; t.indexOf("%" + s) !== -1;) t = t.replace("%" + s, typeof i[s] == "function" ? i[s](n) : i[s]);
                return r ? t.substr(0, 1).toUpperCase() + t.substr(1) : t
            }, x.prototype = {
                wrapColor: function(e) {
                    this.color >= e && (this.color = 0)
                },
                wrapSymbol: function(e) {
                    this.symbol >= e && (this.symbol = 0)
                }
            }, bt = function() {
                for (var e = 0, t = arguments, n = t.length, r = {}; e < n; e++) r[t[e++]] = t[e];
                return r
            }("millisecond", 1, "second", 1e3, "minute", 6e4, "hour", 36e5, "day", 864e5, "week", 6048e5, "month", 26784e5, "year", 31556952e3), yt = {
                init: function(e, t, n) {
                    var t = t || "",
                        r = e.shift,
                        i = t.indexOf("C") > -1,
                        s = i ? 7 : 3,
                        o, t = t.split(" "),
                        n = [].concat(n),
                        u, a, f = function(e) {
                            for (o = e.length; o--;) e[o] === "M" && e.splice(o + 1, 0, e[o + 1], e[o + 2], e[o + 1], e[o + 2])
                        };
                    i && (f(t), f(n)), e.isArea && (u = t.splice(t.length - 6, 6), a = n.splice(n.length - 6, 6));
                    if (r <= n.length / s && t.length === n.length)
                        for (; r--;) n = [].concat(n).splice(0, s).concat(n);
                    e.shift = 0;
                    if (t.length)
                        for (e = n.length; t.length < e;) r = [].concat(t).splice(t.length - s, s), i && (r[s - 6] = r[s - 2], r[s - 5] = r[s - 1]), t = t.concat(r);
                    return u && (t = t.concat(u), n = n.concat(a)), [t, n]
                },
                step: function(e, t, n, r) {
                    var i = [],
                        s = e.length;
                    if (n === 1) i = r;
                    else if (s === t.length && n < 1)
                        for (; s--;) r = parseFloat(e[s]), i[s] = isNaN(r) ? e[s] : n * parseFloat(t[s] - r) + r;
                    else i = t;
                    return i
                }
            },
            function(t) {
                R.HighchartsAdapter = R.HighchartsAdapter || t && {
                    init: function(e) {
                        var n = t.fx,
                            i = n.step,
                            s, o = t.Tween,
                            u = o && o.propHooks;
                        s = t.cssHooks.opacity, t.extend(t.easing, {
                            easeOutQuad: function(e, t, n, r, i) {
                                return -r * (t /= i) * (t - 2) + n
                            }
                        }), t.each(["cur", "_default", "width", "height", "opacity"], function(e, t) {
                            var r = i,
                                s;
                            t === "cur" ? r = n.prototype : t === "_default" && o && (r = u[t], t = "set"), (s = r[t]) && (r[t] = function(n) {
                                var r, n = e ? n : this;
                                if (n.prop !== "align") return r = n.elem, r.attr ? r.attr(n.prop, t === "cur" ? I : n.now) : s.apply(this, arguments)
                            })
                        }), b(s, "get", function(e, t, n) {
                            return t.attr ? t.opacity || 0 : e.call(this, t, n)
                        }), s = function(t) {
                            var n = t.elem,
                                r;
                            t.started || (r = e.init(n, n.d, n.toD), t.start = r[0], t.end = r[1], t.started = !0), n.attr("d", e.step(t.start, t.end, t.pos, n.toD))
                        }, o ? u.d = {
                            set: s
                        } : i.d = s, this.each = Array.prototype.forEach ? function(e, t) {
                            return Array.prototype.forEach.call(e, t)
                        } : function(e, t) {
                            for (var n = 0, r = e.length; n < r; n++)
                                if (t.call(e[n], e[n], n, e) === !1) return n
                        }, t.fn.highcharts = function() {
                            var e = "Chart",
                                t = arguments,
                                n, i;
                            return r(t[0]) && (e = t[0], t = Array.prototype.slice.call(t, 1)), n = t[0], n !== I && (n.chart = n.chart || {}, n.chart.renderTo = this[0], new Highcharts[e](n, t[1]), i = this), n === I && (i = Et[c(this[0], "data-highcharts-chart")]), i
                        }
                    },
                    getScript: t.getScript,
                    inArray: t.inArray,
                    adapterRun: function(e, n) {
                        return t(e)[n]()
                    },
                    grep: t.grep,
                    map: function(e, t) {
                        for (var n = [], r = 0, i = e.length; r < i; r++) n[r] = t.call(e[r], e[r], r, e);
                        return n
                    },
                    offset: function(e) {
                        return t(e).offset()
                    },
                    addEvent: function(e, n, r) {
                        t(e).bind(n, r)
                    },
                    removeEvent: function(e, n, r) {
                        var i = q.removeEventListener ? "removeEventListener" : "detachEvent";
                        q[i] && e && !e[i] && (e[i] = function() {}), t(e).unbind(n, r)
                    },
                    fireEvent: function(n, r, i, s) {
                        var o = t.Event(r),
                            u = "detached" + r,
                            a;
                        !tt && i && (delete i.layerX, delete i.layerY), e(o, i), n[r] && (n[u] = n[r], n[r] = null), t.each(["preventDefault", "stopPropagation"], function(e, t) {
                            var n = o[t];
                            o[t] = function() {
                                try {
                                    n.call(o)
                                } catch (e) {
                                    t === "preventDefault" && (a = !0)
                                }
                            }
                        }), t(n).trigger(o), n[u] && (n[r] = n[u], n[u] = null), s && !o.isDefaultPrevented() && !a && s(o)
                    },
                    washMouseEvent: function(e) {
                        var t = e.originalEvent || e;
                        return t.pageX === I && (t.pageX = e.pageX, t.pageY = e.pageY), t
                    },
                    animate: function(e, n, r) {
                        var i = t(e);
                        e.style || (e.style = {}), n.d && (e.toD = n.d, n.d = 1), i.stop(), n.opacity !== I && e.attr && (n.opacity += "px"), i.animate(n, r)
                    },
                    stop: function(e) {
                        t(e).stop()
                    }
                }
            }(R.jQuery);
        var Rt = R.HighchartsAdapter,
            Ut = Rt || {};
        Rt && Rt.init.call(Rt, yt);
        var zt = Ut.adapterRun,
            Wt = Ut.getScript,
            Xt = Ut.inArray,
            Vt = Ut.each,
            $t = Ut.grep,
            Jt = Ut.offset,
            Kt = Ut.map,
            Qt = Ut.addEvent,
            Gt = Ut.removeEvent,
            Yt = Ut.fireEvent,
            Zt = Ut.washMouseEvent,
            en = Ut.animate,
            tn = Ut.stop,
            Ut = {
                enabled: !0,
                x: 0,
                y: 15,
                style: {
                    color: "#666",
                    cursor: "default",
                    fontSize: "11px"
                }
            };
        vt = {
            colors: "#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),
            symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
            lang: {
                loading: "Loading...",
                months: "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
                shortMonths: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                weekdays: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
                decimalPoint: ".",
                numericSymbols: "k,M,G,T,P,E".split(","),
                resetZoom: "Reset zoom",
                resetZoomTitle: "Reset zoom level 1:1",
                thousandsSep: ","
            },
            global: {
                useUTC: !0,
                canvasToolsURL: "http://code.highcharts.com/3.0.9/modules/canvas-tools.js",
                VMLRadialGradientURL: "http://code.highcharts.com/3.0.9/gfx/vml-radial-gradient.png"
            },
            chart: {
                borderColor: "#4572A7",
                borderRadius: 5,
                defaultSeriesType: "line",
                ignoreHiddenSeries: !0,
                spacing: [10, 10, 15, 10],
                style: {
                    fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',
                    fontSize: "12px"
                },
                backgroundColor: "#FFFFFF",
                plotBorderColor: "#C0C0C0",
                resetZoomButton: {
                    theme: {
                        zIndex: 20
                    },
                    position: {
                        align: "right",
                        x: -10,
                        y: 10
                    }
                }
            },
            title: {
                text: "Chart title",
                align: "center",
                margin: 15,
                style: {
                    color: "#274b6d",
                    fontSize: "16px"
                }
            },
            subtitle: {
                text: "",
                align: "center",
                style: {
                    color: "#4d759e"
                }
            },
            plotOptions: {
                line: {
                    allowPointSelect: !1,
                    showCheckbox: !1,
                    animation: {
                        duration: 1e3
                    },
                    events: {},
                    lineWidth: 2,
                    marker: {
                        enabled: !0,
                        lineWidth: 0,
                        radius: 4,
                        lineColor: "#FFFFFF",
                        states: {
                            hover: {
                                enabled: !0
                            },
                            select: {
                                fillColor: "#FFFFFF",
                                lineColor: "#000000",
                                lineWidth: 2
                            }
                        }
                    },
                    point: {
                        events: {}
                    },
                    dataLabels: t(Ut, {
                        align: "center",
                        enabled: !1,
                        formatter: function() {
                            return this.y === null ? "" : g(this.y, -1)
                        },
                        verticalAlign: "bottom",
                        y: 0
                    }),
                    cropThreshold: 300,
                    pointRange: 0,
                    states: {
                        hover: {
                            marker: {}
                        },
                        select: {
                            marker: {}
                        }
                    },
                    stickyTracking: !0,
                    turboThreshold: 1e3
                }
            },
            labels: {
                style: {
                    position: "absolute",
                    color: "#3E576F"
                }
            },
            legend: {
                enabled: !0,
                align: "center",
                layout: "horizontal",
                labelFormatter: function() {
                    return this.name
                },
                borderWidth: 1,
                borderColor: "#909090",
                borderRadius: 5,
                navigation: {
                    activeColor: "#274b6d",
                    inactiveColor: "#CCC"
                },
                shadow: !1,
                itemStyle: {
                    cursor: "pointer",
                    color: "#274b6d",
                    fontSize: "12px"
                },
                itemHoverStyle: {
                    color: "#000"
                },
                itemHiddenStyle: {
                    color: "#CCC"
                },
                itemCheckboxStyle: {
                    position: "absolute",
                    width: "13px",
                    height: "13px"
                },
                symbolPadding: 5,
                verticalAlign: "bottom",
                x: 0,
                y: 0,
                title: {
                    style: {
                        fontWeight: "bold"
                    }
                }
            },
            loading: {
                labelStyle: {
                    fontWeight: "bold",
                    position: "relative",
                    top: "1em"
                },
                style: {
                    position: "absolute",
                    backgroundColor: "white",
                    opacity: .5,
                    textAlign: "center"
                }
            },
            tooltip: {
                enabled: !0,
                animation: ut,
                backgroundColor: "rgba(255, 255, 255, .85)",
                borderWidth: 1,
                borderRadius: 3,
                dateTimeLabelFormats: {
                    millisecond: "%A, %b %e, %H:%M:%S.%L",
                    second: "%A, %b %e, %H:%M:%S",
                    minute: "%A, %b %e, %H:%M",
                    hour: "%A, %b %e, %H:%M",
                    day: "%A, %b %e, %Y",
                    week: "Week from %A, %b %e, %Y",
                    month: "%B %Y",
                    year: "%Y"
                },
                headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
                shadow: !0,
                snap: st ? 25 : 10,
                style: {
                    color: "#333333",
                    cursor: "default",
                    fontSize: "12px",
                    padding: "8px",
                    whiteSpace: "nowrap"
                }
            },
            credits: {
                enabled: !0,
                text: "Highcharts.com",
                href: "http://www.highcharts.com",
                position: {
                    align: "right",
                    x: -10,
                    verticalAlign: "bottom",
                    y: -5
                },
                style: {
                    cursor: "pointer",
                    color: "#909090",
                    fontSize: "9px"
                }
            }
        };
        var nn = vt.plotOptions,
            Rt = nn.line;
        _();
        var rn = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
            sn = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
            on = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,
            un = function(e) {
                var r = [],
                    i, s;
                return function(e) {
                    e && e.stops ? s = Kt(e.stops, function(e) {
                        return un(e[1])
                    }) : (i = rn.exec(e)) ? r = [n(i[1]), n(i[2]), n(i[3]), parseFloat(i[4], 10)] : (i = sn.exec(e)) ? r = [n(i[1], 16), n(i[2], 16), n(i[3], 16), 1] : (i = on.exec(e)) && (r = [n(i[1]), n(i[2]), n(i[3]), 1])
                }(e), {
                    get: function(n) {
                        var i;
                        return s ? (i = t(e), i.stops = [].concat(i.stops), Vt(s, function(e, t) {
                            i.stops[t] = [i.stops[t][0], e.get(n)]
                        })) : i = r && !isNaN(r[0]) ? n === "rgb" ? "rgb(" + r[0] + "," + r[1] + "," + r[2] + ")" : n === "a" ? r[3] : "rgba(" + r.join(",") + ")" : e, i
                    },
                    brighten: function(e) {
                        if (s) Vt(s, function(t) {
                            t.brighten(e)
                        });
                        else if (o(e) && e !== 0) {
                            var t;
                            for (t = 0; t < 3; t++) r[t] += n(e * 255), r[t] < 0 && (r[t] = 0), r[t] > 255 && (r[t] = 255)
                        }
                        return this
                    },
                    rgba: r,
                    setOpacity: function(e) {
                        return r[3] = e, this
                    }
                }
            };
        D.prototype = {
            init: function(e, t) {
                this.element = t === "span" ? v(t) : q.createElementNS(ot, t), this.renderer = e, this.attrSetters = {}
            },
            opacity: 1,
            animate: function(e, n, r) {
                n = p(n, gt, !0), tn(this), n ? (n = t(n), r && (n.complete = r), en(this, e, n)) : (this.attr(e), r && r())
            },
            attr: function(e, t) {
                var i, s, o, u, a = this.element,
                    f = a.nodeName.toLowerCase(),
                    h = this.renderer,
                    d, v = this.attrSetters,
                    m = this.shadows,
                    g, y, b = this;
                r(e) && l(t) && (i = e, e = {}, e[i] = t);
                if (r(e)) i = e, f === "circle" ? i = {
                    x: "cx",
                    y: "cy"
                }[i] || i : i === "strokeWidth" && (i = "stroke-width"), b = c(a, i) || this[i] || 0, i !== "d" && i !== "visibility" && i !== "fill" && (b = parseFloat(b));
                else {
                    for (i in e)
                        if (d = !1, s = e[i], o = v[i] && v[i].call(this, s, i), o !== !1) {
                            o !== I && (s = o);
                            if (i === "d") s && s.join && (s = s.join(" ")), /(NaN| {2}|^$)/.test(s) && (s = "M 0 0");
                            else if (i === "x" && f === "text")
                                for (o = 0; o < a.childNodes.length; o++) u = a.childNodes[o], c(u, "x") === c(a, "x") && c(u, "x", s);
                            else if (!this.rotation || i !== "x" && i !== "y")
                                if (i === "fill") s = h.color(s, a, i);
                                else if (f !== "circle" || i !== "x" && i !== "y")
                                if (f === "rect" && i === "r") c(a, {
                                    rx: s,
                                    ry: s
                                }), d = !0;
                                else if (i === "translateX" || i === "translateY" || i === "rotation" || i === "verticalAlign" || i === "scaleX" || i === "scaleY") d = y = !0;
                            else if (i === "stroke") s = h.color(s, a, i);
                            else if (i === "dashstyle") {
                                if (i = "stroke-dasharray", s = s && s.toLowerCase(), s === "solid") s = xt;
                                else if (s) {
                                    s = s.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(",");
                                    for (o = s.length; o--;) s[o] = n(s[o]) * p(e["stroke-width"], this["stroke-width"]);
                                    s = s.join(",")
                                }
                            } else i === "width" ? s = n(s) : i === "align" ? (i = "text-anchor", s = {
                                left: "start",
                                center: "middle",
                                right: "end"
                            }[s]) : i === "title" && (o = a.getElementsByTagName("title")[0], o || (o = q.createElementNS(ot, "title"), a.appendChild(o)), o.textContent = s);
                            else i = {
                                x: "cx",
                                y: "cy"
                            }[i] || i;
                            else y = !0;
                            i === "strokeWidth" && (i = "stroke-width");
                            if (i === "stroke-width" || i === "stroke") this[i] = s, this.stroke && this["stroke-width"] ? (c(a, "stroke", this.stroke), c(a, "stroke-width", this["stroke-width"]), this.hasStroke = !0) : i === "stroke-width" && s === 0 && this.hasStroke && (a.removeAttribute("stroke"), this.hasStroke = !1), d = !0;
                            this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i) && (g || (this.symbolAttr(e), g = !0), d = !0);
                            if (m && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i))
                                for (o = m.length; o--;) c(m[o], i, i === "height" ? V(s - (m[o].cutHeight || 0), 0) : s);
                            (i === "width" || i === "height") && f === "rect" && s < 0 && (s = 0), this[i] = s, i === "text" ? (s !== this.textStr && delete this.bBox, this.textStr = s, this.added && h.buildText(this)) : d || c(a, i, s)
                        }
                    y && this.updateTransform()
                }
                return b
            },
            addClass: function(e) {
                var t = this.element,
                    n = c(t, "class") || "";
                return n.indexOf(e) === -1 && c(t, "class", n + " " + e), this
            },
            symbolAttr: function(e) {
                var t = this;
                Vt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","), function(n) {
                    t[n] = p(e[n], t[n])
                }), t.attr({
                    d: t.renderer.symbols[t.symbolName](t.x, t.y, t.width, t.height, t)
                })
            },
            clip: function(e) {
                return this.attr("clip-path", e ? "url(" + this.renderer.url + "#" + e.id + ")" : xt)
            },
            crisp: function(e, t, n, r, i) {
                var s, o = {},
                    u = {},
                    a, e = e || this.strokeWidth || this.attr && this.attr("stroke-width") || 0;
                a = z(e) % 2 / 2, u.x = W(t || this.x || 0) + a, u.y = W(n || this.y || 0) + a, u.width = W((r || this.width || 0) - 2 * a), u.height = W((i || this.height || 0) - 2 * a), u.strokeWidth = e;
                for (s in u) this[s] !== u[s] && (this[s] = o[s] = u[s]);
                return o
            },
            css: function(t) {
                var r = this.element,
                    i = this.textWidth = t && t.width && r.nodeName.toLowerCase() === "text" && n(t.width),
                    s, o = "",
                    u = function(e, t) {
                        return "-" + t.toLowerCase()
                    };
                t && t.color && (t.fill = t.color), this.styles = t = e(this.styles, t), i && delete t.width;
                if (tt && !ut) d(this.element, t);
                else {
                    for (s in t) o += s.replace(/([A-Z])/g, u) + ":" + t[s] + ";";
                    c(r, "style", o)
                }
                return i && this.added && this.renderer.buildText(this), this
            },
            on: function(e, t) {
                var n = this,
                    r = n.element;
                return ct && e === "click" ? (r.ontouchstart = function(e) {
                    n.touchEventFired = Date.now(), e.preventDefault(), t.call(r, e)
                }, r.onclick = function(e) {
                    (Z.indexOf("Android") === -1 || Date.now() - (n.touchEventFired || 0) > 1100) && t.call(r, e)
                }) : r["on" + e] = t, this
            },
            setRadialReference: function(e) {
                return this.element.radialReference = e, this
            },
            translate: function(e, t) {
                return this.attr({
                    translateX: e,
                    translateY: t
                })
            },
            invert: function() {
                return this.inverted = !0, this.updateTransform(), this
            },
            updateTransform: function() {
                var e = this.translateX || 0,
                    t = this.translateY || 0,
                    n = this.scaleX,
                    r = this.scaleY,
                    i = this.inverted,
                    s = this.rotation;
                i && (e += this.attr("width"), t += this.attr("height")), e = ["translate(" + e + "," + t + ")"], i ? e.push("rotate(90) scale(-1,1)") : s && e.push("rotate(" + s + " " + (this.x || 0) + " " + (this.y || 0) + ")"), (l(n) || l(r)) && e.push("scale(" + p(n, 1) + " " + p(r, 1) + ")"), e.length && c(this.element, "transform", e.join(" "))
            },
            toFront: function() {
                var e = this.element;
                return e.parentNode.appendChild(e), this
            },
            align: function(e, t, n) {
                var i, s, o, u, a = {};
                s = this.renderer, o = s.alignedObjects;
                if (e) {
                    if (this.alignOptions = e, this.alignByTranslate = t, !n || r(n)) this.alignTo = i = n || "renderer", f(o, this), o.push(this), n = null
                } else e = this.alignOptions, t = this.alignByTranslate, i = this.alignTo;
                n = p(n, s[i], s), i = e.align, s = e.verticalAlign, o = (n.x || 0) + (e.x || 0), u = (n.y || 0) + (e.y || 0);
                if (i === "right" || i === "center") o += (n.width - (e.width || 0)) / {
                    right: 1,
                    center: 2
                }[i];
                a[t ? "translateX" : "x"] = z(o);
                if (s === "bottom" || s === "middle") u += (n.height - (e.height || 0)) / ({
                    bottom: 1,
                    middle: 2
                }[s] || 1);
                return a[t ? "translateY" : "y"] = z(u), this[this.placed ? "animate" : "attr"](a), this.placed = !0, this.alignAttr = a, this
            },
            getBBox: function() {
                var t = this.bBox,
                    n = this.renderer,
                    r, i, s = this.rotation;
                r = this.element;
                var o = this.styles,
                    u = s * Y;
                i = this.textStr;
                var a;
                if (i === "" || Tt.test(i)) a = i.length + "|" + o.fontSize + "|" + o.fontFamily, t = n.cache[a];
                if (!t) {
                    if (r.namespaceURI === ot || n.forExport) {
                        try {
                            t = r.getBBox ? e({}, r.getBBox()) : {
                                width: r.offsetWidth,
                                height: r.offsetHeight
                            }
                        } catch (f) {}
                        if (!t || t.width < 0) t = {
                            width: 0,
                            height: 0
                        }
                    } else t = this.htmlGetBBox();
                    n.isSVG && (r = t.width, i = t.height, tt && o && o.fontSize === "11px" && i.toPrecision(3) === "16.9" && (t.height = i = 14), s && (t.width = J(i * Q(u)) + J(r * K(u)), t.height = J(i * K(u)) + J(r * Q(u)))), this.bBox = t, a && (n.cache[a] = t)
                }
                return t
            },
            show: function() {
                return this.attr({
                    visibility: "visible"
                })
            },
            hide: function() {
                return this.attr({
                    visibility: "hidden"
                })
            },
            fadeOut: function(e) {
                var t = this;
                t.animate({
                    opacity: 0
                }, {
                    duration: e || 150,
                    complete: function() {
                        t.hide()
                    }
                })
            },
            add: function(e) {
                var t = this.renderer,
                    r = e || t,
                    i = r.element || t.box,
                    s = i.childNodes,
                    o = this.element,
                    u = c(o, "zIndex"),
                    a;
                e && (this.parentGroup = e), this.parentInverted = e && e.inverted, this.textStr !== void 0 && t.buildText(this), u && (r.handleZ = !0, u = n(u));
                if (r.handleZ)
                    for (r = 0; r < s.length; r++)
                        if (e = s[r], t = c(e, "zIndex"), e !== o && (n(t) > u || !l(u) && l(t))) {
                            i.insertBefore(o, e), a = !0;
                            break
                        }
                return a || i.appendChild(o), this.added = !0, Yt(this, "add"), this
            },
            safeRemoveChild: function(e) {
                var t = e.parentNode;
                t && t.removeChild(e)
            },
            destroy: function() {
                var e = this,
                    t = e.element || {},
                    n = e.shadows,
                    r = e.renderer.isSVG && t.nodeName === "SPAN" && e.parentGroup,
                    i, s;
                t.onclick = t.onmouseout = t.onmouseover = t.onmousemove = t.point = null, tn(e), e.clipPath && (e.clipPath = e.clipPath.destroy());
                if (e.stops) {
                    for (s = 0; s < e.stops.length; s++) e.stops[s] = e.stops[s].destroy();
                    e.stops = null
                }
                e.safeRemoveChild(t);
                for (n && Vt(n, function(t) {
                        e.safeRemoveChild(t)
                    }); r && r.div.childNodes.length === 0;) t = r.parentGroup, e.safeRemoveChild(r.div), delete r.div, r = t;
                e.alignTo && f(e.renderer.alignedObjects, e);
                for (i in e) delete e[i];
                return null
            },
            shadow: function(e, t, n) {
                var r = [],
                    i, s, o = this.element,
                    u, a, f, l;
                if (e) {
                    a = p(e.width, 3), f = (e.opacity || .15) / a, l = this.parentInverted ? "(-1,-1)" : "(" + p(e.offsetX, 1) + ", " + p(e.offsetY, 1) + ")";
                    for (i = 1; i <= a; i++) s = o.cloneNode(0), u = a * 2 + 1 - 2 * i, c(s, {
                        isShadow: "true",
                        stroke: e.color || "black",
                        "stroke-opacity": f * i,
                        "stroke-width": u,
                        transform: "translate" + l,
                        fill: xt
                    }), n && (c(s, "height", V(c(s, "height") - u, 0)), s.cutHeight = u), t ? t.element.appendChild(s) : o.parentNode.insertBefore(s, o), r.push(s);
                    this.shadows = r
                }
                return this
            }
        };
        var an = function() {
            this.init.apply(this, arguments)
        };
        an.prototype = {
            Element: D,
            init: function(e, t, n, r) {
                var i = location,
                    s, o;
                s = this.createElement("svg").attr({
                    version: "1.1"
                }), o = s.element, e.appendChild(o), e.innerHTML.indexOf("xmlns") === -1 && c(o, "xmlns", ot), this.isSVG = !0, this.box = o, this.boxWrapper = s, this.alignedObjects = [], this.url = (it || rt) && q.getElementsByTagName("base").length ? i.href.replace(/#.*?$/, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "", this.createElement("desc").add().element.appendChild(q.createTextNode("Created with Highcharts 3.0.9")), this.defs = this.createElement("defs").add(), this.forExport = r, this.gradients = {}, this.cache = {}, this.setSize(t, n, !1);
                var u;
                it && e.getBoundingClientRect && (this.subPixelFix = t = function() {
                    d(e, {
                        left: 0,
                        top: 0
                    }), u = e.getBoundingClientRect(), d(e, {
                        left: X(u.left) - u.left + "px",
                        top: X(u.top) - u.top + "px"
                    })
                }, t(), Qt(R, "resize", t))
            },
            isHidden: function() {
                return !this.boxWrapper.getBBox().width
            },
            destroy: function() {
                var e = this.defs;
                return this.box = null, this.boxWrapper = this.boxWrapper.destroy(), k(this.gradients || {}), this.gradients = null, e && (this.defs = e.destroy()), this.subPixelFix && Gt(R, "resize", this.subPixelFix), this.alignedObjects = null
            },
            createElement: function(e) {
                var t = new this.Element;
                return t.init(this, e), t
            },
            draw: function() {},
            buildText: function(e) {
                for (var t = e.element, r = this, i = r.forExport, s = p(e.textStr, "").toString().replace(/<(b|strong)>/g, '<span style="font-weight:bold">').replace(/<(i|em)>/g, '<span style="font-style:italic">').replace(/<a/g, "<span").replace(/<\/(b|strong|i|em|a)>/g, "</span>").split(/<br.*?>/g), o = t.childNodes, u = /style="([^"]+)"/, a = /href="(http[^"]+)"/, f = c(t, "x"), l = e.styles, h = e.textWidth, v = l && l.lineHeight, m = o.length, g = function(e) {
                        return v ? n(v) : r.fontMetrics(/px$/.test(e && e.style.fontSize) ? e.style.fontSize : l.fontSize || 11).h
                    }; m--;) t.removeChild(o[m]);
                h && !e.added && this.box.appendChild(t), s[s.length - 1] === "" && s.pop(), Vt(s, function(n, s) {
                    var o, p = 0,
                        n = n.replace(/<span/g, "|||<span").replace(/<\/span>/g, "</span>|||");
                    o = n.split("|||"), Vt(o, function(n) {
                        if (n !== "" || o.length === 1) {
                            var v = {},
                                m = q.createElementNS(ot, "tspan"),
                                y;
                            u.test(n) && (y = n.match(u)[1].replace(/(;| |^)color([ :])/, "$1fill$2"), c(m, "style", y)), a.test(n) && !i && (c(m, "onclick", 'location.href="' + n.match(a)[1] + '"'), d(m, {
                                cursor: "pointer"
                            })), n = (n.replace(/<(.|\n)*?>/g, "") || " ").replace(/&lt;/g, "<").replace(/&gt;/g, ">");
                            if (n !== " " && (m.appendChild(q.createTextNode(n)), p ? v.dx = 0 : v.x = f, c(m, v), !p && s && (!ut && i && d(m, {
                                    display: "block"
                                }), c(m, "dy", g(m), rt && m.offsetHeight)), t.appendChild(m), p++, h))
                                for (var n = n.replace(/([^\^])-/g, "$1- ").split(" "), v = n.length > 1 && l.whiteSpace !== "nowrap", b, w, E = e._clipHeight, S = [], x = g(), T = 1; v && (n.length || S.length);) delete e.bBox, b = e.getBBox(), w = b.width, !ut && r.forExport && (w = r.measureSpanWidth(m.firstChild.data, e.styles)), b = w > h, !b || n.length === 1 ? (n = S, S = [], n.length && (T++, E && T * x > E ? (n = ["..."], e.attr("title", e.textStr)) : (m = q.createElementNS(ot, "tspan"), c(m, {
                                    dy: x,
                                    x: f
                                }), y && c(m, "style", y), t.appendChild(m), w > h && (h = w)))) : (m.removeChild(m.firstChild), S.unshift(n.pop())), n.length && m.appendChild(q.createTextNode(n.join(" ").replace(/- /g, "-")))
                        }
                    })
                })
            },
            button: function(n, r, i, s, o, u, a, f, l) {
                var c = this.label(n, r, i, l, null, null, null, null, "button"),
                    h = 0,
                    p, d, v, m, g, y, n = {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 1
                    },
                    o = t({
                        "stroke-width": 1,
                        stroke: "#CCCCCC",
                        fill: {
                            linearGradient: n,
                            stops: [
                                [0, "#FEFEFE"],
                                [1, "#F6F6F6"]
                            ]
                        },
                        r: 2,
                        padding: 5,
                        style: {
                            color: "black"
                        }
                    }, o);
                return v = o.style, delete o.style, u = t(o, {
                    stroke: "#68A",
                    fill: {
                        linearGradient: n,
                        stops: [
                            [0, "#FFF"],
                            [1, "#ACF"]
                        ]
                    }
                }, u), m = u.style, delete u.style, a = t(o, {
                    stroke: "#68A",
                    fill: {
                        linearGradient: n,
                        stops: [
                            [0, "#9BD"],
                            [1, "#CDF"]
                        ]
                    }
                }, a), g = a.style, delete a.style, f = t(o, {
                    style: {
                        color: "#CCC"
                    }
                }, f), y = f.style, delete f.style, Qt(c.element, tt ? "mouseover" : "mouseenter", function() {
                    h !== 3 && c.attr(u).css(m)
                }), Qt(c.element, tt ? "mouseout" : "mouseleave", function() {
                    h !== 3 && (p = [o, u, a][h], d = [v, m, g][h], c.attr(p).css(d))
                }), c.setState = function(e) {
                    (c.state = h = e) ? e === 2 ? c.attr(a).css(g) : e === 3 && c.attr(f).css(y): c.attr(o).css(v)
                }, c.on("click", function() {
                    h !== 3 && s.call(c)
                }).attr(o).css(e({
                    cursor: "default"
                }, v))
            },
            crispLine: function(e, t) {
                return e[1] === e[4] && (e[1] = e[4] = z(e[1]) - t % 2 / 2), e[2] === e[5] && (e[2] = e[5] = z(e[2]) + t % 2 / 2), e
            },
            path: function(t) {
                var n = {
                    fill: xt
                };
                return s(t) ? n.d = t : i(t) && e(n, t), this.createElement("path").attr(n)
            },
            circle: function(e, t, n) {
                return e = i(e) ? e : {
                    x: e,
                    y: t,
                    r: n
                }, this.createElement("circle").attr(e)
            },
            arc: function(e, t, n, r, s, o) {
                return i(e) && (t = e.y, n = e.r, r = e.innerR, s = e.start, o = e.end, e = e.x), e = this.symbol("arc", e || 0, t || 0, n || 0, n || 0, {
                    innerR: r || 0,
                    start: s || 0,
                    end: o || 0
                }), e.r = n, e
            },
            rect: function(e, t, n, r, s, o) {
                return s = i(e) ? e.r : s, s = this.createElement("rect").attr({
                    rx: s,
                    ry: s,
                    fill: xt
                }), s.attr(i(e) ? e : s.crisp(o, e, t, V(n, 0), V(r, 0)))
            },
            setSize: function(e, t, n) {
                var r = this.alignedObjects,
                    i = r.length;
                this.width = e, this.height = t;
                for (this.boxWrapper[p(n, !0) ? "animate" : "attr"]({
                        width: e,
                        height: t
                    }); i--;) r[i].align()
            },
            g: function(e) {
                var t = this.createElement("g");
                return l(e) ? t.attr({
                    "class": "highcharts-" + e
                }) : t
            },
            image: function(t, n, r, i, s) {
                var o = {
                    preserveAspectRatio: xt
                };
                return arguments
                    .length > 1 && e(o, {
                        x: n,
                        y: r,
                        width: i,
                        height: s
                    }), o = this.createElement("image").attr(o), o.element.setAttributeNS ? o.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", t) : o.element.setAttribute("hc-svg-href", t), o
            },
            symbol: function(t, n, r, i, s, o) {
                var u, a = this.symbols[t],
                    a = a && a(z(n), z(r), i, s, o),
                    f = /^url\((.*?)\)$/,
                    l, c;
                return a ? (u = this.path(a), e(u, {
                    symbolName: t,
                    x: n,
                    y: r,
                    width: i,
                    height: s
                }), o && e(u, o)) : f.test(t) && (c = function(e, t) {
                    e.element && (e.attr({
                        width: t[0],
                        height: t[1]
                    }), e.alignByTranslate || e.translate(z((i - t[0]) / 2), z((s - t[1]) / 2)))
                }, l = t.match(f)[1], t = ht[l], u = this.image(l).attr({
                    x: n,
                    y: r
                }), u.isImg = !0, t ? c(u, t) : (u.attr({
                    width: 0,
                    height: 0
                }), v("img", {
                    onload: function() {
                        c(u, ht[l] = [this.width, this.height])
                    },
                    src: l
                }))), u
            },
            symbols: {
                circle: function(e, t, n, r) {
                    var i = .166 * n;
                    return ["M", e + n / 2, t, "C", e + n + i, t, e + n + i, t + r, e + n / 2, t + r, "C", e - i, t + r, e - i, t, e + n / 2, t, "Z"]
                },
                square: function(e, t, n, r) {
                    return ["M", e, t, "L", e + n, t, e + n, t + r, e, t + r, "Z"]
                },
                triangle: function(e, t, n, r) {
                    return ["M", e + n / 2, t, "L", e + n, t + r, e, t + r, "Z"]
                },
                "triangle-down": function(e, t, n, r) {
                    return ["M", e, t, "L", e + n, t, e + n / 2, t + r, "Z"]
                },
                diamond: function(e, t, n, r) {
                    return ["M", e + n / 2, t, "L", e + n, t + r / 2, e + n / 2, t + r, e, t + r / 2, "Z"]
                },
                arc: function(e, t, n, r, i) {
                    var s = i.start,
                        n = i.r || n || r,
                        o = i.end - .001,
                        r = i.innerR,
                        u = i.open,
                        a = K(s),
                        f = Q(s),
                        l = K(o),
                        o = Q(o),
                        i = i.end - s < G ? 0 : 1;
                    return ["M", e + n * a, t + n * f, "A", n, n, 0, i, 1, e + n * l, t + n * o, u ? "M" : "L", e + r * l, t + r * o, "A", r, r, 0, i, 0, e + r * a, t + r * f, u ? "" : "Z"]
                }
            },
            clipRect: function(e, t, n, r) {
                var i = "highcharts-" + pt++,
                    s = this.createElement("clipPath").attr({
                        id: i
                    }).add(this.defs),
                    e = this.rect(e, t, n, r, 0).add(s);
                return e.id = i, e.clipPath = s, e
            },
            color: function(e, n, r) {
                var i = this,
                    o, u = /^rgba/,
                    a, f, h, p, d, v, m, g = [];
                e && e.linearGradient ? a = "linearGradient" : e && e.radialGradient && (a = "radialGradient");
                if (a) {
                    r = e[a], f = i.gradients, p = e.stops, n = n.radialReference, s(r) && (e[a] = r = {
                        x1: r[0],
                        y1: r[1],
                        x2: r[2],
                        y2: r[3],
                        gradientUnits: "userSpaceOnUse"
                    }), a === "radialGradient" && n && !l(r.gradientUnits) && (r = t(r, {
                        cx: n[0] - n[2] / 2 + r.cx * n[2],
                        cy: n[1] - n[2] / 2 + r.cy * n[2],
                        r: r.r * n[2],
                        gradientUnits: "userSpaceOnUse"
                    }));
                    for (m in r) m !== "id" && g.push(m, r[m]);
                    for (m in p) g.push(p[m]);
                    return g = g.join(","), f[g] ? e = f[g].id : (r.id = e = "highcharts-" + pt++, f[g] = h = i.createElement(a).attr(r).add(i.defs), h.stops = [], Vt(p, function(e) {
                        u.test(e[1]) ? (o = un(e[1]), d = o.get("rgb"), v = o.get("a")) : (d = e[1], v = 1), e = i.createElement("stop").attr({
                            offset: e[0],
                            "stop-color": d,
                            "stop-opacity": v
                        }).add(h), h.stops.push(e)
                    })), "url(" + i.url + "#" + e + ")"
                }
                return u.test(e) ? (o = un(e), c(n, r + "-opacity", o.get("a")), o.get("rgb")) : (n.removeAttribute(r + "-opacity"), e)
            },
            text: function(e, t, n, r) {
                var i = vt.chart.style,
                    s = ft || !ut && this.forExport;
                return r && !this.forExport ? this.html(e, t, n) : (t = z(p(t, 0)), n = z(p(n, 0)), e = this.createElement("text").attr({
                    x: t,
                    y: n,
                    text: e
                }).css({
                    fontFamily: i.fontFamily,
                    fontSize: i.fontSize
                }), s && e.css({
                    position: "absolute"
                }), e.x = t, e.y = n, e)
            },
            fontMetrics: function(e) {
                var e = n(e || 11),
                    e = e < 24 ? e + 4 : z(e * 1.2),
                    t = z(e * .8);
                return {
                    h: e,
                    b: t
                }
            },
            label: function(n, r, i, s, o, u, a, f, c) {
                function h() {
                    var e, n;
                    e = y.element.style, w = (T === void 0 || N === void 0 || g.styles.textAlign) && y.getBBox(), g.width = (T || w.width || 0) + 2 * S + x, g.height = (N || w.height || 0) + 2 * S, O = S + m.fontMetrics(e && e.fontSize).b, M && (b || (e = z(-E * S), n = f ? -O : 0, g.box = b = s ? m.symbol(s, e, n, g.width, g.height, A) : m.rect(e, n, g.width, g.height, 0, A[Ct]), b.add(g)), b.isImg || b.attr(t({
                        width: g.width,
                        height: g.height
                    }, A)), A = null)
                }

                function p() {
                    var e = g.styles,
                        e = e && e.textAlign,
                        t = x + S * (1 - E),
                        n;
                    n = f ? 0 : O, l(T) && (e === "center" || e === "right") && (t += {
                        center: .5,
                        right: 1
                    }[e] * (T - w.width)), (t !== y.x || n !== y.y) && y.attr({
                        x: t,
                        y: n
                    }), y.x = t, y.y = n
                }

                function d(e, t) {
                    b ? b.attr(e, t) : A[e] = t
                }

                function v() {
                    y.add(g), g.attr({
                        text: n,
                        x: r,
                        y: i
                    }), b && l(o) && g.attr({
                        anchorX: o,
                        anchorY: u
                    })
                }
                var m = this,
                    g = m.g(c),
                    y = m.text("", 0, 0, a).attr({
                        zIndex: 1
                    }),
                    b, w, E = 0,
                    S = 3,
                    x = 0,
                    T, N, C, k, L = 0,
                    A = {},
                    O, a = g.attrSetters,
                    M;
                Qt(g, "add", v), a.width = function(e) {
                    return T = e, !1
                }, a.height = function(e) {
                    return N = e, !1
                }, a.padding = function(e) {
                    return l(e) && e !== S && (S = e, p()), !1
                }, a.paddingLeft = function(e) {
                    return l(e) && e !== x && (x = e, p()), !1
                }, a.align = function(e) {
                    return E = {
                        left: 0,
                        center: .5,
                        right: 1
                    }[e], !1
                }, a.text = function(e, t) {
                    return y.attr(t, e), h(), p(), !1
                }, a[Ct] = function(e, t) {
                    return M = !0, L = e % 2 / 2, d(t, e), !1
                }, a.stroke = a.fill = a.r = function(e, t) {
                    return t === "fill" && (M = !0), d(t, e), !1
                }, a.anchorX = function(e, t) {
                    return o = e, d(t, e + L - C), !1
                }, a.anchorY = function(e, t) {
                    return u = e, d(t, e - k), !1
                }, a.x = function(e) {
                    return g.x = e, e -= E * ((T || w.width) + S), C = z(e), g.attr("translateX", C), !1
                }, a.y = function(e) {
                    return k = g.y = z(e), g.attr("translateY", k), !1
                };
                var _ = g.css;
                return e(g, {
                    css: function(e) {
                        if (e) {
                            var n = {},
                                e = t(e);
                            Vt("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","), function(t) {
                                e[t] !== I && (n[t] = e[t], delete e[t])
                            }), y.css(n)
                        }
                        return _.call(g, e)
                    },
                    getBBox: function() {
                        return {
                            width: w.width + 2 * S,
                            height: w.height + 2 * S,
                            x: w.x - S,
                            y: w.y - S
                        }
                    },
                    shadow: function(e) {
                        return b && b.shadow(e), g
                    },
                    destroy: function() {
                        Gt(g, "add", v), Gt(g.element, "mouseenter"), Gt(g.element, "mouseleave"), y && (y = y.destroy()), b && (b = b.destroy()), D.prototype.destroy.call(g), g = m = h = p = d = v = null
                    }
                })
            }
        }, lt = an, e(D.prototype, {
            htmlCss: function(t) {
                var n = this.element;
                if (n = t && n.tagName === "SPAN" && t.width) delete t.width, this.textWidth = n, this.updateTransform();
                return this.styles = e(this.styles, t), d(this.element, t), this
            },
            htmlGetBBox: function() {
                var e = this.element,
                    t = this.bBox;
                return t || (e.nodeName === "text" && (e.style.position = "absolute"), t = this.bBox = {
                    x: e.offsetLeft,
                    y: e.offsetTop,
                    width: e.offsetWidth,
                    height: e.offsetHeight
                }), t
            },
            htmlUpdateTransform: function() {
                if (this.added) {
                    var e = this.renderer,
                        t = this.element,
                        r = this.translateX || 0,
                        i = this.translateY || 0,
                        s = this.x || 0,
                        o = this.y || 0,
                        u = this.textAlign || "left",
                        a = {
                            left: 0,
                            center: .5,
                            right: 1
                        }[u],
                        f = this.shadows;
                    d(t, {
                        marginLeft: r,
                        marginTop: i
                    }), f && Vt(f, function(e) {
                        d(e, {
                            marginLeft: r + 1,
                            marginTop: i + 1
                        })
                    }), this.inverted && Vt(t.childNodes, function(n) {
                        e.invertChild(n, t)
                    });
                    if (t.tagName === "SPAN") {
                        var c = this.rotation,
                            h, v = n(this.textWidth),
                            m = [c, u, t.innerHTML, this.textWidth].join(",");
                        m !== this.cTT && (h = e.fontMetrics(t.style.fontSize).b, l(c) && this.setSpanRotation(c, a, h), f = p(this.elemWidth, t.offsetWidth), f > v && /[ \-]/.test(t.textContent || t.innerText) && (d(t, {
                            width: v + "px",
                            display: "block",
                            whiteSpace: "normal"
                        }), f = v), this.getSpanCorrection(f, h, a, c, u)), d(t, {
                            left: s + (this.xCorr || 0) + "px",
                            top: o + (this.yCorr || 0) + "px"
                        }), rt && (h = t.offsetHeight), this.cTT = m
                    }
                } else this.alignOnAdd = !0
            },
            setSpanRotation: function(e, t, n) {
                var r = {},
                    i = tt ? "-ms-transform" : rt ? "-webkit-transform" : it ? "MozTransform" : et ? "-o-transform" : "";
                r[i] = r.transform = "rotate(" + e + "deg)", r[i + (it ? "Origin" : "-origin")] = t * 100 + "% " + n + "px", d(this.element, r)
            },
            getSpanCorrection: function(e, t, n) {
                this.xCorr = -e * n, this.yCorr = -t
            }
        }), e(an.prototype, {
            html: function(t, n, r) {
                var i = vt.chart.style,
                    s = this.createElement("span"),
                    o = s.attrSetters,
                    u = s.element,
                    a = s.renderer;
                return o.text = function(e) {
                    return e !== u.innerHTML && delete this.bBox, u.innerHTML = e, !1
                }, o.x = o.y = o.align = o.rotation = function(e, t) {
                    return t === "align" && (t = "textAlign"), s[t] = e, s.htmlUpdateTransform(), !1
                }, s.attr({
                    text: t,
                    x: z(n),
                    y: z(r)
                }).css({
                    position: "absolute",
                    whiteSpace: "nowrap",
                    fontFamily: i.fontFamily,
                    fontSize: i.fontSize
                }), s.css = s.htmlCss, a.isSVG && (s.add = function(t) {
                    var n, r = a.box.parentNode,
                        i = [];
                    if (this.parentGroup = t) {
                        if (n = t.div, !n) {
                            for (; t;) i.push(t), t = t.parentGroup;
                            Vt(i.reverse(), function(t) {
                                var i;
                                n = t.div = t.div || v(St, {
                                    className: c(t.element, "class")
                                }, {
                                    position: "absolute",
                                    left: (t.translateX || 0) + "px",
                                    top: (t.translateY || 0) + "px"
                                }, n || r), i = n.style, e(t.attrSetters, {
                                    translateX: function(e) {
                                        i.left = e + "px"
                                    },
                                    translateY: function(e) {
                                        i.top = e + "px"
                                    },
                                    visibility: function(e, t) {
                                        i[t] = e
                                    }
                                })
                            })
                        }
                    } else n = r;
                    return n.appendChild(u), s.added = !0, s.alignOnAdd && s.htmlUpdateTransform(), s
                }), s
            }
        });
        var fn;
        if (!ut && !ft) {
            Highcharts.VMLElement = fn = {
                init: function(e, t) {
                    var n = ["<", t, ' filled="f" stroked="f"'],
                        r = ["position: ", "absolute", ";"],
                        i = t === St;
                    (t === "shape" || i) && r.push("left:0;top:0;width:1px;height:1px;"), r.push("visibility: ", i ? "hidden" : "visible"), n.push(' style="', r.join(""), '"/>'), t && (n = i || t === "span" || t === "img" ? n.join("") : e.prepVML(n), this.element = v(n)), this.renderer = e, this.attrSetters = {}
                },
                add: function(e) {
                    var t = this.renderer,
                        n = this.element,
                        r = t.box,
                        r = e ? e.element || e : r;
                    return e && e.inverted && t.invertChild(n, r), r.appendChild(n), this.added = !0, this.alignOnAdd && !this.deferUpdateTransform && this.updateTransform(), Yt(this, "add"), this
                },
                updateTransform: D.prototype.htmlUpdateTransform,
                setSpanRotation: function() {
                    var e = this.rotation,
                        t = K(e * Y),
                        n = Q(e * Y);
                    d(this.element, {
                        filter: e ? ["progid:DXImageTransform.Microsoft.Matrix(M11=", t, ", M12=", -n, ", M21=", n, ", M22=", t, ", sizingMethod='auto expand')"].join("") : xt
                    })
                },
                getSpanCorrection: function(e, t, n, r, i) {
                    var s = r ? K(r * Y) : 1,
                        o = r ? Q(r * Y) : 0,
                        u = p(this.elemHeight, this.element.offsetHeight),
                        a;
                    this.xCorr = s < 0 && -e, this.yCorr = o < 0 && -u, a = s * o < 0, this.xCorr += o * t * (a ? 1 - n : n), this.yCorr -= s * t * (r ? a ? n : 1 - n : 1), i && i !== "left" && (this.xCorr -= e * n * (s < 0 ? -1 : 1), r && (this.yCorr -= u * n * (o < 0 ? -1 : 1)), d(this.element, {
                        textAlign: i
                    }))
                },
                pathToVML: function(e) {
                    for (var t = e.length, n = []; t--;)
                        if (o(e[t])) n[t] = z(e[t] * 10) - 5;
                        else if (e[t] === "Z") n[t] = "x";
                    else if (n[t] = e[t], e.isArc && (e[t] === "wa" || e[t] === "at")) n[t + 5] === n[t + 7] && (n[t + 7] += e[t + 7] > e[t + 5] ? 1 : -1), n[t + 6] === n[t + 8] && (n[t + 8] += e[t + 8] > e[t + 6] ? 1 : -1);
                    return n.join(" ") || "x"
                },
                attr: function(e, t) {
                    var n, i, s, u = this.element || {},
                        a = u.style,
                        f = u.nodeName,
                        h = this.renderer,
                        p = this.symbolName,
                        d, m = this.shadows,
                        g, y = this.attrSetters,
                        b = this;
                    r(e) && l(t) && (n = e, e = {}, e[n] = t);
                    if (r(e)) n = e, b = n === "strokeWidth" || n === "stroke-width" ? this.strokeweight : this[n];
                    else
                        for (n in e)
                            if (i = e[n], g = !1, s = y[n] && y[n].call(this, i, n), s !== !1 && i !== null) {
                                s !== I && (i = s);
                                if (p && /^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n)) d || (this.symbolAttr(e), d = !0), g = !0;
                                else if (n === "d") {
                                    i = i || [], this.d = i.join(" "), u.path = i = this.pathToVML(i);
                                    if (m)
                                        for (s = m.length; s--;) m[s].path = m[s].cutOff ? this.cutOffPath(i, m[s].cutOff) : i;
                                    g = !0
                                } else if (n === "visibility") {
                                    if (m)
                                        for (s = m.length; s--;) m[s].style[n] = i;
                                    f === "DIV" && (i = i === "hidden" ? "-999em" : 0, nt || (a[n] = i ? "visible" : "hidden"), n = "top"), a[n] = i, g = !0
                                } else if (n === "zIndex") i && (a[n] = i), g = !0;
                                else if (Xt(n, ["x", "y", "width", "height"]) !== -1) this[n] = i, n === "x" || n === "y" ? n = {
                                    x: "left",
                                    y: "top"
                                }[n] : i = V(0, i), this.updateClipping ? (this[n] = i, this.updateClipping()) : a[n] = i, g = !0;
                                else if (n === "class" && f === "DIV") u.className = i;
                                else if (n === "stroke") i = h.color(i, u, n), n = "strokecolor";
                                else if (n === "stroke-width" || n === "strokeWidth") u.stroked = i ? !0 : !1, n = "strokeweight", this[n] = i, o(i) && (i += "px");
                                else if (n === "dashstyle")(u.getElementsByTagName("stroke")[0] || v(h.prepVML(["<stroke/>"]), null, null, u))[n] = i || "solid", this.dashstyle = i, g = !0;
                                else if (n === "fill") f === "SPAN" ? a.color = i : f !== "IMG" && (u.filled = i !== xt ? !0 : !1, i = h.color(i, u, n, this), n = "fillcolor");
                                else if (n === "opacity") g = !0;
                                else if (f === "shape" && n === "rotation") this[n] = u.style[n] = i, u.style.left = -z(Q(i * Y) + 1) + "px", u.style.top = z(K(i * Y)) + "px";
                                else if (n === "translateX" || n === "translateY" || n === "rotation") this[n] = i, this.updateTransform(), g = !0;
                                g || (nt ? u[n] = i : c(u, n, i))
                            } return b
                },
                clip: function(e) {
                    var t = this,
                        n;
                    return e ? (n = e.members, f(n, t), n.push(t), t.destroyClip = function() {
                        f(n, t)
                    }, e = e.getCSS(t)) : (t.destroyClip && t.destroyClip(), e = {
                        clip: nt ? "inherit" : "rect(auto)"
                    }), t.css(e)
                },
                css: D.prototype.htmlCss,
                safeRemoveChild: function(e) {
                    e.parentNode && L(e)
                },
                destroy: function() {
                    return this.destroyClip && this.destroyClip(), D.prototype.destroy.apply(this)
                },
                on: function(e, t) {
                    return this.element["on" + e] = function() {
                        var e = R.event;
                        e.target = e.srcElement, t(e)
                    }, this
                },
                cutOffPath: function(e, t) {
                    var r, e = e.split(/[ ,]/);
                    r = e.length;
                    if (r === 9 || r === 11) e[r - 4] = e[r - 2] = n(e[r - 2]) - 10 * t;
                    return e.join(" ")
                },
                shadow: function(e, t, r) {
                    var i = [],
                        s, o = this.element,
                        u = this.renderer,
                        a, f = o.style,
                        l, c = o.path,
                        h, d, m, g;
                    c && typeof c.value != "string" && (c = "x"), d = c;
                    if (e) {
                        m = p(e.width, 3), g = (e.opacity || .15) / m;
                        for (s = 1; s <= 3; s++) h = m * 2 + 1 - 2 * s, r && (d = this.cutOffPath(c.value, h + .5)), l = ['<shape isShadow="true" strokeweight="', h, '" filled="false" path="', d, '" coordsize="10 10" style="', o.style.cssText, '" />'], a = v(u.prepVML(l), null, {
                            left: n(f.left) + p(e.offsetX, 1),
                            top: n(f.top) + p(e.offsetY, 1)
                        }), r && (a.cutOff = h + 1), l = ['<stroke color="', e.color || "black", '" opacity="', g * s, '"/>'], v(u.prepVML(l), null, null, a), t ? t.element.appendChild(a) : o.parentNode.insertBefore(a, o), i.push(a);
                        this.shadows = i
                    }
                    return this
                }
            }, fn = m(D, fn);
            var ln = {
                Element: fn,
                isIE8: Z.indexOf("MSIE 8.0") > -1,
                init: function(e, t, n) {
                    var r, i;
                    this.alignedObjects = [], r = this.createElement(St), i = r.element, i.style.position = "relative", e.appendChild(r.element), this.isVML = !0, this.box = i, this.boxWrapper = r, this.cache = {}, this.setSize(t, n, !1);
                    if (!q.namespaces.hcv) {
                        q.namespaces.add("hcv", "urn:schemas-microsoft-com:vml");
                        try {
                            q.createStyleSheet().cssText = "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "
                        } catch (s) {
                            q.styleSheets[0].cssText += "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "
                        }
                    }
                },
                isHidden: function() {
                    return !this.box.offsetWidth
                },
                clipRect: function(t, n, r, s) {
                    var o = this.createElement(),
                        u = i(t);
                    return e(o, {
                        members: [],
                        left: (u ? t.x : t) + 1,
                        top: (u ? t.y : n) + 1,
                        width: (u ? t.width : r) - 1,
                        height: (u ? t.height : s) - 1,
                        getCSS: function(t) {
                            var n = t.element,
                                r = n.nodeName,
                                t = t.inverted,
                                i = this.top - (r === "shape" ? n.offsetTop : 0),
                                s = this.left,
                                n = s + this.width,
                                o = i + this.height,
                                i = {
                                    clip: "rect(" + z(t ? s : i) + "px," + z(t ? o : n) + "px," + z(t ? n : o) + "px," + z(t ? i : s) + "px)"
                                };
                            return !t && nt && r === "DIV" && e(i, {
                                width: n + "px",
                                height: o + "px"
                            }), i
                        },
                        updateClipping: function() {
                            Vt(o.members, function(e) {
                                e.css(o.getCSS(e))
                            })
                        }
                    })
                },
                color: function(e, t, n, r) {
                    var i = this,
                        s, o = /^rgba/,
                        u, a, f = xt;
                    e && e.linearGradient ? a = "gradient" : e && e.radialGradient && (a = "pattern");
                    if (a) {
                        var l, c, h = e.linearGradient || e.radialGradient,
                            p, d, m, g, y, b = "",
                            e = e.stops,
                            w, E = [],
                            S = function() {
                                u = ['<fill colors="' + E.join(",") + '" opacity="', m, '" o:opacity2="', d, '" type="', a, '" ', b, 'focus="100%" method="any" />'], v(i.prepVML(u), null, null, t)
                            };
                        p = e[0], w = e[e.length - 1], p[0] > 0 && e.unshift([0, p[1]]), w[0] < 1 && e.push([1, w[1]]), Vt(e, function(e, t) {
                            o.test(e[1]) ? (s = un(e[1]), l = s.get("rgb"), c = s.get("a")) : (l = e[1], c = 1), E.push(e[0] * 100 + "% " + l), t ? (m = c, g = l) : (d = c, y = l)
                        });
                        if (n === "fill")
                            if (a === "gradient") n = h.x1 || h[0] || 0, e = h.y1 || h[1] || 0, p = h.x2 || h[2] || 0, h = h.y2 || h[3] || 0, b = 'angle="' + (90 - U.atan((h - e) / (p - n)) * 180 / G) + '"', S();
                            else {
                                var f = h.r,
                                    x = f * 2,
                                    T = f * 2,
                                    N = h.cx,
                                    C = h.cy,
                                    k = t.radialReference,
                                    L, f = function() {
                                        k && (L = r.getBBox(), N += (k[0] - L.x) / L.width - .5, C += (k[1] - L.y) / L.height - .5, x *= k[2] / L.width, T *= k[2] / L.height), b = 'src="' + vt.global.VMLRadialGradientURL + '" size="' + x + "," + T + '" origin="0.5,0.5" position="' + N + "," + C + '" color2="' + y + '" ', S()
                                    };
                                r.added ? f() : Qt(r, "add", f), f = g
                            }
                        else f = l
                    } else o.test(e) && t.tagName !== "IMG" ? (s = un(e), u = ["<", n, ' opacity="', s.get("a"), '"/>'], v(this.prepVML(u), null, null, t), f = s.get("rgb")) : (f = t.getElementsByTagName(n), f.length && (f[0].opacity = 1, f[0].type = "solid"), f = e);
                    return f
                },
                prepVML: function(e) {
                    var t = this.isIE8,
                        e = e.join("");
                    return t ? (e = e.replace("/>", ' xmlns="urn:schemas-microsoft-com:vml" />'), e = e.indexOf('style="') === -1 ? e.replace("/>", ' style="display:inline-block;behavior:url(#default#VML);" />') : e.replace('style="', 'style="display:inline-block;behavior:url(#default#VML);')) : e = e.replace("<", "<hcv:"), e
                },
                text: an.prototype.html,
                path: function(t) {
                    var n = {
                        coordsize: "10 10"
                    };
                    return s(t) ? n.d = t : i(t) && e(n, t), this.createElement("shape").attr(n)
                },
                circle: function(e, t, n) {
                    var r = this.symbol("circle");
                    return i(e) && (n = e.r, t = e.y, e = e.x), r.isCircle = !0, r.r = n, r.attr({
                        x: e,
                        y: t
                    })
                },
                g: function(e) {
                    var t;
                    return e && (t = {
                        className: "highcharts-" + e,
                        "class": "highcharts-" + e
                    }), this.createElement(St).attr(t)
                },
                image: function(e, t, n, r, i) {
                    var s = this.createElement("img").attr({
                        src: e
                    });
                    return arguments.length > 1 && s.attr({
                        x: t,
                        y: n,
                        width: r,
                        height: i
                    }), s
                },
                rect: function(e, t, n, r, s, o) {
                    var u = this.symbol("rect");
                    return u.r = i(e) ? e.r : s, u.attr(i(e) ? e : u.crisp(o, e, t, V(n, 0), V(r, 0)))
                },
                invertChild: function(e, t) {
                    var r = t.style;
                    d(e, {
                        flip: "x",
                        left: n(r.width) - 1,
                        top: n(r.height) - 1,
                        rotation: -90
                    })
                },
                symbols: {
                    arc: function(e, t, n, r, i) {
                        var s = i.start,
                            o = i.end,
                            u = i.r || n || r,
                            n = i.innerR,
                            r = K(s),
                            a = Q(s),
                            f = K(o),
                            l = Q(o);
                        return o - s === 0 ? ["x"] : (s = ["wa", e - u, t - u, e + u, t + u, e + u * r, t + u * a, e + u * f, t + u * l], i.open && !n && s.push("e", "M", e, t), s.push("at", e - n, t - n, e + n, t + n, e + n * f, t + n * l, e + n * r, t + n * a, "x", "e"), s.isArc = !0, s)
                    },
                    circle: function(e, t, n, r, i) {
                        return i && (n = r = 2 * i.r), i && i.isCircle && (e -= n / 2, t -= r / 2), ["wa", e, t, e + n, t + r, e + n, t + r / 2, e + n, t + r / 2, "e"]
                    },
                    rect: function(e, t, n, r, i) {
                        var s = e + n,
                            o = t + r,
                            u;
                        return !l(i) || !i.r ? s = an.prototype.symbols.square.apply(0, arguments) : (u = $(i.r, n, r), s = ["M", e + u, t, "L", s - u, t, "wa", s - 2 * u, t, s, t + 2 * u, s - u, t, s, t + u, "L", s, o - u, "wa", s - 2 * u, o - 2 * u, s, o, s, o - u, s - u, o, "L", e + u, o, "wa", e, o - 2 * u, e + 2 * u, o, e + u, o, e, o - u, "L", e, t + u, "wa", e, t, e + 2 * u, t + 2 * u, e, t + u, e + u, t, "x", "e"]), s
                    }
                }
            };
            Highcharts.VMLRenderer = fn = function() {
                this.init.apply(this, arguments)
            }, fn.prototype = t(an.prototype, ln), lt = fn
        }
        an.prototype.measureSpanWidth = function(e, t) {
            var n = q.createElement("span"),
                r;
            return r = q.createTextNode(e), n.appendChild(r), d(n, t), this.box.appendChild(n), r = n.offsetWidth, L(n), r
        };
        var cn;
        ft && (Highcharts.CanVGRenderer = fn = function() {
            ot = "http://www.w3.org/1999/xhtml"
        }, fn.prototype.symbols = {}, cn = function() {
            function e() {
                var e = t.length,
                    n;
                for (n = 0; n < e; n++) t[n]();
                t = []
            }
            var t = [];
            return {
                push: function(n, r) {
                    t.length === 0 && Wt(r, e), t.push(n)
                }
            }
        }(), lt = fn), P.prototype = {
            addLabel: function() {
                var t = this.axis,
                    n = t.options,
                    r = t.chart,
                    i = t.horiz,
                    s = t.categories,
                    u = t.names,
                    f = this.pos,
                    c = n.labels,
                    h = t.tickPositions,
                    i = i && s && !c.step && !c.staggerLines && !c.rotation && r.plotWidth / h.length || !i && (r.margin[3] || r.chartWidth * .33),
                    d = f === h[0],
                    v = f === h[h.length - 1],
                    m, u = s ? p(s[f], u[f], f) : f,
                    s = this.label,
                    g = h.info;
                t.isDatetimeAxis && g && (m = n.dateTimeLabelFormats[g.higherRanks[f] || g.unitName]), this.isFirst = d, this.isLast = v, n = t.labelFormatter.call({
                    axis: t,
                    chart: r,
                    isFirst: d,
                    isLast: v,
                    dateTimeLabelFormat: m,
                    value: t.isLog ? O(a(u)) : u
                }), f = i && {
                    width: V(1, z(i - 2 * (c.padding || 10))) + "px"
                }, f = e(f, c.style), l(s) ? s && s.attr({
                    text: n
                }).css(f) : (m = {
                    align: t.labelAlign
                }, o(c.rotation) && (m.rotation = c.rotation), i && c.ellipsis && (m._clipHeight = t.len / h.length), this.label = l(n) && c.enabled ? r.renderer.text(n, 0, 0, c.useHTML).attr(m).css(f).add(t.labelGroup) : null)
            },
            getLabelSize: function() {
                var e = this.label,
                    t = this.axis;
                return e ? e.getBBox()[t.horiz ? "height" : "width"] : 0
            },
            getLabelSides: function() {
                var e = this.label.getBBox(),
                    t = this.axis,
                    n = t.horiz,
                    r = t.options.labels,
                    e = n ? e.width : e.height,
                    t = n ? e * {
                        left: 0,
                        center: .5,
                        right: 1
                    }[t.labelAlign] - r.x : e;
                return [-t, e - t]
            },
            handleOverflow: function(e, t) {
                var n, r = !0,
                    i = this.axis,
                    s = this.isFirst,
                    o = this.isLast,
                    u = i.horiz ? t.x : t.y,
                    a = i.reversed,
                    f = i.tickPositions,
                    l = this.getLabelSides(),
                    c = l[0],
                    l = l[1],
                    h = i.pos,
                    p = h + i.len,
                    d = this.label.line || 0,
                    v = i.labelEdge,
                    m = i.justifyLabels && (s || o);
                return v[d] === I || u + c > v[d] ? v[d] = u + l : m || (r = !1), m && (n = (i = i.ticks[f[e + (s ? 1 : -1)]]) && i.label.xy && i.label.xy.x + i.getLabelSides()[s ? 0 : 1], f = n, s && !a || o && a ? u + c < h && (u = h - c, i && u + l > f && (r = !1)) : u + l > p && (u = p - l, i && u + c < f && (r = !1)), t.x = u), r
            },
            getPosition: function(e, t, n, r) {
                var i = this.axis,
                    s = i.chart,
                    o = r && s.oldChartHeight || s.chartHeight;
                return {
                    x: e ? i.translate(t + n, null, null, r) + i.transB : i.left + i.offset + (i.opposite ? (r && s.oldChartWidth || s.chartWidth) - i.right - i.left : 0),
                    y: e ? o - i.bottom + i.offset - (i.opposite ? i.height : 0) : o - i.translate(t + n, null, null, r) - i.transB
                }
            },
            getLabelPosition: function(e, t, n, r, i, s, o, u) {
                var a = this.axis,
                    f = a.transA,
                    c = a.reversed,
                    h = a.staggerLines,
                    p = a.chart.renderer.fontMetrics(i.style.fontSize).b,
                    d = i.rotation,
                    e = e + i.x - (s && r ? s * f * (c ? -1 : 1) : 0),
                    t = t + i.y - (s && !r ? s * f * (c ? 1 : -1) : 0);
                return d && a.side === 2 && (t -= p - p * K(d * Y)), !l(i.y) && !d && (t += p - n.getBBox().height / 2), h && (n.line = o / (u || 1) % h, t += n.line * (a.labelOffset / h)), {
                    x: e,
                    y: t
                }
            },
            getMarkPath: function(e, t, n, r, i, s) {
                return s.crispLine(["M", e, t, "L", e + (i ? 0 : -n), t + (i ? n : 0)], r)
            },
            render: function(e, t, n) {
                var r = this.axis,
                    i = r.options,
                    s = r.chart.renderer,
                    o = r.horiz,
                    u = this.type,
                    a = this.label,
                    f = this.pos,
                    l = i.labels,
                    c = this.gridLine,
                    h = u ? u + "Grid" : "grid",
                    d = u ? u + "Tick" : "tick",
                    v = i[h + "LineWidth"],
                    m = i[h + "LineColor"],
                    g = i[h + "LineDashStyle"],
                    y = i[d + "Length"],
                    h = i[d + "Width"] || 0,
                    b = i[d + "Color"],
                    w = i[d + "Position"],
                    d = this.mark,
                    E = l.step,
                    S = !0,
                    x = r.tickmarkOffset,
                    T = this.getPosition(o, f, x, t),
                    N = T.x,
                    T = T.y,
                    C = o && N === r.pos + r.len || !o && T === r.pos ? -1 : 1;
                this.isActive = !0, v && (f = r.getPlotLinePath(f + x, v * C, t, !0), c === I && (c = {
                    stroke: m,
                    "stroke-width": v
                }, g && (c.dashstyle = g), u || (c.zIndex = 1), t && (c.opacity = 0), this.gridLine = c = v ? s.path(f).attr(c).add(r.gridGroup) : null), !t && c && f && c[this.isNew ? "attr" : "animate"]({
                    d: f,
                    opacity: n
                })), h && y && (w === "inside" && (y = -y), r.opposite && (y = -y), u = this.getMarkPath(N, T, y, h * C, o, s), d ? d.animate({
                    d: u,
                    opacity: n
                }) : this.mark = s.path(u).attr({
                    stroke: b,
                    "stroke-width": h,
                    opacity: n
                }).add(r.axisGroup)), a && !isNaN(N) && (a.xy = T = this.getLabelPosition(N, T, a, o, l, x, e, E), this.isFirst && !this.isLast && !p(i.showFirstLabel, 1) || this.isLast && !this.isFirst && !p(i.showLastLabel, 1) ? S = !1 : !r.isRadial && !l.step && !l.rotation && !t && n !== 0 && (S = this.handleOverflow(e, T)), E && e % E && (S = !1), S && !isNaN(T.y) ? (T.opacity = n, a[this.isNew ? "attr" : "animate"](T), this.isNew = !1) : a.attr("y", -9999))
            },
            destroy: function() {
                k(this, this.axis)
            }
        };
        var hn = function(e, t) {
            this.axis = e, t && (this.options = t, this.id = t.id)
        };
        hn.prototype = {
            render: function() {
                var e = this,
                    n = e.axis,
                    r = n.horiz,
                    i = (n.pointRange || 0) / 2,
                    s = e.options,
                    o = s.label,
                    a = e.label,
                    f = s.width,
                    c = s.to,
                    h = s.from,
                    d = l(h) && l(c),
                    v = s.value,
                    m = s.dashStyle,
                    g = e.svgElem,
                    y = [],
                    b, w = s.color,
                    E = s.zIndex,
                    S = s.events,
                    x = n.chart.renderer;
                n.isLog && (h = u(h), c = u(c), v = u(v));
                if (f) {
                    if (y = n.getPlotLinePath(v, f), i = {
                            stroke: w,
                            "stroke-width": f
                        }, m) i.dashstyle = m
                } else {
                    if (!d) return;
                    if (h = V(h, n.min - i), c = $(c, n.max + i), y = n.getPlotBandPath(h, c, s), i = {
                            fill: w
                        }, s.borderWidth) i.stroke = s.borderColor, i["stroke-width"] = s.borderWidth
                }
                l(E) && (i.zIndex = E);
                if (g) {
                    if (y) g.animate({
                        d: y
                    }, null, g.onGetPath);
                    else if (g.hide(), g.onGetPath = function() {
                            g.show()
                        }, a) e.label = a = a.destroy()
                } else if (y && y.length && (e.svgElem = g = x.path(y).attr(i).add(), S))
                    for (b in s = function(t) {
                            g.on(t, function(n) {
                                S[t].apply(e, [n])
                            })
                        }, S) s(b);
                return o && l(o.text) && y && y.length && n.width > 0 && n.height > 0 ? (o = t({
                    align: r && d && "center",
                    x: r ? !d && 4 : 10,
                    verticalAlign: !r && d && "middle",
                    y: r ? d ? 16 : 10 : d ? 6 : -4,
                    rotation: r && !d && 90
                }, o), a || (e.label = a = x.text(o.text, 0, 0, o.useHTML).attr({
                    align: o.textAlign || o.align,
                    rotation: o.rotation,
                    zIndex: E
                }).css(o.style).add()), n = [y[1], y[4], p(y[6], y[1])], y = [y[2], y[5], p(y[7], y[2])], r = N(n), d = N(y), a.align(o, !1, {
                    x: r,
                    y: d,
                    width: C(n) - r,
                    height: C(y) - d
                }), a.show()) : a && a.hide(), e
            },
            destroy: function() {
                f(this.axis.plotLinesAndBands, this), delete this.axis, k(this)
            }
        }, H.prototype = {
            defaultOptions: {
                dateTimeLabelFormats: {
                    millisecond: "%H:%M:%S.%L",
                    second: "%H:%M:%S",
                    minute: "%H:%M",
                    hour: "%H:%M",
                    day: "%e. %b",
                    week: "%e. %b",
                    month: "%b '%y",
                    year: "%Y"
                },
                endOnTick: !1,
                gridLineColor: "#C0C0C0",
                labels: Ut,
                lineColor: "#C0D0E0",
                lineWidth: 1,
                minPadding: .01,
                maxPadding: .01,
                minorGridLineColor: "#E0E0E0",
                minorGridLineWidth: 1,
                minorTickColor: "#A0A0A0",
                minorTickLength: 2,
                minorTickPosition: "outside",
                startOfWeek: 1,
                startOnTick: !1,
                tickColor: "#C0D0E0",
                tickLength: 5,
                tickmarkPlacement: "between",
                tickPixelInterval: 100,
                tickPosition: "outside",
                tickWidth: 1,
                title: {
                    align: "middle",
                    style: {
                        color: "#4d759e",
                        fontWeight: "bold"
                    }
                },
                type: "linear"
            },
            defaultYAxisOptions: {
                endOnTick: !0,
                gridLineWidth: 1,
                tickPixelInterval: 72,
                showLastLabel: !0,
                labels: {
                    x: -8,
                    y: 3
                },
                lineWidth: 0,
                maxPadding: .05,
                minPadding: .05,
                startOnTick: !0,
                tickWidth: 0,
                title: {
                    rotation: 270,
                    text: "Values"
                },
                stackLabels: {
                    enabled: !1,
                    formatter: function() {
                        return g(this.total, -1)
                    },
                    style: Ut.style
                }
            },
            defaultLeftAxisOptions: {
                labels: {
                    x: -8,
                    y: null
                },
                title: {
                    rotation: 270
                }
            },
            defaultRightAxisOptions: {
                labels: {
                    x: 8,
                    y: null
                },
                title: {
                    rotation: 90
                }
            },
            defaultBottomAxisOptions: {
                labels: {
                    x: 0,
                    y: 14
                },
                title: {
                    rotation: 0
                }
            },
            defaultTopAxisOptions: {
                labels: {
                    x: 0,
                    y: -5
                },
                title: {
                    rotation: 0
                }
            },
            init: function(e, t) {
                var n = t.isX;
                this.horiz = e.inverted ? !n : n, this.coll = (this.isXAxis = n) ? "xAxis" : "yAxis", this.opposite = t.opposite, this.side = t.side || (this.horiz ? this.opposite ? 0 : 2 : this.opposite ? 1 : 3), this.setOptions(t);
                var r = this.options,
                    i = r.type;
                this.labelFormatter = r.labels.formatter || this.defaultLabelFormatter, this.userOptions = t, this.minPixelPadding = 0, this.chart = e, this.reversed = r.reversed, this.zoomEnabled = r.zoomEnabled !== !1, this.categories = r.categories || i === "category", this.names = [], this.isLog = i === "logarithmic", this.isDatetimeAxis = i === "datetime", this.isLinked = l(r.linkedTo), this.tickmarkOffset = this.categories && r.tickmarkPlacement === "between" ? .5 : 0, this.ticks = {}, this.labelEdge = [], this.minorTicks = {}, this.plotLinesAndBands = [], this.alternateBands = {}, this.len = 0, this.minRange = this.userMinRange = r.minRange || r.maxZoom, this.range = r.range, this.offset = r.offset || 0, this.stacks = {}, this.oldStacks = {}, this.stackExtremes = {}, this.min = this.max = null, this.crosshair = p(r.crosshair, h(e.options.tooltip.crosshairs)[n ? 0 : 1], !1);
                var s, r = this.options.events;
                Xt(this, e.axes) === -1 && (e.axes.push(this), e[this.coll].push(this)), this.series = this.series || [], e.inverted && n && this.reversed === I && (this.reversed = !0), this.removePlotLine = this.removePlotBand = this.removePlotBandOrLine;
                for (s in r) Qt(this, s, r[s]);
                this.isLog && (this.val2lin = u, this.lin2val = a)
            },
            setOptions: function(e) {
                this.options = t(this.defaultOptions, this.isXAxis ? {} : this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], t(vt[this.coll], e))
            },
            defaultLabelFormatter: function() {
                var e = this.axis,
                    t = this.value,
                    n = e.categories,
                    r = this.dateTimeLabelFormat,
                    i = vt.lang.numericSymbols,
                    s = i && i.length,
                    o, u = e.options.labels.format,
                    e = e.isLog ? t : e.tickInterval;
                if (u) o = w(u, this);
                else if (n) o = t;
                else if (r) o = mt(r, t);
                else if (s && e >= 1e3)
                    for (; s-- && o === I;) n = Math.pow(1e3, s + 1), e >= n && i[s] !== null && (o = g(t / n, -1) + i[s]);
                return o === I && (o = t >= 1e4 ? g(t, 0) : g(t, -1, I, "")), o
            },
            getSeriesExtremes: function() {
                var e = this,
                    t = e.chart;
                e.hasVisibleSeries = !1, e.dataMin = e.dataMax = null, e.stackExtremes = {}, e.buildStacks(), Vt(e.series, function(n) {
                    if (n.visible || !t.options.chart.ignoreHiddenSeries) {
                        var r;
                        r = n.options.threshold;
                        var i;
                        e.hasVisibleSeries = !0, e.isLog && r <= 0 && (r = null);
                        if (e.isXAxis) {
                            if (r = n.xData, r.length) e.dataMin = $(p(e.dataMin, r[0]), N(r)), e.dataMax = V(p(e.dataMax, r[0]), C(r))
                        } else n.getExtremes(), i = n.dataMax, n = n.dataMin, l(n) && l(i) && (e.dataMin = $(p(e.dataMin, n), n), e.dataMax = V(p(e.dataMax, i), i)), l(r) && (e.dataMin >= r ? (e.dataMin = r, e.ignoreMinPadding = !0) : e.dataMax < r && (e.dataMax = r, e.ignoreMaxPadding = !0))
                    }
                })
            },
            translate: function(e, t, n, r, i, s) {
                var u = this.len,
                    a = 1,
                    f = 0,
                    l = r ? this.oldTransA : this.transA,
                    r = r ? this.oldMin : this.min,
                    c = this.minPixelPadding,
                    i = (this.options.ordinal || this.isLog && i) && this.lin2val;
                return l || (l = this.transA), n && (a *= -1, f = u), this.reversed && (a *= -1, f -= a * u), t ? (e = e * a + f, e -= c, e = e / l + r, i && (e = this.lin2val(e))) : (i && (e = this.val2lin(e)), s === "between" && (s = .5), e = a * (e - r) * l + f + a * c + (o(s) ? l * s * this.pointRange : 0)), e
            },
            toPixels: function(e, t) {
                return this.translate(e, !1, !this.horiz, null, !0) + (t ? 0 : this.pos)
            },
            toValue: function(e, t) {
                return this.translate(e - (t ? 0 : this.pos), !0, !this.horiz, null, !0)
            },
            getPlotLinePath: function(e, t, n, r, i) {
                var s = this.chart,
                    o = this.left,
                    u = this.top,
                    a, f, l = n && s.oldChartHeight || s.chartHeight,
                    c = n && s.oldChartWidth || s.chartWidth,
                    h;
                a = this.transB, i = p(i, this.translate(e, null, null, n)), e = n = z(i + a), a = f = z(l - i - a);
                if (isNaN(i)) h = !0;
                else if (this.horiz) {
                    if (a = u, f = l - this.bottom, e < o || e > o + this.width) h = !0
                } else if (e = o, n = c - this.right, a < u || a > u + this.height) h = !0;
                return h && !r ? null : s.renderer.crispLine(["M", e, a, "L", n, f], t || 1)
            },
            getLinearTickPositions: function(e, t, n) {
                for (var r, t = O(W(t / e) * e), n = O(X(n / e) * e), i = []; t <= n;) {
                    i.push(t), t = O(t + e);
                    if (t === r) break;
                    r = t
                }
                return i
            },
            getMinorTickPositions: function() {
                var e = this.options,
                    t = this.tickPositions,
                    n = this.minorTickInterval,
                    r = [],
                    i;
                if (this.isLog) {
                    i = t.length;
                    for (e = 1; e < i; e++) r = r.concat(this.getLogTickPositions(n, t[e - 1], t[e], !0))
                } else if (this.isDatetimeAxis && e.minorTickInterval === "auto") r = r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n), this.min, this.max, e.startOfWeek)), r[0] < this.min && r.shift();
                else
                    for (t = this.min + (t[0] - this.min) % n; t <= this.max; t += n) r.push(t);
                return r
            },
            adjustForMinRange: function() {
                var e = this.options,
                    t = this.min,
                    n = this.max,
                    r, i = this.dataMax - this.dataMin >= this.minRange,
                    s, o, u, a, f;
                this.isXAxis && this.minRange === I && !this.isLog && (l(e.min) || l(e.max) ? this.minRange = null : (Vt(this.series, function(e) {
                    a = e.xData;
                    for (o = f = e.xIncrement ? 1 : a.length - 1; o > 0; o--)
                        if (u = a[o] - a[o - 1], s === I || u < s) s = u
                }), this.minRange = $(s * 5, this.dataMax - this.dataMin)));
                if (n - t < this.minRange) {
                    var c = this.minRange;
                    r = (c - n + t) / 2, r = [t - r, p(e.min, t - r)], i && (r[2] = this.dataMin), t = C(r), n = [t + c, p(e.max, t + c)], i && (n[2] = this.dataMax), n = N(n), n - t < c && (r[0] = n - c, r[1] = p(e.min, n - c), t = C(r))
                }
                this.min = t, this.max = n
            },
            setAxisTranslation: function(e) {
                var t = this.max - this.min,
                    n = 0,
                    i, s = 0,
                    o = 0,
                    u = this.linkedParent,
                    a = !!this.categories,
                    f = this.transA;
                if (this.isXAxis || a) u ? (s = u.minPointOffset, o = u.pointRangePadding) : Vt(this.series, function(e) {
                    var u = V(e.pointRange, +a),
                        f = e.options.pointPlacement,
                        c = e.closestPointRange;
                    u > t && (u = 0), n = V(n, u), s = V(s, r(f) ? 0 : u / 2), o = V(o, f === "on" ? 0 : u), !e.noSharedTooltip && l(c) && (i = l(i) ? $(i, c) : c)
                }), u = this.ordinalSlope && i ? this.ordinalSlope / i : 1, this.minPointOffset = s *= u, this.pointRangePadding = o *= u, this.pointRange = $(n, t), this.closestPointRange = i;
                e && (this.oldTransA = f), this.translationSlope = this.transA = f = this.len / (t + o || 1), this.transB = this.horiz ? this.left : this.bottom, this.minPixelPadding = f * s
            },
            setTickPositions: function(e) {
                var t = this,
                    n = t.chart,
                    r = t.options,
                    i = t.isLog,
                    s = t.isDatetimeAxis,
                    o = t.isXAxis,
                    a = t.isLinked,
                    f = t.options.tickPositioner,
                    c = r.maxPadding,
                    h = r.minPadding,
                    d = r.tickInterval,
                    v = r.minTickInterval,
                    m = r.tickPixelInterval,
                    g, y = t.categories;
                a ? (t.linkedParent = n[t.coll][r.linkedTo], n = t.linkedParent.getExtremes(), t.min = p(n.min, n.dataMin), t.max = p(n.max, n.dataMax), r.type !== t.linkedParent.options.type && A(11, 1)) : (t.min = p(t.userMin, r.min, t.dataMin), t.max = p(t.userMax, r.max, t.dataMax)), i && (!e && $(t.min, p(t.dataMin, t.min)) <= 0 && A(10, 1), t.min = O(u(t.min)), t.max = O(u(t.max))), t.range && l(t.max) && (t.userMin = t.min = V(t.min, t.max - t.range), t.userMax = t.max, t.range = null), t.beforePadding && t.beforePadding(), t.adjustForMinRange(), !y && !t.usePercentage && !a && l(t.min) && l(t.max) && (n = t.max - t.min) && (!l(r.min) && !l(t.userMin) && h && (t.dataMin < 0 || !t.ignoreMinPadding) && (t.min -= n * h), !l(r.max) && !l(t.userMax) && c && (t.dataMax > 0 || !t.ignoreMaxPadding) && (t.max += n * c)), t.min === t.max || t.min === void 0 || t.max === void 0 ? t.tickInterval = 1 : a && !d && m === t.linkedParent.options.tickPixelInterval ? t.tickInterval = t.linkedParent.tickInterval : (t.tickInterval = p(d, y ? 1 : (t.max - t.min) * m / V(t.len, m)), !l(d) && t.len < m && !this.isRadial && !y && r.startOnTick && r.endOnTick && (g = !0, t.tickInterval /= 4)), o && !e && Vt(t.series, function(e) {
                    e.processData(t.min !== t.oldMin || t.max !== t.oldMax)
                }), t.setAxisTranslation(!0), t.beforeSetTickPositions && t.beforeSetTickPositions(), t.postProcessTickInterval && (t.tickInterval = t.postProcessTickInterval(t.tickInterval)), t.pointRange && (t.tickInterval = V(t.pointRange, t.tickInterval)), !d && t.tickInterval < v && (t.tickInterval = v), !s && !i && !d && (t.tickInterval = S(t.tickInterval, null, E(t.tickInterval), r)), t.minorTickInterval = r.minorTickInterval === "auto" && t.tickInterval ? t.tickInterval / 5 : r.minorTickInterval, t.tickPositions = e = r.tickPositions ? [].concat(r.tickPositions) : f && f.apply(t, [t.min, t.max]), e || (!t.ordinalPositions && (t.max - t.min) / t.tickInterval > V(2 * t.len, 200) && A(19, !0), e = s ? t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval, r.units), t.min, t.max, r.startOfWeek, t.ordinalPositions, t.closestPointRange, !0) : i ? t.getLogTickPositions(t.tickInterval, t.min, t.max) : t.getLinearTickPositions(t.tickInterval, t.min, t.max), g && e.splice(1, e.length - 2), t.tickPositions = e), a || (i = e[0], s = e[e.length - 1], a = t.minPointOffset || 0, r.startOnTick ? t.min = i : t.min - a > i && e.shift(), r.endOnTick ? t.max = s : t.max + a < s && e.pop(), e.length === 1 && (t.min -= .001, t.max += .001))
            },
            setMaxTicks: function() {
                var e = this.chart,
                    t = e.maxTicks || {},
                    n = this.tickPositions,
                    r = this._maxTicksKey = [this.coll, this.pos, this.len].join("-");
                !this.isLinked && !this.isDatetimeAxis && n && n.length > (t[r] || 0) && this.options.alignTicks !== !1 && (t[r] = n.length), e.maxTicks = t
            },
            adjustTickAmount: function() {
                var e = this._maxTicksKey,
                    t = this.tickPositions,
                    n = this.chart.maxTicks;
                if (n && n[e] && !this.isDatetimeAxis && !this.categories && !this.isLinked && this.options.alignTicks !== !1 && this.min !== I) {
                    var r = this.tickAmount,
                        i = t.length;
                    this.tickAmount = e = n[e];
                    if (i < e) {
                        for (; t.length < e;) t.push(O(t[t.length - 1] + this.tickInterval));
                        this.transA *= (i - 1) / (e - 1), this.max = t[t.length - 1]
                    }
                    l(r) && e !== r && (this.isDirty = !0)
                }
            },
            setScale: function() {
                var e = this.stacks,
                    t, n, r, i;
                this.oldMin = this.min, this.oldMax = this.max, this.oldAxisLength = this.len, this.setAxisSize(), i = this.len !== this.oldAxisLength, Vt(this.series, function(e) {
                    if (e.isDirtyData || e.isDirty || e.xAxis.isDirty) r = !0
                });
                if (i || r || this.isLinked || this.forceRedraw || this.userMin !== this.oldUserMin || this.userMax !== this.oldUserMax) {
                    if (!this.isXAxis)
                        for (t in e)
                            for (n in e[t]) e[t][n].total = null, e[t][n].cum = 0;
                    this.forceRedraw = !1, this.getSeriesExtremes(), this.setTickPositions(), this.oldUserMin = this.userMin, this.oldUserMax = this.userMax, this.isDirty || (this.isDirty = i || this.min !== this.oldMin || this.max !== this.oldMax)
                } else if (!this.isXAxis) {
                    this.oldStacks && (e = this.stacks = this.oldStacks);
                    for (t in e)
                        for (n in e[t]) e[t][n].cum = e[t][n].total
                }
                this.setMaxTicks()
            },
            setExtremes: function(t, n, r, i, s) {
                var o = this,
                    u = o.chart,
                    r = p(r, !0),
                    s = e(s, {
                        min: t,
                        max: n
                    });
                Yt(o, "setExtremes", s, function() {
                    o.userMin = t, o.userMax = n, o.eventArgs = s, o.isDirtyExtremes = !0, r && u.redraw(i)
                })
            },
            zoom: function(e, t) {
                return this.allowZoomOutside || (l(this.dataMin) && e <= this.dataMin && (e = I), l(this.dataMax) && t >= this.dataMax && (t = I)), this.displayBtn = e !== I || t !== I, this.setExtremes(e, t, !1, I, {
                    trigger: "zoom"
                }), !0
            },
            setAxisSize: function() {
                var e = this.chart,
                    t = this
                    .options,
                    n = t.offsetLeft || 0,
                    r = t.offsetRight || 0,
                    i = this.horiz,
                    s, o;
                this.left = o = p(t.left, e.plotLeft + n), this.top = s = p(t.top, e.plotTop), this.width = n = p(t.width, e.plotWidth - n + r), this.height = t = p(t.height, e.plotHeight), this.bottom = e.chartHeight - t - s, this.right = e.chartWidth - n - o, this.len = V(i ? n : t, 0), this.pos = i ? o : s
            },
            getExtremes: function() {
                var e = this.isLog;
                return {
                    min: e ? O(a(this.min)) : this.min,
                    max: e ? O(a(this.max)) : this.max,
                    dataMin: this.dataMin,
                    dataMax: this.dataMax,
                    userMin: this.userMin,
                    userMax: this.userMax
                }
            },
            getThreshold: function(e) {
                var t = this.isLog,
                    n = t ? a(this.min) : this.min,
                    t = t ? a(this.max) : this.max;
                return n > e || e === null ? e = n : t < e && (e = t), this.translate(e, 0, 1, 0, 1)
            },
            autoLabelAlign: function(e) {
                return e = (p(e, 0) - this.side * 90 + 720) % 360, e > 15 && e < 165 ? "right" : e > 195 && e < 345 ? "left" : "center"
            },
            getOffset: function() {
                var e = this,
                    t = e.chart,
                    n = t.renderer,
                    r = e.options,
                    i = e.tickPositions,
                    s = e.ticks,
                    o = e.horiz,
                    u = e.side,
                    a = t.inverted ? [1, 0, 3, 2][u] : u,
                    f, c = 0,
                    h, d = 0,
                    v = r.title,
                    m = r.labels,
                    g = 0,
                    y = t.axisOffset,
                    b = t.clipOffset,
                    w = [-1, 1, 1, -1][u],
                    E, S = 1,
                    x = p(m.maxStaggerLines, 5),
                    T, N, C, k;
                e.hasData = f = e.hasVisibleSeries || l(e.min) && l(e.max) && !!i, e.showAxis = t = f || p(r.showEmpty, !0), e.staggerLines = e.horiz && m.staggerLines, e.axisGroup || (e.gridGroup = n.g("grid").attr({
                    zIndex: r.gridZIndex || 1
                }).add(), e.axisGroup = n.g("axis").attr({
                    zIndex: r.zIndex || 2
                }).add(), e.labelGroup = n.g("axis-labels").attr({
                    zIndex: m.zIndex || 7
                }).add());
                if (f || e.isLinked) {
                    e.labelAlign = p(m.align || e.autoLabelAlign(m.rotation)), Vt(i, function(t) {
                        s[t] ? s[t].addLabel() : s[t] = new P(e, t)
                    });
                    if (e.horiz && !e.staggerLines && x && !m.rotation) {
                        for (E = e.reversed ? [].concat(i).reverse() : i; S < x;) {
                            f = [], T = !1;
                            for (m = 0; m < E.length; m++) N = E[m], C = (C = s[N].label && s[N].label.getBBox()) ? C.width : 0, k = m % S, C && (N = e.translate(N), f[k] !== I && N < f[k] && (T = !0), f[k] = N + C);
                            if (!T) break;
                            S++
                        }
                        S > 1 && (e.staggerLines = S)
                    }
                    Vt(i, function(t) {
                        if (u === 0 || u === 2 || {
                                1: "left",
                                3: "right"
                            }[u] === e.labelAlign) g = V(s[t].getLabelSize(), g)
                    }), e.staggerLines && (g *= e.staggerLines, e.labelOffset = g)
                } else
                    for (E in s) s[E].destroy(), delete s[E];
                v && v.text && v.enabled !== !1 && (e.axisTitle || (e.axisTitle = n.text(v.text, 0, 0, v.useHTML).attr({
                    zIndex: 7,
                    rotation: v.rotation || 0,
                    align: v.textAlign || {
                        low: "left",
                        middle: "center",
                        high: "right"
                    }[v.align]
                }).css(v.style).add(e.axisGroup), e.axisTitle.isNew = !0), t && (c = e.axisTitle.getBBox()[o ? "height" : "width"], d = p(v.margin, o ? 5 : 10), h = v.offset), e.axisTitle[t ? "show" : "hide"]()), e.offset = w * p(r.offset, y[u]), e.axisTitleMargin = p(h, g + d + (u !== 2 && g && w * r.labels[o ? "y" : "x"])), y[u] = V(y[u], e.axisTitleMargin + c + w * e.offset), b[a] = V(b[a], W(r.lineWidth / 2) * 2)
            },
            getLinePath: function(e) {
                var t = this.chart,
                    n = this.opposite,
                    r = this.offset,
                    i = this.horiz,
                    s = this.left + (n ? this.width : 0) + r,
                    r = t.chartHeight - this.bottom - (n ? this.height : 0) + r;
                return n && (e *= -1), t.renderer.crispLine(["M", i ? this.left : s, i ? r : this.top, "L", i ? t.chartWidth - this.right : s, i ? r : t.chartHeight - this.bottom], e)
            },
            getTitlePosition: function() {
                var e = this.horiz,
                    t = this.left,
                    r = this.top,
                    i = this.len,
                    s = this.options.title,
                    o = e ? t : r,
                    u = this.opposite,
                    a = this.offset,
                    f = n(s.style.fontSize || 12),
                    i = {
                        low: o + (e ? 0 : i),
                        middle: o + i / 2,
                        high: o + (e ? i : 0)
                    }[s.align],
                    t = (e ? r + this.height : t) + (e ? 1 : -1) * (u ? -1 : 1) * this.axisTitleMargin + (this.side === 2 ? f : 0);
                return {
                    x: e ? i : t + (u ? this.width : 0) + a + (s.x || 0),
                    y: e ? t - (u ? this.height : 0) + a : i + (s.y || 0)
                }
            },
            render: function() {
                var e = this,
                    t = e.horiz,
                    n = e.reversed,
                    r = e.chart,
                    i = r.renderer,
                    s = e.options,
                    o = e.isLog,
                    u = e.isLinked,
                    f = e.tickPositions,
                    c, h = e.axisTitle,
                    p = e.stacks,
                    d = e.ticks,
                    v = e.minorTicks,
                    m = e.alternateBands,
                    g = s.stackLabels,
                    y = s.alternateGridColor,
                    b = e.tickmarkOffset,
                    w = s.lineWidth,
                    E = r.hasRendered && l(e.oldMin) && !isNaN(e.oldMin),
                    S = e.hasData,
                    x = e.showAxis,
                    T, N = e.justifyLabels = !e.staggerLines && t && s.labels.overflow === "justify",
                    C;
                e.labelEdge.length = 0, Vt([d, v, m], function(e) {
                    for (var t in e) e[t].isActive = !1
                });
                if (S || u)
                    if (e.minorTickInterval && !e.categories && Vt(e.getMinorTickPositions(), function(t) {
                            v[t] || (v[t] = new P(e, t, "minor")), E && v[t].isNew && v[t].render(null, !0), v[t].render(null, !1, 1)
                        }), f.length && (c = f.slice(), (t && n || !t && !n) && c.reverse(), N && (c = c.slice(1).concat([c[0]])), Vt(c, function(t, n) {
                            N && (n = n === c.length - 1 ? 0 : n + 1);
                            if (!u || t >= e.min && t <= e.max) d[t] || (d[t] = new P(e, t)), E && d[t].isNew && d[t].render(n, !0, .1), d[t].render(n, !1, 1)
                        }), b && e.min === 0 && (d[-1] || (d[-1] = new P(e, -1, null, !0)), d[-1].render(-1))), y && Vt(f, function(t, n) {
                            n % 2 === 0 && t < e.max && (m[t] || (m[t] = new hn(e)), T = t + b, C = f[n + 1] !== I ? f[n + 1] + b : e.max, m[t].options = {
                                from: o ? a(T) : T,
                                to: o ? a(C) : C,
                                color: y
                            }, m[t].render(), m[t].isActive = !0)
                        }), !e._addedPlotLB) Vt((s.plotLines || []).concat(s.plotBands || []), function(t) {
                        e.addPlotBandOrLine(t)
                    }), e._addedPlotLB = !0;
                Vt([d, v, m], function(e) {
                    var t, n, i = [],
                        s = gt ? gt.duration || 500 : 0,
                        o = function() {
                            for (n = i.length; n--;) e[i[n]] && !e[i[n]].isActive && (e[i[n]].destroy(), delete e[i[n]])
                        };
                    for (t in e) e[t].isActive || (e[t].render(t, !1, 0), e[t].isActive = !1, i.push(t));
                    e === m || !r.hasRendered || !s ? o() : s && setTimeout(o, s)
                }), w && (t = e.getLinePath(w), e.axisLine ? e.axisLine.animate({
                    d: t
                }) : e.axisLine = i.path(t).attr({
                    stroke: s.lineColor,
                    "stroke-width": w,
                    zIndex: 7
                }).add(e.axisGroup), e.axisLine[x ? "show" : "hide"]()), h && x && (h[h.isNew ? "attr" : "animate"](e.getTitlePosition()), h.isNew = !1);
                if (g && g.enabled) {
                    var k, L, s = e.stackTotalGroup;
                    s || (e.stackTotalGroup = s = i.g("stack-labels").attr({
                        visibility: "visible",
                        zIndex: 6
                    }).add()), s.translate(r.plotLeft, r.plotTop);
                    for (k in p)
                        for (L in i = p[k], i) i[L].render(s)
                }
                e.isDirty = !1
            },
            redraw: function() {
                var e = this.chart.pointer;
                e.reset && e.reset(!0), this.render(), Vt(this.plotLinesAndBands, function(e) {
                    e.render()
                }), Vt(this.series, function(e) {
                    e.isDirty = !0
                })
            },
            buildStacks: function() {
                var e = this.series,
                    t = e.length;
                if (!this.isXAxis) {
                    for (; t--;) e[t].setStackedPoints();
                    if (this.usePercentage)
                        for (t = 0; t < e.length; t++) e[t].setPercentStacks()
                }
            },
            destroy: function(e) {
                var t = this,
                    n = t.stacks,
                    r, i = t.plotLinesAndBands;
                e || Gt(t);
                for (r in n) k(n[r]), n[r] = null;
                Vt([t.ticks, t.minorTicks, t.alternateBands], function(e) {
                    k(e)
                });
                for (e = i.length; e--;) i[e].destroy();
                Vt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","), function(e) {
                    t[e] && (t[e] = t[e].destroy())
                }), this.cross && this.cross.destroy()
            },
            drawCrosshair: function(e, t) {
                if (this.crosshair)
                    if ((l(t) || !p(this.crosshair.snap, !0)) === !1) this.hideCrosshair();
                    else {
                        var n, r = this.crosshair,
                            i = r.animation;
                        p(r.snap, !0) ? l(t) && (n = this.chart.inverted != this.horiz ? t.plotX : this.len - t.plotY) : n = this.horiz ? e.chartX - this.pos : this.len - e.chartY + this.pos, n = this.isRadial ? this.getPlotLinePath(this.isXAxis ? t.x : p(t.stackY, t.y)) : this.getPlotLinePath(null, null, null, null, n), n === null ? this.hideCrosshair() : this.cross ? this.cross.attr({
                            visibility: "visible"
                        })[i ? "animate" : "attr"]({
                            d: n
                        }, i) : (i = {
                            "stroke-width": r.width || 1,
                            stroke: r.color || "#C0C0C0",
                            zIndex: r.zIndex || 2
                        }, r.dashStyle && (i.dashstyle = r.dashStyle), this.cross = this.chart.renderer.path(n).attr(i).add())
                    }
            },
            hideCrosshair: function() {
                this.cross && this.cross.hide()
            }
        }, e(H.prototype, {
            getPlotBandPath: function(e, t) {
                var n = this.getPlotLinePath(t),
                    r = this.getPlotLinePath(e);
                return r && n ? r.push(n[4], n[5], n[1], n[2]) : r = null, r
            },
            addPlotBand: function(e) {
                this.addPlotBandOrLine(e, "plotBands")
            },
            addPlotLine: function(e) {
                this.addPlotBandOrLine(e, "plotLines")
            },
            addPlotBandOrLine: function(e, t) {
                var n = (new hn(this, e)).render(),
                    r = this.userOptions;
                return n && (t && (r[t] = r[t] || [], r[t].push(e)), this.plotLinesAndBands.push(n)), n
            },
            removePlotBandOrLine: function(e) {
                for (var t = this.plotLinesAndBands, n = this.options, r = this.userOptions, i = t.length; i--;) t[i].id === e && t[i].destroy();
                Vt([n.plotLines || [], r.plotLines || [], n.plotBands || [], r.plotBands || []], function(t) {
                    for (i = t.length; i--;) t[i].id === e && f(t, t[i])
                })
            }
        }), H.prototype.getLogTickPositions = function(e, t, n, r) {
            var i = this.options,
                s = this.len,
                o = [];
            r || (this._minorAutoInterval = null);
            if (e >= .5) e = z(e), o = this.getLinearTickPositions(e, t, n);
            else if (e >= .08)
                for (var s = W(t), f, l, c, h, d, i = e > .3 ? [1, 2, 4] : e > .15 ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; s < n + 1 && !d; s++) {
                    l = i.length;
                    for (f = 0; f < l && !d; f++) c = u(a(s) * i[f]), c > t && (!r || h <= n) && o.push(h), h > n && (d = !0), h = c
                } else if (t = a(t), n = a(n), e = i[r ? "minorTickInterval" : "tickInterval"], e = p(e === "auto" ? null : e, this._minorAutoInterval, (n - t) * (i.tickPixelInterval / (r ? 5 : 1)) / ((r ? s / this.tickPositions.length : s) || 1)), e = S(e, null, E(e)), o = Kt(this.getLinearTickPositions(e, t, n), u), !r) this._minorAutoInterval = e / 5;
            return r || (this.tickInterval = e), o
        }, H.prototype.getTimeTicks = function(t, n, r, i) {
            var s = [],
                o = {},
                u = vt.global.useUTC,
                a, f = new Date(n - Lt),
                c = t.unitRange,
                h = t.count;
            if (l(n)) {
                c >= bt.second && (f.setMilliseconds(0), f.setSeconds(c >= bt.minute ? 0 : h * W(f.getSeconds() / h))), c >= bt.minute && f[Ht](c >= bt.hour ? 0 : h * W(f[At]() / h)), c >= bt.hour && f[Bt](c >= bt.day ? 0 : h * W(f[Ot]() / h)), c >= bt.day && f[jt](c >= bt.month ? 1 : h * W(f[_t]() / h)), c >= bt.month && (f[Ft](c >= bt.year ? 0 : h * W(f[Dt]() / h)), a = f[Pt]()), c >= bt.year && (a -= a % h, f[It](a)), c === bt.week && f[jt](f[_t]() - f[Mt]() + p(i, 1)), n = 1, Lt && (f = new Date(f.getTime() + Lt)), a = f[Pt]();
                for (var i = f.getTime(), d = f[Dt](), v = f[_t](), m = u ? Lt : (864e5 + f.getTimezoneOffset() * 6e4) % 864e5; i < r;) s.push(i), c === bt.year ? i = kt(a + n * h, 0) : c === bt.month ? i = kt(a, d + n * h) : !!u || c !== bt.day && c !== bt.week ? i += c * h : i = kt(a, d, v + n * h * (c === bt.day ? 1 : 7)), n++;
                s.push(i), Vt($t(s, function(e) {
                    return c <= bt.hour && e % bt.day === m
                }), function(e) {
                    o[e] = "day"
                })
            }
            return s.info = e(t, {
                higherRanks: o,
                totalRange: c * h
            }), s
        }, H.prototype.normalizeTimeTickInterval = function(e, t) {
            var n = t || [
                    ["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]],
                    ["second", [1, 2, 5, 10, 15, 30]],
                    ["minute", [1, 2, 5, 10, 15, 30]],
                    ["hour", [1, 2, 3, 4, 6, 8, 12]],
                    ["day", [1, 2]],
                    ["week", [1, 2]],
                    ["month", [1, 2, 3, 4, 6]],
                    ["year", null]
                ],
                r = n[n.length - 1],
                i = bt[r[0]],
                s = r[1],
                o;
            for (o = 0; o < n.length; o++)
                if (r = n[o], i = bt[r[0]], s = r[1], n[o + 1] && e <= (i * s[s.length - 1] + bt[n[o + 1][0]]) / 2) break;
            return i === bt.year && e < 5 * i && (s = [1, 2, 5]), n = S(e / i, s, r[0] === "year" ? V(E(e / i), 1) : 1), {
                unitRange: i,
                count: n,
                unitName: r[0]
            }
        }, B.prototype = {
            destroy: function() {
                k(this, this.axis)
            },
            render: function(e) {
                var t = this.options,
                    n = t.format,
                    n = n ? w(n, this) : t.formatter.call(this);
                this.label ? this.label.attr({
                    text: n,
                    visibility: "hidden"
                }) : this.label = this.axis.chart.renderer.text(n, 0, 0, t.useHTML).css(t.style).attr({
                    align: this.textAlign,
                    rotation: t.rotation,
                    visibility: "hidden"
                }).add(e)
            },
            setOffset: function(e, t) {
                var n = this.axis,
                    r = n.chart,
                    i = r.inverted,
                    s = this.isNegative,
                    o = n.translate(this.percent ? 100 : this.total, 0, 0, 0, 1),
                    n = n.translate(0),
                    n = J(o - n),
                    u = r.xAxis[0].translate(this.x) + e,
                    a = r.plotHeight,
                    s = {
                        x: i ? s ? o : o - n : u,
                        y: i ? a - u - t : s ? a - o - n : a - o,
                        width: i ? n : t,
                        height: i ? t : n
                    };
                if (i = this.label) i.align(this.alignOptions, null, s), s = i.alignAttr, i.attr({
                    visibility: this.options.crop === !1 || r.isInsidePlot(s.x, s.y) ? ut ? "inherit" : "visible" : "hidden"
                })
            }
        }, j.prototype = {
            init: function(e, t) {
                var r = t.borderWidth,
                    i = t.style,
                    s = n(i.padding);
                this.chart = e, this.options = t, this.crosshairs = [], this.now = {
                    x: 0,
                    y: 0
                }, this.isHidden = !0, this.label = e.renderer.label("", 0, 0, t.shape, null, null, t.useHTML, null, "tooltip").attr({
                    padding: s,
                    fill: t.backgroundColor,
                    "stroke-width": r,
                    r: t.borderRadius,
                    zIndex: 8
                }).css(i).css({
                    padding: 0
                }).add().attr({
                    y: -999
                }), ft || this.label.shadow(t.shadow), this.shared = t.shared
            },
            destroy: function() {
                this.label && (this.label = this.label.destroy()), clearTimeout(this.hideTimer), clearTimeout(this.tooltipTimeout)
            },
            move: function(t, n, r, i) {
                var s = this,
                    o = s.now,
                    u = s.options.animation !== !1 && !s.isHidden;
                e(o, {
                    x: u ? (2 * o.x + t) / 3 : t,
                    y: u ? (o.y + n) / 2 : n,
                    anchorX: u ? (2 * o.anchorX + r) / 3 : r,
                    anchorY: u ? (o.anchorY + i) / 2 : i
                }), s.label.attr(o), u && (J(t - o.x) > 1 || J(n - o.y) > 1) && (clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function() {
                    s && s.move(t, n, r, i)
                }, 32))
            },
            hide: function() {
                var e = this,
                    t;
                clearTimeout(this.hideTimer), this.isHidden || (t = this.chart.hoverPoints, this.hideTimer = setTimeout(function() {
                    e.label.fadeOut(), e.isHidden = !0
                }, p(this.options.hideDelay, 500)), t && Vt(t, function(e) {
                    e.setState()
                }), this.chart.hoverPoints = null)
            },
            getAnchor: function(e, t) {
                var n, r = this.chart,
                    i = r.inverted,
                    s = r.plotTop,
                    o = 0,
                    u = 0,
                    a, e = h(e);
                return n = e[0].tooltipPos, this.followPointer && t && (t.chartX === I && (t = r.pointer.normalize(t)), n = [t.chartX - r.plotLeft, t.chartY - s]), n || (Vt(e, function(e) {
                    a = e.series.yAxis, o += e.plotX, u += (e.plotLow ? (e.plotLow + e.plotHigh) / 2 : e.plotY) + (!i && a ? a.top - s : 0)
                }), o /= e.length, u /= e.length, n = [i ? r.plotWidth - u : o, this.shared && !i && e.length > 1 && t ? t.chartY - s : i ? r.plotHeight - o : u]), Kt(n, z)
            },
            getPosition: function(e, t, n) {
                var r = this.chart,
                    i = r.plotLeft,
                    s = r.plotTop,
                    o = r.plotWidth,
                    u = r.plotHeight,
                    a = p(this.options.distance, 12),
                    f = n.plotX,
                    n = n.plotY,
                    r = f + i + (r.inverted ? a : -e - a),
                    l = n - t + s + 15,
                    c;
                return r < 7 && (r = i + V(f, 0) + a), r + e > i + o && (r -= r + e - (i + o), l = n - t + s - a, c = !0), l < s + 5 && (l = s + 5, c && n >= l && n <= l + t && (l = n + s + a)), l + t > s + u && (l = V(s, s + u - t - a)), {
                    x: r,
                    y: l
                }
            },
            defaultFormatter: function(e) {
                var t = this.points || h(this),
                    n = t[0].series,
                    r;
                return r = [n.tooltipHeaderFormatter(t[0])], Vt(t, function(e) {
                    n = e.series, r.push(n.tooltipFormatter && n.tooltipFormatter(e) || e.point.tooltipFormatter(n.tooltipOptions.pointFormat))
                }), r.push(e.options.footerFormat || ""), r.join("")
            },
            refresh: function(e, t) {
                var n = this.chart,
                    r = this.label,
                    i = this.options,
                    s, o, u = {},
                    a, f = [];
                a = i.formatter || this.defaultFormatter;
                var u = n.hoverPoints,
                    l, c = this.shared;
                clearTimeout(this.hideTimer), this.followPointer = h(e)[0].series.tooltipOptions.followPointer, o = this.getAnchor(e, t), s = o[0], o = o[1], c && (!e.series || !e.series.noSharedTooltip) ? (n.hoverPoints = e, u && Vt(u, function(e) {
                    e.setState()
                }), Vt(e, function(e) {
                    e.setState("hover"), f.push(e.getLabelConfig())
                }), u = {
                    x: e[0].category,
                    y: e[0].y
                }, u.points = f, e = e[0]) : u = e.getLabelConfig(), a = a.call(u, this), u = e.series, a === !1 ? this.hide() : (this.isHidden && (tn(r), r.attr("opacity", 1).show()), r.attr({
                    text: a
                }), l = i.borderColor || e.color || u.color || "#606060", r.attr({
                    stroke: l
                }), this.updatePosition({
                    plotX: s,
                    plotY: o
                }), this.isHidden = !1), Yt(n, "tooltipRefresh", {
                    text: a,
                    x: s + n.plotLeft,
                    y: o + n.plotTop,
                    borderColor: l
                })
            },
            updatePosition: function(e) {
                var t = this.chart,
                    n = this.label,
                    n = (this.options.positioner || this.getPosition).call(this, n.width, n.height, e);
                this.move(z(n.x), z(n.y), e.plotX + t.plotLeft, e.plotY + t.plotTop)
            }
        };
        var pn = Highcharts.Pointer = function(e, t) {
            this.init(e, t)
        };
        pn.prototype = {
            init: function(e, t) {
                var n = t.chart,
                    r = n.events,
                    i = ft ? "" : n.zoomType,
                    n = e.inverted,
                    s;
                this.options = t, this.chart = e, this.zoomX = s = /x/.test(i), this.zoomY = i = /y/.test(i), this.zoomHor = s && !n || i && n, this.zoomVert = i && !n || s && n, this.runChartClick = r && !!r.click, this.pinchDown = [], this.lastValidTouch = {}, t.tooltip.enabled && (e.tooltip = new j(e, t.tooltip)), this.setDOMEvents()
            },
            normalize: function(t, n) {
                var r, i, t = t || R.event;
                return t.target || (t.target = t.srcElement), t = Zt(t), i = t.touches ? t.touches.item(0) : t, n || (this.chartPosition = n = Jt(this.chart.container)), i.pageX === I ? (r = V(t.x, t.clientX - n.left), i = t.y) : (r = i.pageX - n.left, i = i.pageY - n.top), e(t, {
                    chartX: z(r),
                    chartY: z(i)
                })
            },
            getCoordinates: function(e) {
                var t = {
                    xAxis: [],
                    yAxis: []
                };
                return Vt(this.chart.axes, function(n) {
                    t[n.isXAxis ? "xAxis" : "yAxis"].push({
                        axis: n,
                        value: n.toValue(e[n.horiz ? "chartX" : "chartY"])
                    })
                }), t
            },
            getIndex: function(e) {
                var t = this.chart;
                return t.inverted ? t.plotHeight + t.plotTop - e.chartY : e.chartX - t.plotLeft
            },
            runPointActions: function(e) {
                var t = this,
                    n = t.chart,
                    r = n.series,
                    i = n.tooltip,
                    s, o, u = n.hoverPoint,
                    a = n.hoverSeries,
                    f, l, c = n.chartWidth,
                    h = t.getIndex(e);
                if (i && t.options.tooltip.shared && (!a || !a.noSharedTooltip)) {
                    o = [], f = r.length;
                    for (l = 0; l < f; l++) r[l].visible && r[l].options.enableMouseTracking !== !1 && !r[l].noSharedTooltip && r[l].tooltipPoints.length && (s = r[l].tooltipPoints[h]) && s.series && (s._dist = J(h - s.clientX), c = $(c, s._dist), o.push(s));
                    for (f = o.length; f--;) o[f]._dist > c && o.splice(f, 1);
                    o.length && o[0].clientX !== t.hoverX && (i.refresh(o, e), t.hoverX = o[0].clientX)
                }
                a && a.tracker ? (s = a.tooltipPoints[h]) && s !== u && s.onMouseOver(e) : i && i.followPointer && !i.isHidden && (r = i.getAnchor([{}], e), i.updatePosition({
                    plotX: r[0],
                    plotY: r[1]
                })), i && !t._onDocumentMouseMove && (t._onDocumentMouseMove = function(e) {
                    t.onDocumentMouseMove(e)
                }, Qt(q, "mousemove", t._onDocumentMouseMove)), Vt(n.axes, function(t) {
                    t.drawCrosshair(e, p(s, u))
                })
            },
            reset: function(e) {
                var t = this.chart,
                    n = t.hoverSeries,
                    r = t.hoverPoint,
                    i = t.tooltip,
                    s = i && i.shared ? t.hoverPoints : r;
                (e = e && i && s) && h(s)[0].plotX === I && (e = !1), e ? (i.refresh(s), r && r.setState(r.state, !0)) : (r && r.onMouseOut(), n && n.onMouseOut(), i && i.hide(), this._onDocumentMouseMove && (Gt(q, "mousemove", this._onDocumentMouseMove), this._onDocumentMouseMove = null), Vt(t.axes, function(e) {
                    e.hideCrosshair()
                }), this.hoverX = null)
            },
            scaleGroups: function(e, t) {
                var n = this.chart,
                    r;
                Vt(n.series, function(i) {
                    r = e || i.getPlotBox(), i.xAxis && i.xAxis.zoomEnabled && (i.group.attr(r), i.markerGroup && (i.markerGroup.attr(r), i.markerGroup.clip(t ? n.clipRect : null)), i.dataLabelsGroup && i.dataLabelsGroup.attr(r))
                }), n.clipRect.attr(t || n.clipBox)
            },
            pinchTranslate: function(e, t, n, r, i, s, o, u) {
                e && this.pinchTranslateDirection(!0, n, r, i, s, o, u), t && this.pinchTranslateDirection(!1, n, r, i, s, o, u)
            },
            pinchTranslateDirection: function(e, t, n, r, i, s, o, u) {
                var a = this.chart,
                    f = e ? "x" : "y",
                    l = e ? "X" : "Y",
                    c = "chart" + l,
                    h = e ? "width" : "height",
                    p = a["plot" + (e ? "Left" : "Top")],
                    d, v, m = u || 1,
                    g = a.inverted,
                    y = a.bounds[e ? "h" : "v"],
                    b = t.length === 1,
                    w = t[0][c],
                    E = n[0][c],
                    S = !b && t[1][c],
                    x = !b && n[1][c],
                    T, n = function() {
                        !b && J(w - S) > 20 && (m = u || J(E - x) / J(w - S)), v = (p - E) / m + w, d = a["plot" + (e ? "Width" : "Height")] / m
                    };
                n(), t = v, t < y.min ? (t = y.min, T = !0) : t + d > y.max && (t = y.max - d, T = !0), T ? (E -= .8 * (E - o[f][0]), b || (x -= .8 * (x - o[f][1])), n()) : o[f] = [E, x], g || (s[f] = v - p, s[h] = d), s = g ? 1 / m : m, i[h] = d, i[f] = t, r[g ? e ? "scaleY" : "scaleX" : "scale" + l] = m, r["translate" + l] = s * p + (E - s * w)
            },
            pinch: function(t) {
                var n = this,
                    r = n.chart,
                    i = n.pinchDown,
                    s = r.tooltip && r.tooltip.options.followTouchMove,
                    o = t.touches,
                    u = o.length,
                    a = n.lastValidTouch,
                    f = n.zoomHor || n.pinchHor,
                    l = n.zoomVert || n.pinchVert,
                    c = f || l,
                    h = n.selectionMarker,
                    p = {},
                    d = u === 1 && (n.inClass(t.target, "highcharts-tracker") && r.runTrackerClick || r.runChartClick),
                    v = {};
                (c || s) && !d && t.preventDefault(), Kt(o, function(e) {
                    return n.normalize(e)
                }), t.type === "touchstart" ? (Vt(o, function(e, t) {
                    i[t] = {
                        chartX: e.chartX,
                        chartY: e.chartY
                    }
                }), a.x = [i[0].chartX, i[1] && i[1].chartX], a.y = [i[0].chartY, i[1] && i[1].chartY], Vt(r.axes, function(e) {
                    if (e.zoomEnabled) {
                        var t = r.bounds[e.horiz ? "h" : "v"],
                            n = e.minPixelPadding,
                            i = e.toPixels(e.dataMin),
                            s = e.toPixels(e.dataMax),
                            o = $(i, s),
                            i = V(i, s);
                        t.min = $(e.pos, o - n), t.max = V(e.pos + e.len, i + n)
                    }
                })) : i.length && (h || (n.selectionMarker = h = e({
                    destroy: wt
                }, r.plotBox)), n.pinchTranslate(f, l, i, o, p, h, v, a), n.hasPinched = c, n.scaleGroups(p, v), !c && s && u === 1 && this.runPointActions(n.normalize(t)))
            },
            dragStart: function(e) {
                var t = this.chart;
                t.mouseIsDown = e.type, t.cancelClick = !1, t.mouseDownX = this.mouseDownX = e.chartX, t.mouseDownY = this.mouseDownY = e.chartY
            },
            drag: function(e) {
                var t = this.chart,
                    n = t.options.chart,
                    r = e.chartX,
                    i = e.chartY,
                    s = this.zoomHor,
                    o = this.zoomVert,
                    u = t.plotLeft,
                    a = t.plotTop,
                    f = t.plotWidth,
                    l = t.plotHeight,
                    c, h = this.mouseDownX,
                    p = this.mouseDownY;
                r < u ? r = u : r > u + f && (r = u + f), i < a ? i = a : i > a + l && (i = a + l), this.hasDragged = Math.sqrt(Math.pow(h - r, 2) + Math.pow(p - i, 2)), this.hasDragged > 10 && (c = t.isInsidePlot(h - u, p - a), t.hasCartesianSeries && (this.zoomX || this.zoomY) && c && !this.selectionMarker && (this.selectionMarker = t.renderer.rect(u, a, s ? 1 : f, o ? 1 : l, 0).attr({
                    fill: n.selectionMarkerFill || "rgba(69,114,167,0.25)",
                    zIndex: 7
                }).add()), this.selectionMarker && s && (r -= h, this.selectionMarker.attr({
                    width: J(r),
                    x: (r > 0 ? 0 : r) + h
                })), this.selectionMarker && o && (r = i - p, this.selectionMarker.attr({
                    height: J(r),
                    y: (r > 0 ? 0 : r) + p
                })), c && !this.selectionMarker && n.panning && t.pan(e, n.panning))
            },
            drop: function(t) {
                var n = this.chart,
                    r = this.hasPinched;
                if (this.selectionMarker) {
                    var i = {
                            xAxis: [],
                            yAxis: [],
                            originalEvent: t.originalEvent || t
                        },
                        s = this.selectionMarker,
                        o = s.x,
                        u = s.y,
                        a;
                    if (this.hasDragged || r) Vt(n.axes, function(e) {
                        if (e.zoomEnabled) {
                            var t = e.horiz,
                                n = e.toValue(t ? o : u),
                                t = e.toValue(t ? o + s.width : u + s.height);
                            !isNaN(n) && !isNaN(t) && (i[e.coll].push({
                                axis: e,
                                min: $(n, t),
                                max: V(n, t)
                            }), a = !0)
                        }
                    }), a && Yt(n, "selection", i, function(t) {
                        n.zoom(e(t, r ? {
                            animation: !1
                        } : null))
                    });
                    this.selectionMarker = this.selectionMarker.destroy(), r && this.scaleGroups()
                }
                n && (d(n.container, {
                    cursor: n._cursor
                }), n.cancelClick = this.hasDragged > 10, n.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
            },
            onContainerMouseDown: function(e) {
                e = this.normalize(e), e.preventDefault && e.preventDefault(), this.dragStart(e)
            },
            onDocumentMouseUp: function(e) {
                this.drop(e)
            },
            onDocumentMouseMove: function(e) {
                var t = this.chart,
                    n = this.chartPosition,
                    r = t.hoverSeries,
                    e = this.normalize(e, n);
                n && r && !this.inClass(e.target, "highcharts-tracker") && !t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) && this.reset()
            },
            onContainerMouseLeave: function() {
                this.reset(), this.chartPosition = null
            },
            onContainerMouseMove: function(e) {
                var t = this.chart,
                    e = this.normalize(e);
                t.mouseIsDown === "mousedown" && this.drag(e), (this.inClass(e.target, "highcharts-tracker") || t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop)) && !t.openMenu && this.runPointActions(e)
            },
            inClass: function(e, t) {
                for (var n; e;) {
                    if (n = c(e, "class")) {
                        if (n.indexOf(t) !== -1) return !0;
                        if (n.indexOf("highcharts-container") !== -1) return !1
                    }
                    e = e.parentNode
                }
            },
            onTrackerMouseOut: function(e) {
                var t = this.chart.hoverSeries,
                    n = (e = e.relatedTarget || e.toElement) && e.point && e.point.series;
                t && !t.options.stickyTracking && !this.inClass(e, "highcharts-tooltip") && n !== t && t.onMouseOut()
            },
            onContainerClick: function(t) {
                var n = this.chart,
                    r = n.hoverPoint,
                    i = n.plotLeft,
                    s = n.plotTop,
                    o = n.inverted,
                    u, a, f, t = this.normalize(t);
                t.cancelBubble = !0, n.cancelClick || (r && this.inClass(t.target, "highcharts-tracker") ? (u = this.chartPosition, a = r.plotX, f = r.plotY, e(r, {
                    pageX: u.left + i + (o ? n.plotWidth - f : a),
                    pageY: u.top + s + (o ? n.plotHeight - a : f)
                }), Yt(r.series, "click", e(t, {
                    point: r
                })), n.hoverPoint && r.firePointEvent("click", t)) : (e(t, this.getCoordinates(t)), n.isInsidePlot(t.chartX - i, t.chartY - s) && Yt(n, "click", t)))
            },
            onContainerTouchStart: function(e) {
                var t = this.chart;
                e.touches.length === 1 ? (e = this.normalize(e), t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) ? (this.runPointActions(e), this.pinch(e)) : this.reset()) : e.touches.length === 2 && this.pinch(e)
            },
            onContainerTouchMove: function(e) {
                (e.touches.length === 1 || e.touches.length === 2) && this.pinch(e)
            },
            onDocumentTouchEnd: function(e) {
                this.drop(e)
            },
            setDOMEvents: function() {
                var e = this,
                    t = e.chart.container,
                    n;
                this._events = n = [
                    [t, "onmousedown", "onContainerMouseDown"],
                    [t, "onmousemove", "onContainerMouseMove"],
                    [t, "onclick", "onContainerClick"],
                    [t, "mouseleave", "onContainerMouseLeave"],
                    [q, "mouseup", "onDocumentMouseUp"]
                ], ct && n.push([t, "ontouchstart", "onContainerTouchStart"], [t, "ontouchmove", "onContainerTouchMove"], [q, "touchend", "onDocumentTouchEnd"]), Vt(n, function(t) {
                    e["_" + t[2]] = function(n) {
                        e[t[2]](n)
                    }, t[1].indexOf("on") === 0 ? t[0][t[1]] = e["_" + t[2]] : Qt(t[0], t[1], e["_" + t[2]])
                })
            },
            destroy: function() {
                var e = this;
                Vt(e._events, function(t) {
                    t[1].indexOf("on") === 0 ? t[0][t[1]] = null : Gt(t[0], t[1], e["_" + t[2]])
                }), delete e._events, clearInterval(e.tooltipTimeout)
            }
        }, Ut = Highcharts.TrackerMixin = {
            drawTrackerPoint: function() {
                var e = this,
                    t = e.chart,
                    n = t.pointer,
                    r = e.options.cursor,
                    i = r && {
                        cursor: r
                    },
                    s = function(n) {
                        var r = n.target,
                            i;
                        t.hoverSeries !== e && e.onMouseOver();
                        for (; r && !i;) i = r.point, r = r.parentNode;
                        i !== I && i !== t.hoverPoint && i.onMouseOver(n)
                    };
                Vt(e.points, function(e) {
                    e.graphic && (e.graphic.element.point = e), e.dataLabel && (e.dataLabel.element.point = e)
                }), e._hasTracking || (Vt(e.trackerGroups, function(t) {
                    e[t] && (e[t].addClass("highcharts-tracker").on("mouseover", s).on("mouseout", function(e) {
                        n.onTrackerMouseOut(e)
                    }).css(i), ct) && e[t].on("touchstart", s)
                }), e._hasTracking = !0)
            },
            drawTrackerGraph: function() {
                var e = this,
                    t = e.options,
                    n = t.trackByArea,
                    r = [].concat(n ? e.areaPath : e.graphPath),
                    i = r.length,
                    s = e.chart,
                    o = s.pointer,
                    u = s.renderer,
                    a = s.options.tooltip.snap,
                    f = e.tracker,
                    l = t.cursor,
                    c = l && {
                        cursor: l
                    },
                    l = e.singlePoints,
                    h, p = function() {
                        s.hoverSeries !== e && e.onMouseOver()
                    };
                if (i && !n)
                    for (h = i + 1; h--;) r[h] === "M" && r.splice(h + 1, 0, r[h + 1] - a, r[h + 2], "L"), (h && r[h] === "M" || h === i) && r.splice(h, 0, "L", r[h - 2] + a, r[h - 1]);
                for (h = 0; h < l.length; h++) i = l[h], r.push("M", i.plotX - a, i.plotY, "L", i.plotX + a, i.plotY);
                f ? f.attr({
                    d: r
                }) : (e.tracker = u.path(r).attr({
                    "stroke-linejoin": "round",
                    visibility: e.visible ? "visible" : "hidden",
                    stroke: Nt,
                    fill: n ? Nt : xt,
                    "stroke-width": t.lineWidth + (n ? 0 : 2 * a),
                    zIndex: 2
                }).add(e.group), Vt([e.tracker, e.markerGroup], function(e) {
                    e.addClass("highcharts-tracker").on("mouseover", p).on("mouseout", function(e) {
                        o.onTrackerMouseOut(e)
                    }).css(c), ct && e.on("touchstart", p)
                }))
            }
        };
        if (R.PointerEvent || R.MSPointerEvent) {
            var dn = {};
            pn.prototype.getWebkitTouches = function() {
                var e, t = [];
                t.item = function(e) {
                    return this[e]
                };
                for (e in dn) dn.hasOwnProperty(e) && t.push({
                    pageX: dn[e].pageX,
                    pageY: dn[e].pageY,
                    target: dn[e].target
                });
                return t
            }, b(pn.prototype, "init", function(e, t, n) {
                t.container.style["-ms-touch-action"] = t.container.style["touch-action"] = "none", e.call(this, t, n)
            }), b(pn.prototype, "setDOMEvents", function(e) {
                var t = this;
                e.apply(this, Array.prototype.slice.call(arguments, 1)), Vt([
                    [this.chart.container, "PointerDown", "touchstart", "onContainerTouchStart", function(e) {
                        dn[e.pointerId] = {
                            pageX: e.pageX,
                            pageY: e.pageY,
                            target: e.currentTarget
                        }
                    }],
                    [this.chart.container, "PointerMove", "touchmove", "onContainerTouchMove", function(e) {
                        dn[e.pointerId] = {
                            pageX: e.pageX,
                            pageY: e.pageY
                        }, dn[e.pointerId].target || (dn[e.pointerId].target = e.currentTarget)
                    }],
                    [document, "PointerUp", "touchend", "onDocumentTouchEnd", function(e) {
                        delete dn[e.pointerId]
                    }]
                ], function(e) {
                    Qt(e[0], window.PointerEvent ? e[1].toLowerCase() : "MS" + e[1], function(n) {
                        n = n.originalEvent;
                        if (n.pointerType === "touch" || n.pointerType === n.MSPOINTER_TYPE_TOUCH) e[4](n), t[e[3]]({
                            type: e[2],
                            target: n.currentTarget,
                            preventDefault: wt,
                            touches: t.getWebkitTouches()
                        })
                    })
                })
            })
        }
        var vn = Highcharts.Legend = function(e, t) {
            this.init(e, t)
        };
        vn.prototype = {
            init: function(e, r) {
                var i = this,
                    s = r.itemStyle,
                    o = p(r.padding, 8),
                    u = r.itemMarginTop || 0;
                this.options = r, r.enabled && (i.baseline = n(s.fontSize) + 3 + u, i.itemStyle = s, i.itemHiddenStyle = t(s, r.itemHiddenStyle), i.itemMarginTop = u, i.padding = o, i.initialItemX = o, i.initialItemY = o - 5, i.maxItemWidth = 0, i.chart = e, i.itemHeight = 0, i.lastLineHeight = 0, i.symbolWidth = p(r.symbolWidth, 16), i.pages = [], i.render(), Qt(i.chart, "endResize", function() {
                    i.positionCheckboxes()
                }))
            },
            colorizeItem: function(e, t) {
                var n = this.options,
                    r = e.legendItem,
                    i = e.legendLine,
                    s = e.legendSymbol,
                    o = this.itemHiddenStyle.color,
                    n = t ? n.itemStyle.color : o,
                    u = t ? e.legendColor || e.color : o,
                    o = e.options && e.options.marker,
                    a = {
                        stroke: u,
                        fill: u
                    },
                    f;
                r && r.css({
                    fill: n,
                    color: n
                }), i && i.attr({
                    stroke: u
                });
                if (s) {
                    if (o && s.isMarker)
                        for (f in o = e.convertAttribs(o), o) r = o[f], r !== I && (a[f] = r);
                    s.attr(a)
                }
            },
            positionItem: function(e) {
                var t = this.options,
                    n = t.symbolPadding,
                    t = !t.rtl,
                    r = e._legendItemPos,
                    i = r[0],
                    r = r[1],
                    s = e.checkbox;
                e.legendGroup && e.legendGroup.translate(t ? i : this.legendWidth - i - 2 * n - 4, r), s && (s.x = i, s.y = r)
            },
            destroyItem: function(e) {
                var t = e.checkbox;
                Vt(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function(t) {
                    e[t] && (e[t] = e[t].destroy())
                }), t && L(e.checkbox)
            },
            destroy: function() {
                var e = this.group,
                    t = this.box;
                t && (this.box = t.destroy()), e && (this.group = e.destroy())
            },
            positionCheckboxes: function(e) {
                var t = this.group.alignAttr,
                    n, r = this.clipHeight || this.legendHeight;
                t && (n = t.translateY, Vt(this.allItems, function(i) {
                    var s = i.checkbox,
                        o;
                    s && (o = n + s.y + (e || 0) + 3, d(s, {
                        left: t.translateX + i.legendItemWidth + s.x - 20 + "px",
                        top: o + "px",
                        display: o > n - 6 && o < n + r - 6 ? "" : xt
                    }))
                }))
            },
            renderTitle: function() {
                var e = this.padding,
                    t = this.options.title,
                    n = 0;
                t.text && (this.title || (this.title = this.chart.renderer.label(t.text, e - 3, e - 4, null, null, null, null, null, "legend-title").attr({
                    zIndex: 1
                }).css(t.style).add(this.group)), e = this.title.getBBox(), n = e.height, this.offsetWidth = e.width, this.contentGroup.attr({
                    translateY: n
                })), this.titleHeight = n
            },
            renderItem: function(e) {
                var n, r = this,
                    i = r.chart,
                    s = i.renderer,
                    o = r.options,
                    u = o.layout === "horizontal",
                    a = r.symbolWidth,
                    f = o.symbolPadding,
                    l = r.itemStyle,
                    c = r.itemHiddenStyle,
                    h = r.padding,
                    d = u ? p(o.itemDistance, 8) : 0,
                    m = !o.rtl,
                    g = o.width,
                    y = o.itemMarginBottom || 0,
                    b = r.itemMarginTop,
                    E = r.initialItemX,
                    S = e.legendItem,
                    x = e.series && e.series.drawLegendSymbol ? e.series : e,
                    T = x.options,
                    T = T && T.showCheckbox,
                    N = o.useHTML;
                !S && (e.legendGroup = s.g("legend-item").attr({
                    zIndex: 1
                }).add(r.scrollGroup), x.drawLegendSymbol(r, e), e.legendItem = S = s.text(o.labelFormat ? w(o.labelFormat, e) : o.labelFormatter.call(e), m ? a + f : -f, r.baseline, N).css(t(e.visible ? l : c)).attr({
                    align: m ? "left" : "right",
                    zIndex: 2
                }).add(e.legendGroup), (N ? S : e.legendGroup).on("mouseover", function() {
                    e.setState("hover"), S.css(r.options.itemHoverStyle)
                }).on("mouseout", function() {
                    S.css(e.visible ? l : c), e.setState()
                }).on("click", function(t) {
                    var n = function() {
                            e.setVisible()
                        },
                        t = {
                            browserEvent: t
                        };
                    e.firePointEvent ? e.firePointEvent("legendItemClick", t, n) : Yt(e, "legendItemClick", t, n)
                }), r.colorizeItem(e, e.visible), T) && (e.checkbox = v("input", {
                    type: "checkbox",
                    checked: e.selected,
                    defaultChecked: e.selected
                }, o.itemCheckboxStyle, i.container), Qt(e.checkbox, "click", function(t) {
                    Yt(e, "checkboxClick", {
                        checked: t.target.checked
                    }, function() {
                        e.select()
                    })
                })), s = S.getBBox(), n = e.legendItemWidth = o.itemWidth || e.legendItemWidth || a + f + s.width + d + (T ? 20 : 0), o = n, r.itemHeight = a = z(e.legendItemHeight || s.height), u && r.itemX - E + o > (g || i.chartWidth - 2 * h - E) && (r.itemX = E, r.itemY += b + r.lastLineHeight + y, r.lastLineHeight = 0), r.maxItemWidth = V(r.maxItemWidth, o), r.lastItemY = b + r.itemY + y, r.lastLineHeight = V(a, r.lastLineHeight), e._legendItemPos = [r.itemX, r.itemY], u ? r.itemX += o : (r.itemY += b + a + y, r.lastLineHeight = a), r.offsetWidth = g || V((u ? r.itemX - E - d : o) + h, r.offsetWidth)
            },
            getAllItems: function() {
                var e = [];
                return Vt(this.chart.series, function(t) {
                    var n = t.options;
                    p(n.showInLegend, l(n.linkedTo) ? !1 : I, !0) && (e = e.concat(t.legendItems || (n.legendType === "point" ? t.data : t)))
                }), e
            },
            render: function() {
                var t = this,
                    n = t.chart,
                    r = n.renderer,
                    i = t.group,
                    s, o, u, a, f = t.box,
                    l = t.options,
                    c = t.padding,
                    h = l.borderWidth,
                    p = l.backgroundColor;
                t.itemX = t.initialItemX, t.itemY = t.initialItemY, t.offsetWidth = 0, t.lastItemY = 0, i || (t.group = i = r.g("legend").attr({
                    zIndex: 7
                }).add(), t.contentGroup = r.g().attr({
                    zIndex: 1
                }).add(i), t.scrollGroup = r.g().add(t.contentGroup)), t.renderTitle(), s = t.getAllItems(), T(s, function(e, t) {
                    return (e.options && e.options.legendIndex || 0) - (t.options && t.options.legendIndex || 0)
                }), l.reversed && s.reverse(), t.allItems = s, t.display = o = !!s.length, Vt(s, function(e) {
                    t.renderItem(e)
                }), u = l.width || t.offsetWidth, a = t.lastItemY + t.lastLineHeight + t.titleHeight, a = t.handleOverflow(a);
                if (h || p) u += c, a += c, f ? u > 0 && a > 0 && (f[f.isNew ? "attr" : "animate"](f.crisp(null, null, null, u, a)), f.isNew = !1) : (t.box = f = r.rect(0, 0, u, a, l.borderRadius, h || 0).attr({
                    stroke: l.borderColor,
                    "stroke-width": h || 0,
                    fill: p || xt
                }).add(i).shadow(l.shadow), f.isNew = !0), f[o ? "show" : "hide"]();
                t.legendWidth = u, t.legendHeight = a, Vt(s, function(e) {
                    t.positionItem(e)
                }), o && i.align(e({
                    width: u,
                    height: a
                }, l), !0, "spacingBox"), n.isResizing || this.positionCheckboxes()
            },
            handleOverflow: function(e) {
                var t = this,
                    n = this.chart,
                    r = n.renderer,
                    i = this.options,
                    s = i.y,
                    s = n.spacingBox.height + (i.verticalAlign === "top" ? -s : s) - this.padding,
                    o = i.maxHeight,
                    u, a = this.clipRect,
                    f = i.navigation,
                    l = p(f.animation, !0),
                    c = f.arrowSize || 12,
                    h = this.nav,
                    d = this.pages,
                    v, m = this.allItems;
                return i.layout === "horizontal" && (s /= 2), o && (s = $(s, o)), d.length = 0, e > s && !i.useHTML ? (this.clipHeight = u = s - 20 - this.titleHeight - this.padding, this.currentPage = p(this.currentPage, 1), this.fullHeight = e, Vt(m, function(e, t) {
                    var n = e._legendItemPos[1],
                        r = z(e.legendItem.bBox.height),
                        i = d.length;
                    (!i || n - d[i - 1] > u) && d.push(v || n), t === m.length - 1 && n + r - d[i - 1] > u && d.push(n), n !== v && (v = n)
                }), a || (a = t.clipRect = r.clipRect(0, this.padding, 9999, 0), t.contentGroup.clip(a)), a.attr({
                    height: u
                }), h || (this.nav = h = r.g().attr({
                    zIndex: 1
                }).add(this.group), this.up = r.symbol("triangle", 0, 0, c, c).on("click", function() {
                    t.scroll(-1, l)
                }).add(h), this.pager = r.text("", 15, 10).css(f.style).add(h), this.down = r.symbol("triangle-down", 0, 0, c, c).on("click", function() {
                    t.scroll(1, l)
                }).add(h)), t.scroll(0), e = s) : h && (a.attr({
                    height: n.chartHeight
                }), h.hide(), this.scrollGroup.attr({
                    translateY: 1
                }), this.clipHeight = 0), e
            },
            scroll: function(e, t) {
                var n = this.pages,
                    r = n.length,
                    i = this.currentPage + e,
                    s = this.clipHeight,
                    o = this.options.navigation,
                    u = o.activeColor,
                    o = o.inactiveColor,
                    a = this.pager,
                    f = this.padding;
                i > r && (i = r), i > 0 && (t !== I && M(t, this.chart), this.nav.attr({
                    translateX: f,
                    translateY: s + this.padding + 7 + this.titleHeight,
                    visibility: "visible"
                }), this.up.attr({
                    fill: i === 1 ? o : u
                }).css({
                    cursor: i === 1 ? "default" : "pointer"
                }), a.attr({
                    text: i + "/" + r
                }), this.down.attr({
                    x: 18 + this.pager.getBBox().width,
                    fill: i === r ? o : u
                }).css({
                    cursor: i === r ? "default" : "pointer"
                }), n = -n[i - 1] + this.initialItemY, this.scrollGroup.animate({
                    translateY: n
                }), this.currentPage = i, this.positionCheckboxes(n))
            }
        }, fn = Highcharts.LegendSymbolMixin = {
            drawRectangle: function(e, t) {
                var n = e.options.symbolHeight || 12;
                t.legendSymbol = this.chart.renderer.rect(0, e.baseline - 5 - n / 2, e.symbolWidth, n, p(e.options.symbolRadius, 2)).attr({
                    zIndex: 3
                }).add(t.legendGroup)
            },
            drawLineMarker: function(e) {
                var t = this.options,
                    n = t.marker,
                    r;
                r = e.symbolWidth;
                var i = this.chart.renderer,
                    s = this.legendGroup,
                    e = e.baseline - z(i.fontMetrics(e.options.itemStyle.fontSize).b * .3),
                    o;
                t.lineWidth && (o = {
                    "stroke-width": t.lineWidth
                }, t.dashStyle && (o.dashstyle = t.dashStyle), this.legendLine = i.path(["M", 0, e, "L", r, e]).attr(o).add(s)), n && n.enabled && (t = n.radius, this.legendSymbol = r = i.symbol(this.symbol, r / 2 - t, e - t, 2 * t, 2 * t).add(s), r.isMarker = !0)
            }
        }, /Trident\/7\.0/.test(Z) && b(vn.prototype, "positionItem", function(e, t) {
            var n = this,
                r = function() {
                    t._legendItemPos && e.call(n, t)
                };
            n.chart.renderer.forExport ? r() : setTimeout(r)
        }), F.prototype = {
            init: function(e, n) {
                var r, i = e.series;
                e.series = null, r = t(vt, e), r.series = e.series = i, this.userOptions = e, i = r.chart, this.margin = this.splashArray("margin", i), this.spacing = this.splashArray("spacing", i);
                var s = i.events;
                this.bounds = {
                    h: {},
                    v: {}
                }, this.callback = n, this.isResizing = 0, this.options = r, this.axes = [], this.series = [], this.hasCartesianSeries = i.showAxes;
                var o = this,
                    u;
                o.index = Et.length, Et.push(o), i.reflow !== !1 && Qt(o, "load", function() {
                    o.initReflow()
                });
                if (s)
                    for (u in s) Qt(o, u, s[u]);
                o.xAxis = [], o.yAxis = [], o.animation = ft ? !1 : p(i.animation, !0), o.pointCount = 0, o.counters = new x, o.firstRender()
            },
            initSeries: function(e) {
                var t = this.options.chart;
                return (t = qt[e.type || t.type || t.defaultSeriesType]) || A(17, !0), t = new t, t.init(this, e), t
            },
            isInsidePlot: function(e, t, n) {
                var r = n ? t : e,
                    e = n ? e : t;
                return r >= 0 && r <= this.plotWidth && e >= 0 && e <= this.plotHeight
            },
            adjustTickAmounts: function() {
                this.options.chart.alignTicks !== !1 && Vt(this.axes, function(e) {
                    e.adjustTickAmount()
                }), this.maxTicks = null
            },
            redraw: function(t) {
                var n = this.axes,
                    r = this.series,
                    i = this.pointer,
                    s = this.legend,
                    o = this.isDirtyLegend,
                    u, a, f = this.isDirtyBox,
                    l = r.length,
                    c = l,
                    h = this.renderer,
                    p = h.isHidden(),
                    d = [];
                M(t, this), p && this.cloneRenderTo();
                for (this.layOutTitles(); c--;)
                    if (t = r[c], t.options.stacking && (u = !0, t.isDirty)) {
                        a = !0;
                        break
                    }
                if (a)
                    for (c = l; c--;)
                        if (t = r[c], t.options.stacking) t.isDirty = !0;
                Vt(r, function(e) {
                    e.isDirty && e.options.legendType === "point" && (o = !0)
                }), o && s.options.enabled && (s.render(), this.isDirtyLegend = !1), u && this.getStacks(), this.hasCartesianSeries && (this.isResizing || (this.maxTicks = null, Vt(n, function(e) {
                    e.setScale()
                })), this.adjustTickAmounts(), this.getMargins(), Vt(n, function(e) {
                    e.isDirty && (f = !0)
                }), Vt(n, function(t) {
                    t.isDirtyExtremes && (t.isDirtyExtremes = !1, d.push(function() {
                        Yt(t, "afterSetExtremes", e(t.eventArgs, t.getExtremes())), delete t.eventArgs
                    })), (f || u) && t.redraw()
                })), f && this.drawChartBox(), Vt(r, function(e) {
                    e.isDirty && e.visible && (!e.isCartesian || e.xAxis) && e.redraw()
                }), i && i.reset && i.reset(!0), h.draw(), Yt(this, "redraw"), p && this.cloneRenderTo(!0), Vt(d, function(e) {
                    e.call()
                })
            },
            get: function(e) {
                var t = this.axes,
                    n = this.series,
                    r, i;
                for (r = 0; r < t.length; r++)
                    if (t[r].options.id === e) return t[r];
                for (r = 0; r < n.length; r++)
                    if (n[r].options.id === e) return n[r];
                for (r = 0; r < n.length; r++) {
                    i = n[r].points || [];
                    for (t = 0; t < i.length; t++)
                        if (i[t].id === e) return i[t]
                }
                return null
            },
            getAxes: function() {
                var e = this,
                    t = this.options,
                    n = t.xAxis = h(t.xAxis || {}),
                    t = t.yAxis = h(t.yAxis || {});
                Vt(n, function(e, t) {
                    e.index = t, e.isX = !0
                }), Vt(t, function(e, t) {
                    e.index = t
                }), n = n.concat(t), Vt(n, function(t) {
                    new H(e, t)
                }), e.adjustTickAmounts()
            },
            getSelectedPoints: function() {
                var e = [];
                return Vt(this.series, function(t) {
                    e = e.concat($t(t.points || [], function(e) {
                        return e.selected
                    }))
                }), e
            },
            getSelectedSeries: function() {
                return $t(this.series, function(e) {
                    return e.selected
                })
            },
            getStacks: function() {
                var e = this;
                Vt(e.yAxis, function(e) {
                    e.stacks && e.hasVisibleSeries && (e.oldStacks = e.stacks)
                }), Vt(e.series, function(t) {
                    t.options.stacking && (t.visible === !0 || e.options.chart.ignoreHiddenSeries === !1) && (t.stackKey = t.type + p(t.options.stack, ""))
                })
            },
            showResetZoom: function() {
                var e = this,
                    t = vt.lang,
                    n = e.options.chart.resetZoomButton,
                    r = n.theme,
                    i = r.states,
                    s = n.relativeTo === "chart" ? null : "plotBox";
                this.resetZoomButton = e.renderer.button(t.resetZoom, null, null, function() {
                    e.zoomOut()
                }, r, i && i.hover).attr({
                    align: n.position.align,
                    title: t.resetZoomTitle
                }).add().align(n.position, !1, s)
            },
            zoomOut: function() {
                var e = this;
                Yt(e, "selection", {
                    resetSelection: !0
                }, function() {
                    e.zoom()
                })
            },
            zoom: function(e) {
                var t, n = this.pointer,
                    r = !1,
                    s;
                !e || e.resetSelection ? Vt(this.axes, function(e) {
                    t = e.zoom()
                }) : Vt(e.xAxis.concat(e.yAxis), function(e) {
                    var i = e.axis,
                        s = i.isXAxis;
                    if (n[s ? "zoomX" : "zoomY"] || n[s ? "pinchX" : "pinchY"]) t = i.zoom(e.min, e.max), i.displayBtn && (r = !0)
                }), s = this.resetZoomButton, r && !s ? this.showResetZoom() : !r && i(s) && (this.resetZoomButton = s.destroy()), t && this.redraw(p(this.options.chart.animation, e && e.animation, this.pointCount < 100))
            },
            pan: function(e, t) {
                var n = this,
                    r = n.hoverPoints,
                    i;
                r && Vt(r, function(e) {
                    e.setState()
                }), Vt(t === "xy" ? [1, 0] : [1], function(t) {
                    var r = e[t ? "chartX" : "chartY"],
                        s = n[t ? "xAxis" : "yAxis"][0],
                        o = n[t ? "mouseDownX" : "mouseDownY"],
                        u = (s.pointRange || 0) / 2,
                        a = s.getExtremes(),
                        f = s.toValue(o - r, !0) + u,
                        o = s.toValue(o + n[t ? "plotWidth" : "plotHeight"] - r, !0) - u;
                    s.series.length && f > $(a.dataMin, a.min) && o < V(a.dataMax, a.max) && (s.setExtremes(f, o, !1, !1, {
                        trigger: "pan"
                    }), i = !0), n[t ? "mouseDownX" : "mouseDownY"] = r
                }), i && n.redraw(!1), d(n.container, {
                    cursor: "move"
                })
            },
            setTitle: function(e, n) {
                var r, i = this,
                    s = i.options,
                    o;
                o = s.title = t(s.title, e), r = s.subtitle = t(s.subtitle, n), s = r, Vt([
                    ["title", e, o],
                    ["subtitle", n, s]
                ], function(e) {
                    var t = e[0],
                        n = i[t],
                        r = e[1],
                        e = e[2];
                    n && r && (i[t] = n = n.destroy()), e && e.text && !n && (i[t] = i.renderer.text(e.text, 0, 0, e.useHTML).attr({
                        align: e.align,
                        "class": "highcharts-" + t,
                        zIndex: e.zIndex || 4
                    }).css(e.style).add())
                }), i.layOutTitles()
            },
            layOutTitles: function() {
                var t = 0,
                    n = this.title,
                    r = this.subtitle,
                    i = this.options,
                    s = i.title,
                    i = i.subtitle,
                    o = this.spacingBox.width - 44;
                n && (n.css({
                    width: (s.width || o) + "px"
                }).align(e({
                    y: 15
                }, s), !1, "spacingBox"), !s.floating && !s.verticalAlign) && (t = n.getBBox().height, t >= 18 && t <= 25 && (t = 15)), r && (r.css({
                    width: (i.width || o) + "px"
                }).align(e({
                    y: t + s.margin
                }, i), !1, "spacingBox"), !i.floating && !i.verticalAlign && (t = X(t + r.getBBox().height))), this.titleOffset = t
            },
            getChartSize: function() {
                var e = this.options.chart,
                    t = this.renderToClone || this.renderTo;
                this.containerWidth = zt(t, "width"), this.containerHeight = zt(t, "height"), this.chartWidth = V(0, e.width || this.containerWidth || 600), this.chartHeight = V(0, p(e.height, this.containerHeight > 19 ? this.containerHeight : 400))
            },
            cloneRenderTo: function(e) {
                var t = this.renderToClone,
                    n = this.container;
                e ? t && (this.renderTo.appendChild(n), L(t), delete this.renderToClone) : (n && n.parentNode === this.renderTo && this.renderTo.removeChild(n), this.renderToClone = t = this.renderTo.cloneNode(0), d(t, {
                    position: "absolute",
                    top: "-9999px",
                    display: "block"
                }), q.body.appendChild(t), n && t.appendChild(n))
            },
            getContainer: function() {
                var t, i = this.options.chart,
                    s, o, u;
                this.renderTo = t = i.renderTo, u = "highcharts-" + pt++, r(t) && (this.renderTo = t = q.getElementById(t)), t || A(13, !0), s = n(c(t, "data-highcharts-chart")), !isNaN(s) && Et[s] && Et[s].destroy(), c(t, "data-highcharts-chart", this.index), t.innerHTML = "", t.offsetWidth || this.cloneRenderTo(), this.getChartSize(), s = this.chartWidth, o = this.chartHeight, this.container = t = v(St, {
                    className: "highcharts-container" + (i.className ? " " + i.className : ""),
                    id: u
                }, e({
                    position: "relative",
                    overflow: "hidden",
                    width: s + "px",
                    height: o + "px",
                    textAlign: "left",
                    lineHeight: "normal",
                    zIndex: 0,
                    "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
                }, i.style), this.renderToClone || t), this._cursor = t.style.cursor, this.renderer = i.forExport ? new an(t, s, o, !0) : new lt(t, s, o), ft && this.renderer.create(this, t, s, o)
            },
            getMargins: function() {
                var e = this.spacing,
                    t, n = this.legend,
                    r = this.margin,
                    i = this.options.legend,
                    s = p(i.margin, 10),
                    o = i.x,
                    u = i.y,
                    a = i.align,
                    f = i.verticalAlign,
                    c = this.titleOffset;
                this.resetMargins(), t = this.axisOffset, c && !l(r[0]) && (this.plotTop = V(this.plotTop, c + this.options.title.margin + e[0])), n.display && !i.floating && (a === "right" ? l(r[1]) || (this.marginRight = V(this.marginRight, n.legendWidth - o + s + e[1])) : a === "left" ? l(r[3]) || (this.plotLeft = V(this.plotLeft, n.legendWidth + o + s + e[3])) : f === "top" ? l(r[0]) || (this.plotTop = V(this.plotTop, n.legendHeight + u + s + e[0])) : f === "bottom" && !l(r[2]) && (this.marginBottom = V(this.marginBottom, n.legendHeight - u + s + e[2]))), this.extraBottomMargin && (this.marginBottom += this.extraBottomMargin), this.extraTopMargin && (this.plotTop += this.extraTopMargin), this.hasCartesianSeries && Vt(this.axes, function(e) {
                    e.getOffset()
                }), l(r[3]) || (this.plotLeft += t[3]), l(r[0]) || (this.plotTop += t[0]), l(r[2]) || (this.marginBottom += t[2]), l(r[1]) || (this.marginRight += t[1]), this.setChartSize()
            },
            reflow: function(e) {
                var t = this,
                    n = t.options.chart,
                    r = t.renderTo,
                    i = n.width || zt(r, "width"),
                    s = n.height || zt(r, "height"),
                    n = e ? e.target : R,
                    r = function() {
                        t.container && (t.setSize(i, s, !1), t.hasUserSize = null)
                    };
                if (!t.hasUserSize && i && s && (n === R || n === q)) {
                    if (i !== t.containerWidth || s !== t.containerHeight) clearTimeout(t.reflowTimeout), e ? t.reflowTimeout = setTimeout(r, 100) : r();
                    t.containerWidth = i, t.containerHeight = s
                }
            },
            initReflow: function() {
                var e = this,
                    t = function(t) {
                        e.reflow(t)
                    };
                Qt(R, "resize", t), Qt(e, "destroy", function() {
                    Gt(R, "resize", t)
                })
            },
            setSize: function(e, t, n) {
                var r = this,
                    i, s, o;
                r.isResizing += 1, o = function() {
                    r && Yt(r, "endResize", null, function() {
                        r.isResizing -= 1
                    })
                }, M(n, r), r.oldChartHeight = r.chartHeight, r.oldChartWidth = r.chartWidth, l(e) && (r.chartWidth = i = V(0, z(e)), r.hasUserSize = !!i), l(t) && (r.chartHeight = s = V(0, z(t))), (gt ? en : d)(r.container, {
                    width: i + "px",
                    height: s + "px"
                }, gt), r.setChartSize(!0), r.renderer.setSize(i, s, n), r.maxTicks = null, Vt(r.axes, function(e) {
                    e.isDirty = !0, e.setScale()
                }), Vt(r.series, function(e) {
                    e.isDirty = !0
                }), r.isDirtyLegend = !0, r.isDirtyBox = !0, r.getMargins(), r.redraw(n), r.oldChartHeight = null, Yt(r, "resize"), gt === !1 ? o() : setTimeout(o, gt && gt.duration || 500)
            },
            setChartSize: function(e) {
                var t = this.inverted,
                    n = this.renderer,
                    r = this.chartWidth,
                    i = this.chartHeight,
                    s = this.options.chart,
                    o = this.spacing,
                    u = this.clipOffset,
                    a, f, l, c;
                this.plotLeft = a = z(this.plotLeft), this.plotTop = f = z(this.plotTop), this.plotWidth = l = V(0, z(r - a - this.marginRight)), this.plotHeight = c = V(0, z(i - f - this.marginBottom)), this.plotSizeX = t ? c : l, this.plotSizeY = t ? l : c, this.plotBorderWidth = s.plotBorderWidth || 0, this.spacingBox = n.spacingBox = {
                    x: o[3],
                    y: o[0],
                    width: r - o[3] - o[1],
                    height: i - o[0] - o[2]
                }, this.plotBox = n.plotBox = {
                    x: a,
                    y: f,
                    width: l,
                    height: c
                }, r = 2 * W(this.plotBorderWidth / 2), t = X(V(r, u[3]) / 2), n = X(V(r, u[0]) / 2), this.clipBox = {
                    x: t,
                    y: n,
                    width: W(this.plotSizeX - V(r, u[1]) / 2 - t),
                    height: W(this.plotSizeY - V(r, u[2]) / 2 - n)
                }, e || Vt(this.axes, function(e) {
                    e.setAxisSize(), e.setAxisTranslation()
                })
            },
            resetMargins: function() {
                var e = this.spacing,
                    t = this.margin;
                this.plotTop = p(t[0], e[0]), this.marginRight = p(t[1], e[1]), this.marginBottom = p(t[2], e[2]), this.plotLeft = p(t[3], e[3]), this.axisOffset = [0, 0, 0, 0], this.clipOffset = [0, 0, 0, 0]
            },
            drawChartBox: function() {
                var e = this.options.chart,
                    t = this.renderer,
                    n = this.chartWidth,
                    r = this.chartHeight,
                    i = this.chartBackground,
                    s = this.plotBackground,
                    o = this.plotBorder,
                    u = this.plotBGImage,
                    a = e.borderWidth || 0,
                    f = e.backgroundColor,
                    l = e.plotBackgroundColor,
                    c = e.plotBackgroundImage,
                    h = e.plotBorderWidth || 0,
                    p, d = this.plotLeft,
                    v = this.plotTop,
                    m = this.plotWidth,
                    g = this.plotHeight,
                    y = this.plotBox,
                    b = this.clipRect,
                    w = this.clipBox;
                p = a + (e.shadow ? 8 : 0);
                if (a || f) i ? i.animate(i.crisp(null, null, null, n - p, r - p)) : (i = {
                    fill: f || xt
                }, a && (i.stroke = e.borderColor, i["stroke-width"] = a), this.chartBackground = t.rect(p / 2, p / 2, n - p, r - p, e.borderRadius, a).attr(i).add().shadow(e.shadow));
                l && (s ? s.animate(y) : this.plotBackground = t.rect(d, v, m, g, 0).attr({
                    fill: l
                }).add().shadow(e.plotShadow)), c && (u ? u.animate(y) : this.plotBGImage = t.image(c, d, v, m, g).add()), b ? b.animate({
                    width: w.width,
                    height: w.height
                }) : this.clipRect = t.clipRect(w), h && (o ? o.animate(o.crisp(null, d, v, m, g)) : this.plotBorder = t.rect(d, v, m, g, 0, -h).attr({
                    stroke: e.plotBorderColor,
                    "stroke-width": h,
                    zIndex: 1
                }).add()), this.isDirtyBox = !1
            },
            propFromSeries: function() {
                var e = this,
                    t = e.options.chart,
                    n, r = e.options.series,
                    i, s;
                Vt(["inverted", "angular", "polar"], function(o) {
                    n = qt[t.type || t.defaultSeriesType], s = e[o] || t[o] || n && n.prototype[o];
                    for (i = r && r.length; !s && i--;)(n = qt[r[i].type]) && n.prototype[o] && (s = !0);
                    e[o] = s
                })
            },
            linkSeries: function() {
                var e = this,
                    t = e.series;
                Vt(t, function(e) {
                    e.linkedSeries.length = 0
                }), Vt(t, function(t) {
                    var n = t.options.linkedTo;
                    r(n) && (n = n === ":previous" ? e.series[t.index - 1] : e.get(n)) && (n.linkedSeries.push(t), t.linkedParent = n)
                })
            },
            render: function() {
                var t = this,
                    r = t.axes,
                    i = t.renderer,
                    s = t.options,
                    o = s.labels,
                    u = s.credits,
                    a;
                t.setTitle(), t.legend = new vn(t, s.legend), t.getStacks(), Vt(r, function(e) {
                    e.setScale()
                }), t.getMargins(), t.maxTicks = null, Vt(r, function(e) {
                    e.setTickPositions(!0), e.setMaxTicks()
                }), t.adjustTickAmounts(), t.getMargins(), t.drawChartBox(), t.hasCartesianSeries && Vt(r, function(e) {
                    e.render()
                }), t.seriesGroup || (t.seriesGroup = i.g("series-group").attr({
                    zIndex: 3
                }).add()), Vt(t.series, function(e) {
                    e.translate(), e.setTooltipPoints(), e.render()
                }), o.items && Vt(o.items, function(r) {
                    var s = e(o.style, r.style),
                        u = n(s.left) + t.plotLeft,
                        a = n(s.top) + t.plotTop + 12;
                    delete s.left, delete s.top, i.text(r.html, u, a).attr({
                        zIndex: 2
                    }).css(s).add()
                }), u.enabled && !t.credits && (a = u.href, t.credits = i.text(u.text, 0, 0).on("click", function() {
                    a && (location.href = a)
                }).attr({
                    align: u.position.align,
                    zIndex: 8
                }).css(u.style).add().align(u.position)), t.hasRendered = !0
            },
            destroy: function() {
                var e = this,
                    t = e.axes,
                    n = e.series,
                    r = e.container,
                    i, s = r && r.parentNode;
                Yt(e, "destroy"), Et[e.index] = I, e.renderTo.removeAttribute("data-highcharts-chart"), Gt(e);
                for (i = t.length; i--;) t[i] = t[i].destroy();
                for (i = n.length; i--;) n[i] = n[i].destroy();
                Vt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","), function(t) {
                    var n = e[t];
                    n && n.destroy && (e[t] = n.destroy())
                }), r && (r.innerHTML = "", Gt(r), s && L(r));
                for (i in e) delete e[i]
            },
            isReadyToRender: function() {
                var e = this;
                return !ut && R == R.top && q.readyState !== "complete" || ft && !R.canvg ? (ft ? cn.push(function() {
                    e.firstRender()
                }, e.options.global.canvasToolsURL) : q.attachEvent("onreadystatechange", function() {
                    q.detachEvent("onreadystatechange", e.firstRender), q.readyState === "complete" && e.firstRender()
                }), !1) : !0
            },
            firstRender: function() {
                var e = this,
                    t = e.options,
                    n = e.callback;
                e.isReadyToRender() && (e.getContainer(), Yt(e, "init"), e.resetMargins(), e.setChartSize(), e.propFromSeries(), e.getAxes(), Vt(t.series || [], function(t) {
                    e.initSeries(t)
                }), e.linkSeries(), Yt(e, "beforeRender"), e.pointer = new pn(e, t), e.render(), e.renderer.draw(), n && n.apply(e, [e]), Vt(e.callbacks, function(t) {
                    t.apply(e, [e])
                }), e.cloneRenderTo(!0), Yt(e, "load"))
            },
            splashArray: function(e, t) {
                var n = t[e],
                    n = i(n) ? n : [n, n, n, n];
                return [p(t[e + "Top"], n[0]), p(t[e + "Right"], n[1]), p(t[e + "Bottom"], n[2]), p(t[e + "Left"], n[3])]
            }
        }, F.prototype.callbacks = [];
        var ln = Highcharts.CenteredSeriesMixin = {
                getCenter: function() {
                    var e = this.options,
                        t = this.chart,
                        r = 2 * (e.slicedOffset || 0),
                        i, s = t.plotWidth - 2 * r,
                        o = t.plotHeight - 2 * r,
                        t = e.center,
                        e = [p(t[0], "50%"), p(t[1], "50%"), e.size || "100%", e.innerSize || 0],
                        u = $(s, o),
                        a;
                    return Kt(e, function(e, t) {
                        return a = /%$/.test(e), i = t < 2 || t === 2 && a, (a ? [s, o, u, u][t] * n(e) / 100 : e) + (i ? r : 0)
                    })
                }
            },
            mn = function() {};
        mn.prototype = {
            init: function(e, t, n) {
                return this.series = e, this.applyOptions(t, n), this.pointAttr = {}, e.options.colorByPoint && (t = e.options.colors || e.chart.options.colors, this.color = this.color || t[e.colorCounter++], e.colorCounter === t.length) && (e.colorCounter = 0), e.chart.pointCount++, this
            },
            applyOptions: function(t, n) {
                var r = this.series,
                    i = r.pointValKey,
                    t = mn.prototype.optionsToObject.call(this, t);
                return e(this, t), this.options = this.options ? e(this.options, t) : t, i && (this.y = this[i]), this.x === I && r && (this.x = n === I ? r.autoIncrement() : n), this
            },
            optionsToObject: function(e) {
                var t = {},
                    n = this.series,
                    r = n.pointArrayMap || ["y"],
                    i = r.length,
                    o = 0,
                    u = 0;
                if (typeof e == "number" || e === null) t[r[0]] = e;
                else if (s(e)) {
                    e.length > i && (n = typeof e[0], n === "string" ? t.name = e[0] : n === "number" && (t.x = e[0]), o++);
                    for (; u < i;) t[r[u++]] = e[o++]
                } else typeof e == "object" && (t = e, e.dataLabels && (n._hasPointLabels = !0), e.marker && (n._hasPointMarkers = !0));
                return t
            },
            destroy: function() {
                var e = this.series.chart,
                    t = e.hoverPoints,
                    n;
                e.pointCount--, t && (this.setState(), f(t, this), !t.length) && (e.hoverPoints = null), this === e.hoverPoint && this.onMouseOut();
                if (this.graphic || this.dataLabel) Gt(this), this.destroyElements();
                this.legendItem && e.legend.destroyItem(this);
                for (n in this) this[n] = null
            },
            destroyElements: function() {
                for (var e = "graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","), t, n = 6; n--;) t = e[n], this[t] && (this[t] = this[t].destroy())
            },
            getLabelConfig: function() {
                return {
                    x: this.category,
                    y: this.y,
                    key: this.name || this.category,
                    series: this.series,
                    point: this,
                    percentage: this.percentage,
                    total: this.total || this.stackTotal
                }
            },
            select: function(e, t) {
                var n = this,
                    r = n.series,
                    i = r.chart,
                    e = p(e, !n.selected);
                n.firePointEvent(e ? "select" : "unselect", {
                    accumulate: t
                }, function() {
                    n.selected = n.options.selected = e, r.options.data[Xt(n, r.data)] = n.options, n.setState(e && "select"), t || Vt(i.getSelectedPoints(), function(e) {
                        e.selected && e !== n && (e.selected = e.options.selected = !1, r.options.data[Xt(e, r.data)] = e.options, e.setState(""), e.firePointEvent("unselect"))
                    })
                })
            },
            onMouseOver: function(e) {
                var t = this.series,
                    n = t.chart,
                    r = n.tooltip,
                    i = n.hoverPoint;
                i && i !== this && i.onMouseOut(), this.firePointEvent("mouseOver"), r && (!r.shared || t.noSharedTooltip) && r.refresh(this, e), this.setState("hover"), n.hoverPoint = this
            },
            onMouseOut: function() {
                var e = this.series.chart,
                    t = e.hoverPoints;
                if (!t || Xt(this, t) === -1) this.firePointEvent("mouseOut"), this.setState(), e.hoverPoint = null
            },
            tooltipFormatter: function(e) {
                var t = this.series,
                    n = t.tooltipOptions,
                    r = p(n.valueDecimals, ""),
                    i = n.valuePrefix || "",
                    s = n.valueSuffix || "";
                return Vt(t.pointArrayMap || ["y"], function(t) {
                    t = "{point." + t;
                    if (i || s) e = e.replace(t + "}", i + t + "}" + s);
                    e = e.replace(t + "}", t + ":,." + r + "f}")
                }), w(e, {
                    point: this,
                    series: this.series
                })
            },
            firePointEvent: function(e, t, n) {
                var r = this,
                    i = this.series.options;
                (i.point.events[e] || r.options && r.options.events && r.options.events[e]) && this.importEvents(), e === "click" && i.allowPointSelect && (n = function(e) {
                    r.select(null, e.ctrlKey || e.metaKey || e.shiftKey)
                }), Yt(this, e, t, n)
            },
            importEvents: function() {
                if (!this.hasImportedEvents) {
                    var e = t(this.series.options.point, this.options).events,
                        n;
                    this.events = e;
                    for (n in e) Qt(this, n, e[n]);
                    this.hasImportedEvents = !0
                }
            },
            setState: function(e, n) {
                var r = this.plotX,
                    i = this.plotY,
                    s = this.series,
                    o = s.options.states,
                    u = nn[s.type].marker && s.options.marker,
                    a = u && !u.enabled,
                    f = u && u.states[e],
                    l = f && f.enabled === !1,
                    c = s.stateMarkerGraphic,
                    h = this.marker || {},
                    p = s.chart,
                    d = this.pointAttr,
                    e = e || "",
                    n = n && c;
                e === this.state && !n || this.selected && e !== "select" || o[e] && o[e].enabled === !1 || e && (l || a && !f.enabled) || e && h.states && h.states[e] && h.states[e].enabled === !1 || (this.graphic ? (o = u && this.graphic.symbolName && d[e].r, this.graphic.attr(t(d[e], o ? {
                    x: r - o,
                    y: i - o,
                    width: 2 * o,
                    height: 2 * o
                } : {}))) : (e && f && ((o = f.radius, h = h.symbol || s.symbol, c && c.currentSymbol !== h && (c = c.destroy()), c) ? c[n ? "animate" : "attr"]({
                    x: r - o,
                    y: i - o
                }) : (s.stateMarkerGraphic = c = p.renderer.symbol(h, r - o, i - o, 2 * o, 2 * o).attr(d[e]).add(s.markerGroup), c.currentSymbol = h)), c && c[e && p.isInsidePlot(r, i, p.inverted) ? "show" : "hide"]()), this.state = e)
            }
        };
        var gn = function() {};
        gn.prototype = {
            isCartesian: !0,
            type: "line",
            pointClass: mn,
            sorted: !0,
            requireSorting: !0,
            pointAttrToOptions: {
                stroke: "lineColor",
                "stroke-width": "lineWidth",
                fill: "fillColor",
                r: "radius"
            },
            axisTypes: ["xAxis", "yAxis"],
            colorCounter: 0,
            parallelArrays: ["x", "y"],
            init: function(t, n) {
                var r = this,
                    i, s, o = t.series,
                    u = function(e, t) {
                        return p(e.options.index, e._i) - p(t.options.index, t._i)
                    };
                r.chart = t, r.options = n = r.setOptions(n), r.linkedSeries = [], r.bindAxes(), e(r, {
                    name: n.name,
                    state: "",
                    pointAttr: {},
                    visible: n.visible !== !1,
                    selected: n.selected === !0
                }), ft && (n.animation = !1), s = n.events;
                for (i in s) Qt(r, i, s[i]);
                if (s && s.click || n.point && n.point.events && n.point.events.click || n.allowPointSelect) t.runTrackerClick = !0;
                r.getColor(), r.getSymbol(), Vt(r.parallelArrays, function(e) {
                    r[e + "Data"] = []
                }), r.setData(n.data, !1), r.isCartesian && (t.hasCartesianSeries = !0), o.push(r), r._i = o.length - 1, T(o, u), this.yAxis && T(this.yAxis.series, u), Vt(o, function(e, t) {
                    e.index = t, e.name = e.name || "Series " + (t + 1)
                })
            },
            bindAxes: function() {
                var e = this,
                    t = e.options,
                    n = e.chart,
                    r;
                Vt(e.axisTypes || [], function(i) {
                    Vt(n[i], function(n) {
                        r = n.options;
                        if (t[i] === r.index || t[i] !== I && t[i] === r.id || t[i] === I && r.index === 0) n.series.push(e), e[i] = n, n.isDirty = !0
                    }), !e[i] && e.optionalAxis !== i && A(18, !0)
                })
            },
            updateParallelArrays: function(e, t) {
                var n = e.series,
                    r = arguments;
                Vt(n.parallelArrays, typeof t == "number" ? function(r) {
                    var i = r === "y" && n.toYData ? n.toYData(e) : e[r];
                    n[r + "Data"][t] = i
                } : function(e) {
                    Array.prototype[t].apply(n[e + "Data"], Array.prototype.slice.call(r, 2))
                })
            },
            autoIncrement: function() {
                var e = this.options,
                    t = this.xIncrement,
                    t = p(t, e.pointStart, 0);
                return this.pointInterval = p(this.pointInterval, e.pointInterval, 1), this.xIncrement = t + this.pointInterval, t
            },
            getSegments: function() {
                var e = -1,
                    t = [],
                    n, r = this.points,
                    i = r.length;
                if (i)
                    if (this.options.connectNulls) {
                        for (n = i; n--;) r[n].y === null && r.splice(n, 1);
                        r.length && (t = [r])
                    } else Vt(r, function(n, s) {
                        n.y === null ? (s > e + 1 && t.push(r.slice(e + 1, s)), e = s) : s === i - 1 && t.push(r.slice(e + 1, s + 1))
                    });
                this.segments = t
            },
            setOptions: function(e) {
                var n = this.chart,
                    r = n.options.plotOptions,
                    n = n.userOptions || {},
                    i = n.plotOptions || {},
                    s = r[this.type];
                return this.userOptions = e, r = t(s, r.series, e), this.tooltipOptions = t(vt.tooltip, vt.plotOptions[this.type].tooltip, n.tooltip, i.series && i.series.tooltip, i[this.type] && i[this.type].tooltip, e.tooltip), s.marker === null && delete r.marker, r
            },
            getColor: function() {
                var e = this.options,
                    t = this.userOptions,
                    n = this.chart.options.colors,
                    r = this.chart.counters,
                    i;
                i = e.color || nn[this.type].color, !i && !e.colorByPoint && (l(t._colorIndex) ? e = t._colorIndex : (t._colorIndex = r.color, e = r.color++), i = n[e]), this.color = i, r.wrapColor(n.length)
            },
            getSymbol: function() {
                var e = this.userOptions,
                    t = this.options.marker,
                    n = this.chart,
                    r = n.options.symbols,
                    n = n.counters;
                this.symbol = t.symbol, this.symbol || (l(e._symbolIndex) ? e = e._symbolIndex : (e._symbolIndex = n.symbol, e = n.symbol++), this.symbol = r[e]), /^url/.test(this.symbol) && (t.radius = 0), n.wrapSymbol(r.length)
            },
            drawLegendSymbol: fn.drawLineMarker,
            setData: function(e, t) {
                var n = this,
                    i = n.points,
                    u = n.options,
                    a = n.chart,
                    f = null,
                    l = n.xAxis,
                    c = l && !!l.categories,
                    h;
                n.xIncrement = null, n.pointRange = c ? 1 : u.pointRange, n.colorCounter = 0;
                var e = e || [],
                    d = e.length;
                h = u.turboThreshold;
                var v = this.xData,
                    m = this.yData,
                    g = n.pointArrayMap,
                    g = g && g.length;
                Vt(this.parallelArrays, function(e) {
                    n[e + "Data"].length = 0
                });
                if (h && d > h) {
                    for (h = 0; f === null && h < d;) f = e[h], h++;
                    if (o(f)) {
                        c = p(u.pointStart, 0), u = p(u.pointInterval, 1);
                        for (h = 0; h < d; h++) v[h] = c, m[h] = e[h], c += u;
                        n.xIncrement = c
                    } else if (s(f))
                        if (g)
                            for (h = 0; h < d; h++) u = e[h], v[h] = u[0], m[h] = u.slice(1, g + 1);
                        else
                            for (h = 0; h < d; h++) u = e[h], v[h] = u[0], m[h] = u[1];
                    else A(12)
                } else
                    for (h = 0; h < d; h++) e[h] !== I && (u = {
                        series: n
                    }, n.pointClass.prototype.applyOptions.apply(u, [e[h]]), n.updateParallelArrays(u, h), c && u.name) && (l.names[u.x] = u.name);
                r(m[0]) && A(14, !0), n.data = [], n.options.data = e;
                for (h = i && i.length || 0; h--;) i[h] && i[h].destroy && i[h].destroy();
                l && (l.minRange = l.userMinRange), n.isDirty = n.isDirtyData = a.isDirtyBox = !0, p(t, !0) && a.redraw(!1)
            },
            processData: function(e) {
                var t = this.xData,
                    n = this.yData,
                    r = t.length,
                    i;
                i = 0;
                var s, o, u = this.xAxis,
                    a = this.options,
                    f = a.cropThreshold,
                    l = this.isCartesian;
                if (l && !this.isDirty && !u.isDirty && !this.yAxis.isDirty && !e) return !1;
                if (l && this.sorted && (!f || r > f || this.forceCrop))
                    if (e = u.min, u = u.max, t[r - 1] < e || t[0] > u) t = [], n = [];
                    else if (t[0] < e || t[r - 1] > u) i = this.cropData(this.xData, this.yData, e, u), t = i.xData, n = i.yData, i = i.start, s = !0;
                for (u = t.length - 1; u >= 0; u--) r = t[u] - t[u - 1], r > 0 && (o === I || r < o) ? o = r : r < 0 && this.requireSorting && A(15);
                this.cropped = s, this.cropStart = i, this.processedXData = t, this.processedYData = n, a.pointRange === null && (this.pointRange = o || 1), this.closestPointRange = o
            },
            cropData: function(e, t, n, r) {
                var i = e.length,
                    s = 0,
                    o = i,
                    u = p(this.cropShoulder, 1),
                    a;
                for (a = 0; a < i; a++)
                    if (e[a] >= n) {
                        s = V(0, a - u);
                        break
                    }
                for (; a < i; a++)
                    if (e[a] > r) {
                        o = a + u;
                        break
                    }
                return {
                    xData: e.slice(s, o),
                    yData: t.slice(s, o),
                    start: s,
                    end: o
                }
            },
            generatePoints: function() {
                var e = this.options.data,
                    t = this.data,
                    n, r = this.processedXData,
                    i = this.processedYData,
                    s = this.pointClass,
                    o = r.length,
                    u = this.cropStart || 0,
                    a, f = this.hasGroupedData,
                    l, c = [],
                    p;
                !t && !f && (t = [], t.length = e.length, t = this.data = t);
                for (p = 0; p < o; p++) a = u + p, f ? c[p] = (new s).init(this, [r[p]].concat(h(i[p]))) : (t[a] ? l = t[a] : e[a] !== I && (t[a] = l = (new s).init(this, e[a], r[p])), c[p] = l);
                if (t && (o !== (n = t.length) || f))
                    for (p = 0; p < n; p++)
                        if (p === u && !f && (p += o), t[p]) t[p].destroyElements(), t[p].plotX = I;
                this.data = t, this.points = c
            },
            setStackedPoints: function() {
                if (this.options.stacking && (this.visible === !0 || this.chart.options.chart.ignoreHiddenSeries === !1)) {
                    var e = this.processedXData,
                        t = this.processedYData,
                        n = [],
                        r = t.length,
                        i = this.options,
                        s = i.threshold,
                        o = i.stack,
                        i = i.stacking,
                        u = this.stackKey,
                        a = "-" + u,
                        f = this.negStacks,
                        l = this.yAxis,
                        c = l.stacks,
                        h = l.oldStacks,
                        p, d, v, m, g;
                    for (v = 0; v < r; v++) m = e[v], g = t[v], d = (p = f && g < s) ? a : u, c[d] || (c[d] = {}), c[d][m] || (h[d] && h[d][m] ? (c[d][m] = h[d][m], c[d][m].total = null) : c[d][m] = new B(l, l.options.stackLabels, p, m, o, i)), d = c[d][m], d.points[this.index] = [d.cum || 0], i === "percent" ? (p = p ? u : a, f && c[p] && c[p][m] ? (p = c[p][m], d.total = p.total = V(p.total, d.total) + J(g) || 0) : d.total = O(d.total + (J(g) || 0))) : d.total = O(d.total + (g || 0)), d.cum = (d.cum || 0) + (g || 0), d.points[this.index].push(d.cum), n[v] = d.cum;
                    i === "percent" && (l.usePercentage = !0), this.stackedYData = n, l.oldStacks = {}
                }
            },
            setPercentStacks: function() {
                var e = this,
                    t = e.stackKey,
                    n = e.yAxis.stacks;
                Vt([t, "-" + t], function(t) {
                    var r;
                    for (var i = e.xData.length, s, o; i--;)
                        if (s = e.xData[i], r = (o = n[t] && n[t][s]) && o.points[e.index], s = r) o = o.total ? 100 / o.total : 0, s[0] = O(s[0] * o), s[1] = O(s[1] * o), e.stackedYData[i] = s[1]
                })
            },
            getExtremes: function(e) {
                var t = this.yAxis,
                    n = this.processedXData,
                    r, i = [],
                    s = 0;
                r = this.xAxis.getExtremes();
                var o = r.min,
                    u = r.max,
                    a, f, l, c, e = e || this.stackedYData || this.processedYData;
                r = e.length;
                for (c = 0; c < r; c++)
                    if (f = n[c], l = e[c], a = l !== null && l !== I && (!t.isLog || l.length || l > 0), f = this.getExtremesFromAll || this.cropped || (n[c + 1] || f) >= o && (n[c - 1] || f) <= u, a && f)
                        if (a = l.length)
                            for (; a--;) l[a] !== null && (i[s++] = l[a]);
                        else i[s++] = l;
                this.dataMin = p(void 0, N(i)), this.dataMax = p(void 0, C(i))
            },
            translate: function() {
                this.processedXData || this.processData(), this.generatePoints();
                for (var e = this.options, t = e.stacking, n = this.xAxis, r = n.categories, i = this.yAxis, s = this.points, u = s.length, a = !!this.modifyValue, f = e.pointPlacement, c = f === "between" || o(f), h = e.threshold, e = 0; e < u; e++) {
                    var d = s[e],
                        v = d.x,
                        m = d.y,
                        g = d.low,
                        y = t && i.stacks[(this.negStacks && m < h ? "-" : "") + this.stackKey];
                    i.isLog && m <= 0 && (d.y = m = null), d.plotX = n.translate(v, 0, 0, 0, 1, f, this.type === "flags"), t && this.visible && y && y[v] && (y = y[v], m = y.points[this.index], g = m[0], m = m[1], g === 0 && (g = p(h, i.min)), i.isLog && g <= 0 && (g = null), d.total = d.stackTotal = y.total, d.percentage = t === "percent" && d.y / y.total * 100, d.stackY = m, y.setOffset(this.pointXOffset || 0, this.barW || 0)), d.yBottom = l(g) ? i.translate(g, 0, 1, 0, 1) : null, a && (m = this.modifyValue(m, d)), d.plotY = typeof m == "number" && m !== Infinity ? i.translate(m, 0, 1, 0, 1) : I, d.clientX = c ? n.translate(v, 0, 0, 0, 1) : d.plotX, d.negative = d.y < (h || 0), d.category = r && r[d.x] !== I ? r[d.x] : d.x
                }
                this.getSegments()
            },
            setTooltipPoints: function(e) {
                var t = [],
                    n, r, i = this.xAxis,
                    s = i && i.getExtremes(),
                    o = i ? i.tooltipLen || i.len : this.chart.plotSizeX,
                    u, a, f = [];
                if (this.options.enableMouseTracking !== !1) {
                    e && (this.tooltipPoints = null), Vt(this.segments || this.points, function(e) {
                        t = t.concat(e)
                    }), i && i.reversed && (t = t.reverse()), this.orderTooltipPoints && this.orderTooltipPoints(t), e = t.length;
                    for (a = 0; a < e; a++)
                        if (i = t[a], n = i.x, n >= s.min && n <= s.max) {
                            u = t[a + 1], n = r === I ? 0 : r + 1;
                            for (r = t[a + 1] ? $(V(0, W((i.clientX + (u ? u.wrappedClientX || u.clientX : o)) / 2)), o) : o; n >= 0 && n <= r;) f[n++] = i
                        }
                    this.tooltipPoints = f
                }
            },
            tooltipHeaderFormatter: function(e) {
                var t = this.tooltipOptions,
                    n = t.dateTimeLabelFormats,
                    r = t.xDateFormat,
                    i = this.xAxis,
                    s = i && i.options.type === "datetime",
                    t = t.headerFormat,
                    i = i && i.closestPointRange,
                    u;
                if (s && !r) {
                    if (i) {
                        for (u in bt)
                            if (bt[u] >= i) {
                                r = n[u];
                                break
                            }
                    } else r = n.day;
                    r = r || n.year
                }
                return s && r && o(e.key) && (t = t.replace("{point.key}", "{point.key:" + r + "}")), w(t, {
                    point: e,
                    series: this
                })
            },
            onMouseOver: function() {
                var e = this.chart,
                    t = e.hoverSeries;
                t && t !== this && t.onMouseOut(), this.options.events.mouseOver && Yt(this, "mouseOver"), this.setState("hover"), e.hoverSeries = this
            },
            onMouseOut: function() {
                var e = this.options,
                    t = this.chart,
                    n = t.tooltip,
                    r = t.hoverPoint;
                r && r.onMouseOut(), this && e.events.mouseOut && Yt(this, "mouseOut"), n && !e.stickyTracking && (!n.shared || this.noSharedTooltip) && n.hide(), this.setState(), t.hoverSeries = null
            },
            animate: function(t) {
                var n = this,
                    r = n.chart,
                    s = r.renderer,
                    o;
                o = n.options.animation;
                var u = r.clipBox,
                    a = r.inverted,
                    f;
                o && !i(o) && (o = nn[n.type].animation), f = "_sharedClip" + o.duration + o.easing;
                if (t) t = r[f], o = r[f + "m"], t || (r[f] = t = s.clipRect(e(u, {
                    width: 0
                })), r[f + "m"] = o = s.clipRect(-99, a ? -r.plotLeft : -r.plotTop, 99, a ? r.chartWidth : r.chartHeight)), n.group.clip(t), n.markerGroup.clip(o), n.sharedClipKey = f;
                else {
                    if (t = r[f]) t.animate({
                        width: r.plotSizeX
                    }, o), r[f + "m"].animate({
                        width: r.plotSizeX + 99
                    }, o);
                    n.animate = null, n.animationTimeout = setTimeout(function() {
                        n.afterAnimate()
                    }, o.duration)
                }
            },
            afterAnimate: function() {
                var e = this.chart,
                    t = this.sharedClipKey,
                    n = this.group;
                n && this.options.clip !== !1 && (n.clip(e.clipRect), this.markerGroup.clip()), setTimeout(function() {
                    t && e[t] && (e[t] = e[t].destroy(), e[t + "m"] = e[t + "m"].destroy())
                }, 100)
            },
            drawPoints: function() {
                var t, n = this.points,
                    r = this.chart,
                    i, s, o, u, a, f, l, c, h = this.options.marker,
                    d, v = this.markerGroup;
                if (h.enabled || this._hasPointMarkers)
                    for (o = n.length; o--;)(u = n[o], i = W(u.plotX), s = u.plotY, c = u.graphic, f = u.marker || {}, t = h.enabled && f.enabled === I || f.enabled, d = r.isInsidePlot(z(i), s, r.inverted), t && s !== I && !isNaN(s) && u.y !== null) ? (t = u.pointAttr[u.selected ? "select" : ""], a = t.r, f = p(f.symbol, this.symbol), l = f.indexOf("url") === 0, c) ? c.attr({
                        visibility: d ? ut ? "inherit" : "visible" : "hidden"
                    }).animate(e({
                        x: i - a,
                        y: s - a
                    }, c.symbolName ? {
                        width: 2 * a,
                        height: 2 * a
                    } : {})) : d && (a > 0 || l) && (u.graphic = r.renderer.symbol(f, i - a, s - a, 2 * a, 2 * a).attr(t).add(v)) : c && (u.graphic = c.destroy())
            },
            convertAttribs: function(e, t, n, r) {
                var i = this.pointAttrToOptions,
                    s, o, u = {},
                    e = e || {},
                    t = t || {},
                    n = n || {},
                    r = r || {};
                for (s in i) o = i[s], u[s] = p(e[o], t[s], n[s], r[s]);
                return u
            },
            getAttribs: function() {
                var t = this,
                    n = t.options,
                    r = nn[t.type].marker ? n.marker : n,
                    i = r.states,
                    s = i.hover,
                    o, u = t.color,
                    a = {
                        stroke: u,
                        fill: u
                    },
                    f = t.points || [],
                    c = [],
                    h, p = t.pointAttrToOptions,
                    d = n.negativeColor,
                    v = r.lineColor,
                    m = r.fillColor,
                    g;
                n.marker ? (s.radius = s.radius || r.radius + 2, s.lineWidth = s.lineWidth || r.lineWidth + 1) : s.color = s.color || un(s.color || u).brighten(s.brightness).get(), c[""] = t.convertAttribs(r, a), Vt(["hover", "select"], function(e) {
                    c[e] = t.convertAttribs(i[e], c[""])
                }), t.pointAttr = c;
                for (u = f.length; u--;) {
                    a = f[u], (r = a.options && a.options.marker || a.options) && r.enabled === !1 && (r.radius = 0), a.negative && d && (a.color = a.fillColor = d), h = n.colorByPoint || a.color;
                    if (a.options)
                        for (g in p) l(r[p[g]]) && (h = !0);
                    h ? (r = r || {}, h = [], i = r.states || {}, o = i.hover = i.hover || {}, n.marker || (o.color = un(o.color || a.color).brighten(o.brightness || s.brightness).get()), o = {
                        color: a.color
                    }, m || (o.fillColor = a.color), v || (o.lineColor = a.color), h[""] = t.convertAttribs(e(o, r), c[""]), h.hover = t.convertAttribs(i.hover, c.hover, h[""]), h.select = t.convertAttribs(i.select, c.select, h[""])) : h = c, a.pointAttr = h
                }
            },
            destroy: function() {
                var e = this,
                    t = e.chart,
                    n = /AppleWebKit\/533/.test(Z),
                    r, i, s = e.data || [],
                    o, u, a;
                Yt(e, "destroy"), Gt(e), Vt(e.axisTypes || [], function(t) {
                    if (a = e[t]) f(a.series, e), a.isDirty = a.forceRedraw = !0
                }), e.legendItem && e.chart.legend.destroyItem(e);
                for (i = s.length; i--;)(o = s[i]) && o.destroy && o.destroy();
                e.points = null, clearTimeout(e.animationTimeout), Vt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","), function(t) {
                    e[t] && (r = n && t === "group" ? "hide" : "destroy", e[t][r]())
                }), t.hoverSeries === e && (t.hoverSeries = null), f(t.series, e);
                for (u in e) delete e[u]
            },
            getSegmentPath: function(e) {
                var t = this,
                    n = [],
                    r = t.options.step;
                return Vt(e, function(i, s) {
                    var o = i.plotX,
                        u = i.plotY,
                        a;
                    t.getPointSpline ? n.push.apply(n, t.getPointSpline(e, i, s)) : (n.push(s ? "L" : "M"), r && s && (a = e[s - 1], r === "right" ? n.push(a.plotX, u) : r === "center" ? n.push((a.plotX + o) / 2, a.plotY, (a.plotX + o) / 2, u) : n.push(o, a.plotY)), n.push(i.plotX, i.plotY))
                }), n
            },
            getGraphPath: function() {
                var e = this,
                    t = [],
                    n, r = [];
                return Vt(e.segments, function(i) {
                    n = e.getSegmentPath(i), i.length > 1 ? t = t.concat(n) : r.push(i[0])
                }), e.singlePoints = r, e.graphPath = t
            },
            drawGraph: function() {
                var e = this,
                    t = this.options,
                    n = [
                        ["graph", t.lineColor || this.color]
                    ],
                    r = t.lineWidth,
                    i = t.dashStyle,
                    s = t.linecap !== "square",
                    o = this.getGraphPath(),
                    u = t.negativeColor;
                u && n.push(["graphNeg", u]), Vt(n, function(n, u) {
                    var a = n[0],
                        f = e[a];
                    f ? (tn(f), f.animate({
                        d: o
                    })) : r && o.length && (f = {
                        stroke: n[1],
                        "stroke-width": r,
                        zIndex: 1
                    }, i ? f.dashstyle = i : s && (f["stroke-linecap"] = f["stroke-linejoin"] = "round"), e[a] = e.chart.renderer.path(o).attr(f).add(e.group).shadow(!u && t.shadow))
                })
            },
            clipNeg: function() {
                var e = this.options,
                    t = this.chart,
                    n = t.renderer,
                    r = e.negativeColor || e.negativeFillColor,
                    i, s = this.graph,
                    o = this.area,
                    u = this.posClip,
                    a = this.negClip;
                i = t.chartWidth;
                var f = t.chartHeight,
                    l = V(i, f),
                    c = this.yAxis;
                r && (s || o) && (r = z(c.toPixels(e.threshold || 0, !0)), r < 0 && (l -= r), e = {
                    x: 0,
                    y: 0,
                    width: l,
                    height: r
                }, l = {
                    x: 0,
                    y: r,
                    width: l,
                    height: l
                }, t.inverted && (e.height = l.y = t.plotWidth - r, n.isVML && (e = {
                    x: t.plotWidth - r - t.plotLeft,
                    y: 0,
                    width: i,
                    height: f
                }, l = {
                    x: r + t.plotLeft - i,
                    y: 0,
                    width: t.plotLeft + r,
                    height: i
                })), c.reversed ? (t = l, i = e) : (t = e, i = l), u ? (u.animate(t), a.animate(i)) : (this.posClip = u = n.clipRect(t), this.negClip = a = n.clipRect(i), s && this.graphNeg && (s.clip(u), this.graphNeg.clip(a)), o && (o.clip(u), this.areaNeg.clip(a))))
            },
            invertGroups: function() {
                function e() {
                    var e = {
                        width: t.yAxis.len,
                        height: t.xAxis.len
                    };
                    Vt(["group", "markerGroup"], function(n) {
                        t[n] && t[n].attr(e).invert()
                    })
                }
                var t = this,
                    n = t.chart;
                t.xAxis && (Qt(n, "resize", e), Qt(t, "destroy", function() {
                    Gt(n, "resize", e)
                }), e(), t.invertGroups = e)
            },
            plotGroup: function(e, t, n, r, i) {
                var s = this[e],
                    o = !s;
                return o && (this[e] = s = this.chart.renderer.g(t).attr({
                    visibility: n,
                    zIndex: r || .1
                }).add(i)), s[o ? "attr" : "animate"](this.getPlotBox()), s
            },
            getPlotBox: function() {
                return {
                    translateX: this.xAxis ? this.xAxis.left : this.chart.plotLeft,
                    translateY: this.yAxis ? this.yAxis.top : this.chart.plotTop,
                    scaleX: 1,
                    scaleY: 1
                }
            },
            render: function() {
                var e = this.chart,
                    t, n = this.options,
                    r = n.animation && !!this.animate && e.renderer.isSVG,
                    i = this.visible ? "visible" : "hidden",
                    s = n.zIndex,
                    o = this.hasRendered,
                    u = e.seriesGroup;
                t = this.plotGroup("group", "series", i, s, u), this.markerGroup = this.plotGroup("markerGroup", "markers", i, s, u), r && this.animate(!0), this.getAttribs(), t.inverted = this.isCartesian ? e.inverted : !1, this.drawGraph && (this.drawGraph(), this.clipNeg()), this.drawDataLabels && this.drawDataLabels(), this.visible && this.drawPoints(), this.options.enableMouseTracking !== !1 && this.drawTracker(), e.inverted && this.invertGroups(), n.clip !== !1 && !this.sharedClipKey && !o && t.clip(e.clipRect), r ? this.animate() : o || this.afterAnimate(), this.isDirty = this.isDirtyData = !1, this.hasRendered = !0
            },
            redraw: function() {
                var e = this.chart,
                    t = this.isDirtyData,
                    n = this.group,
                    r = this.xAxis,
                    i = this.yAxis;
                n && (e.inverted && n.attr({
                    width: e.plotWidth,
                    height: e.plotHeight
                }), n.animate({
                    translateX: p(r && r.left, e.plotLeft),
                    translateY: p(i && i.top, e.plotTop)
                })), this.translate(), this.setTooltipPoints(!0), this.render(), t && Yt(this, "updatedData")
            },
            setState: function(e) {
                var t = this.options,
                    n = this.graph,
                    r = this.graphNeg,
                    i = t.states,
                    t = t.lineWidth,
                    e = e || "";
                this.state !== e && (this.state = e, i[e] && i[e].enabled === !1 || (e && (t = i[e].lineWidth || t + 1), n && !n.dashstyle && (e = {
                    "stroke-width": t
                }, n.attr(e), r && r.attr(e))))
            },
            setVisible: function(e, t) {
                var n = this,
                    r = n.chart,
                    i = n.legendItem,
                    s, o = r.options.chart.ignoreHiddenSeries,
                    u = n.visible;
                s = (n.visible = e = n.userOptions.visible = e === I ? !u : e) ? "show" : "hide", Vt(["group", "dataLabelsGroup", "markerGroup", "tracker"], function(e) {
                    n[e] && n[e][s]()
                }), r.hoverSeries === n && n.onMouseOut(), i && r.legend.colorizeItem(n, e), n.isDirty = !0, n.options.stacking && Vt(r.series, function(e) {
                    e.options.stacking && e.visible && (e.isDirty = !0)
                }), Vt(n.linkedSeries, function(t) {
                    t.setVisible(e, !1)
                }), o && (r.isDirtyBox = !0), t !== !1 && r.redraw(), Yt(n, s)
            },
            show: function() {
                this.setVisible(!0)
            },
            hide: function() {
                this.setVisible(!1)
            },
            select: function(e) {
                this.selected = e = e === I ? !this.selected : e, this.checkbox && (this.checkbox.checked = e), Yt(this, e ? "select" : "unselect")
            },
            drawTracker: Ut.drawTrackerGraph
        }, e(F.prototype, {
            addSeries: function(e, t, n) {
                var r, i = this;
                return e && (t = p(t, !0), Yt(i, "addSeries", {
                    options: e
                }, function() {
                    r = i.initSeries(e), i.isDirtyLegend = !0, i.linkSeries(), t && i.redraw(n)
                })), r
            },
            addAxis: function(e, n, r, i) {
                var s = n ? "xAxis" : "yAxis",
                    o = this.options;
                new H(this, t(e, {
                    index: this[s].length,
                    isX: n
                })), o[s] = h(o[s] || {}), o[s].push(e), p(r, !0) && this.redraw(i)
            },
            showLoading: function(t) {
                var n = this.options,
                    r = this.loadingDiv,
                    i = n.loading;
                r || (this.loadingDiv = r = v(St, {
                    className: "highcharts-loading"
                }, e(i.style, {
                    zIndex: 10,
                    display: xt
                }), this.container), this.loadingSpan = v("span", null, i.labelStyle, r)), this.loadingSpan.innerHTML = t || n.lang.loading, this.loadingShown || (d(r, {
                    opacity: 0,
                    display: "",
                    left: this.plotLeft + "px",
                    top: this.plotTop + "px",
                    width: this.plotWidth + "px",
                    height: this.plotHeight + "px"
                }), en(r, {
                    opacity: i.style.opacity
                }, {
                    duration: i.showDuration || 0
                }), this.loadingShown = !0)
            },
            hideLoading: function() {
                var e = this.options,
                    t = this.loadingDiv;
                t && en(t, {
                    opacity: 0
                }, {
                    duration: e.loading.hideDuration || 100,
                    complete: function() {
                        d(t, {
                            display: xt
                        })
                    }
                }), this.loadingShown = !1
            }
        }), e(mn.prototype, {
            update: function(e, t, n) {
                var r = this,
                    s = r.series,
                    o = r.graphic,
                    u, a = s.data,
                    f = s.chart,
                    l = s.options,
                    t = p(t, !0);
                r.firePointEvent("update", {
                    options: e
                }, function() {
                    r.applyOptions(e), i(e) && (s.getAttribs(), o && (e && e.marker && e.marker.symbol ? r.graphic = o.destroy() : o.attr(r.pointAttr[r.state || ""])), e && e.dataLabels && r.dataLabel && (r.dataLabel = r.dataLabel.destroy())), u = Xt(r, a), s.updateParallelArrays(r, u), l.data[u] = r.options, s.isDirty = s.isDirtyData = !0, !s.fixedBox && s.hasCartesianSeries && (f.isDirtyBox = !0), l.legendType === "point" && f.legend.destroyItem(r), t && f.redraw(n)
                })
            },
            remove: function(e, t) {
                var n = this,
                    r = n.series,
                    i = r.points,
                    s = r.chart,
                    o, u = r.data;
                M(t, s), e = p(e, !0), n.firePointEvent("remove", null, function() {
                    o = Xt(n, u), u.length === i.length && i.splice(o, 1), u.splice(o, 1), r.options.data.splice(o, 1), r.updateParallelArrays(n, "splice", o, 1), n.destroy(), r.isDirty = !0, r.isDirtyData = !0, e && s.redraw()
                })
            }
        }), e(gn.prototype, {
            addPoint: function(e, t, n, r) {
                var i = this.options,
                    s = this.data,
                    o = this.graph,
                    u = this.area,
                    a = this.chart,
                    f = this.xAxis && this.xAxis.names,
                    l = o && o.shift || 0,
                    c = i.data,
                    h, d = this.xData;
                M(r, a), n && Vt([o, u, this.graphNeg, this.areaNeg], function(e) {
                    e && (e.shift = l + 1)
                }), u && (u.isArea = !0), t = p(t, !0), r = {
                    series: this
                }, this.pointClass.prototype.applyOptions.apply(r, [e]), o = r.x, u = d.length;
                if (this.requireSorting && o < d[u - 1])
                    for (h = !0; u && d[u - 1] > o;) u--;
                this.updateParallelArrays(r, "splice", u, 0, 0), this.updateParallelArrays(r, u), f && (f[o] = r.name), c.splice(u, 0, e), h && (this.data.splice(u, 0, null), this.processData()), i.legendType === "point" && this.generatePoints(), n && (s[0] && s[0].remove ? s[0].remove(!1) : (s.shift(), this.updateParallelArrays(r, "shift"), c.shift())), this.isDirtyData = this.isDirty = !0, t && (this.getAttribs(), a.redraw())
            },
            remove: function(e, t) {
                var n = this,
                    r = n.chart,
                    e = p(e, !0);
                n.isRemoving || (n.isRemoving = !0, Yt(n, "remove", null, function() {
                    n.destroy(), r.isDirtyLegend = r.isDirtyBox = !0, r.linkSeries(), e && r.redraw(t)
                })), n.isRemoving = !1
            },
            update: function(n, r) {
                var i = this.chart,
                    s = this.type,
                    o = qt[s].prototype,
                    u, n = t(this.userOptions, {
                        animation: !1,
                        index: this.index,
                        pointStart: this.xData[0]
                    }, {
                        data: this.options.data
                    }, n);
                this.remove(!1);
                for (u in o) o.hasOwnProperty(u) && (this[u] = I);
                e(this, qt[n.type || s].prototype), this.init(i, n), p(r, !0) && i.redraw(!1)
            }
        }), e(H.prototype, {
            update: function(n, r) {
                var i = this.chart,
                    n = i.options[this.coll][this.options.index] = t(this.userOptions, n);
                this.destroy(!0), this._addedPlotLB = this.userMin = this.userMax = I, this.init(i, e(n, {
                    events: I
                })), i.isDirtyBox = !0, p(r, !0) && i.redraw()
            },
            remove: function(e) {
                var t = this.chart,
                    n = this.coll;
                Vt(this.series, function(e) {
                    e.remove(!1)
                }), f(t.axes, this), f(t[n], this), t.options[n].splice(this.options.index, 1), Vt(t[n], function(e, t) {
                    e.options.index = t
                }), this.destroy(), t.isDirtyBox = !0, p(e, !0) && t.redraw()
            },
            setTitle: function(e, t) {
                this.update({
                    title: e
                }, t)
            },
            setCategories: function(e, t) {
                this.update({
                    categories: e
                }, t)
            }
        });
        var yn = m(gn);
        qt.line = yn, nn.area = t(Rt, {
            threshold: 0
        });
        var bn = m(gn, {
            type: "area",
            getSegments: function() {
                var e = [],
                    t = [],
                    n = [],
                    r = this.xAxis,
                    i = this.yAxis,
                    s = i.stacks[this.stackKey],
                    o = {},
                    u, a, f = this.points,
                    l = this.options.connectNulls,
                    c, h, p;
                if (this.options.stacking && !this.cropped) {
                    for (h = 0; h < f.length; h++) o[f[h].x] = f[h];
                    for (p in s) s[p].total !== null && n.push(+p);
                    n.sort(function(e, t) {
                        return e - t
                    }), Vt(n, function(e) {
                        if (!l || o[e] && o[e].y !== null) o[e] ? t.push(o[e]) : (u = r.translate(e), c = s[e].percent ? s[e].total ? s[e].cum * 100 / s[e].total : 0 : s[e].cum, a = i.toPixels(c, !0), t.push({
                            y: null,
                            plotX: u,
                            clientX: u,
                            plotY: a,
                            yBottom: a,
                            onMouseOver: wt
                        }))
                    }), t.length && e.push(t)
                } else gn.prototype.getSegments.call(this), e = this.segments;
                this.segments = e
            },
            getSegmentPath: function(e) {
                var t = gn.prototype.getSegmentPath.call(this, e),
                    n = [].concat(t),
                    r, i = this.options;
                r = t.length;
                var s = this.yAxis.getThreshold(i.threshold),
                    o;
                r === 3 && n.push("L", t[1], t[2]);
                if (i.stacking && !this.closedStacks)
                    for (r = e.length - 1; r >= 0; r--) o = p(e[r].yBottom, s), r < e.length - 1 && i.step && n.push(e[r + 1].plotX, o), n.push(e[r].plotX, o);
                else this.closeSegment(n, e, s);
                return this.areaPath = this.areaPath.concat(n), t
            },
            closeSegment: function(e, t, n) {
                e.push("L", t[t.length - 1].plotX, n, "L", t[0].plotX, n)
            },
            drawGraph: function() {
                this.areaPath = [], gn.prototype.drawGraph.apply(this);
                var e = this,
                    t = this.areaPath,
                    n = this.options,
                    r = n.negativeColor,
                    i = n.negativeFillColor,
                    s = [
                        ["area", this.color, n.fillColor]
                    ];
                (r || i) && s.push(["areaNeg", r, i]), Vt(s, function(r) {
                    var i = r[0],
                        s = e[i];
                    s ? s.animate({
                        d: t
                    }) : e[i] = e.chart.renderer.path(t).attr({
                        fill: p(r[2], un(r[1]).setOpacity(p(n.fillOpacity, .75)).get()),
                        zIndex: 0
                    }).add(e.group)
                })
            },
            drawLegendSymbol: fn.drawRectangle
        });
        qt.area = bn, nn.spline = t(Rt), yn = m(gn, {
            type: "spline",
            getPointSpline: function(e, t, n) {
                var r = t.plotX,
                    i = t.plotY,
                    s = e[n - 1],
                    o = e[n + 1],
                    u, a, f, l;
                if (s && o) {
                    e = s.plotY, f = o.plotX;
                    var o = o.plotY,
                        c;
                    u = (1.5 * r + s.plotX) / 2.5, a = (1.5 * i + e) / 2.5, f = (1.5 * r + f) / 2.5, l = (1.5 * i + o) / 2.5, c = (l - a) * (f - r) / (f - u) + i - l, a += c, l += c, a > e && a > i ? (a = V(e, i), l = 2 * i - a) : a < e && a < i && (a = $(e, i), l = 2 * i - a), l > o && l > i ? (l = V(o, i), a = 2 * i - l) : l < o && l < i && (l = $(o, i), a = 2 * i - l), t.rightContX = f, t.rightContY = l
                }
                return n ? (t = ["C", s.rightContX || s.plotX, s.rightContY || s.plotY, u || r, a || i, r, i], s.rightContX = s.rightContY = null) : t = ["M", r, i], t
            }
        }), qt.spline = yn, nn.areaspline = t(nn.area), bn = bn.prototype, yn = m(yn, {
            type: "areaspline",
            closedStacks: !0,
            getSegmentPath: bn.getSegmentPath,
            closeSegment: bn.closeSegment,
            drawGraph: bn.drawGraph,
            drawLegendSymbol: fn.drawRectangle
        }), qt.areaspline = yn, nn.column = t(Rt, {
            borderColor: "#FFFFFF",
            borderWidth: 1,
            borderRadius: 0,
            groupPadding: .2,
            marker: null,
            pointPadding: .1,
            minPointLength: 0,
            cropThreshold: 50,
            pointRange: null,
            states: {
                hover: {
                    brightness: .1,
                    shadow: !1
                },
                select: {
                    color: "#C0C0C0",
                    borderColor: "#000000",
                    shadow: !1
                }
            },
            dataLabels: {
                align: null,
                verticalAlign: null,
                y: null
            },
            stickyTracking: !1,
            threshold: 0
        }), yn = m(gn, {
            type: "column",
            pointAttrToOptions: {
                stroke: "borderColor",
                "stroke-width": "borderWidth",
                fill: "color",
                r: "borderRadius"
            },
            cropShoulder: 0,
            trackerGroups: ["group", "dataLabelsGroup"],
            negStacks: !0,
            init: function() {
                gn.prototype.init.apply(this, arguments);
                var e = this,
                    t = e.chart;
                t.hasRendered && Vt(t.series, function(t) {
                    t.type === e.type && (t.isDirty = !0)
                })
            },
            getColumnMetrics: function() {
                var e = this,
                    t = e.options,
                    n = e.xAxis,
                    r = e.yAxis,
                    i = n.reversed,
                    s, o = {},
                    u, a = 0;
                t.grouping === !1 ? a = 1 : Vt(e.chart.series, function(t) {
                    var n = t.options,
                        i = t.yAxis;
                    t.type === e.type && t.visible && r.len === i.len && r.pos === i.pos && (n.stacking ? (s = t.stackKey, o[s] === I && (o[s] = a++), u = o[s]) : n.grouping !== !1 && (u = a++), t.columnIndex = u)
                });
                var n = $(J(n.transA) * (n.ordinalSlope || t.pointRange || n.closestPointRange || 1), n.len),
                    f = n * t.groupPadding,
                    c = (n - 2 * f) / a,
                    h = t.pointWidth,
                    t = l(h) ? (c - h) / 2 : c * t.pointPadding,
                    h = p(h, c - 2 * t);
                return e.columnMetrics = {
                    width: h,
                    offset: t + (f + ((i ? a - (e.columnIndex || 0) : e.columnIndex) || 0) * c - n / 2) * (i ? -1 : 1)
                }
            },
            translate: function() {
                var e = this.chart,
                    t = this.options,
                    n = t.borderWidth,
                    r = this.yAxis,
                    i = this.translatedThreshold = r.getThreshold(t.threshold),
                    s = p(t.minPointLength, 5),
                    t = this.getColumnMetrics(),
                    o = t.width,
                    u = this.barW = X(V(o, 1 + 2 * n)),
                    a = this.pointXOffset = t.offset,
                    f = -(n % 2 ? .5 : 0),
                    l = n % 2 ? .5 : 1;
                e.renderer.isVML && e.inverted && (l += 1), gn.prototype.translate.apply(this), Vt(this.points, function(e) {
                    var t = p(e.yBottom, i),
                        n = $(V(-999 - t, e.plotY), r.len + 999 + t),
                        c = e.plotX + a,
                        h = u,
                        d = $(n, t),
                        v, n = V(n, t) - d;
                    J(n) < s && s && (n = s, d = z(J(d - i) > s ? t - s : i - (r.translate(e.y, 0, 1, 0, 1) <= i ? s : 0))), e.barX = c, e.pointWidth = o, t = J(c) < .5, h = z(c + h) + f, c = z(c) + f, h -= c, v = J(d) < .5, n = z(d + n) + l, d = z(d) + l, n -= d, t && (c += 1, h -= 1), v && (d -= 1, n += 1), e.shapeType = "rect", e.shapeArgs = {
                        x: c,
                        y: d,
                        width: h,
                        height: n
                    }
                })
            },
            getSymbol: wt,
            drawLegendSymbol: fn.drawRectangle,
            drawGraph: wt,
            drawPoints: function() {
                var e = this,
                    n = this.chart,
                    r = e.options,
                    i = n.renderer,
                    s = n.options.animationLimit || 250,
                    o;
                Vt(e.points, function(u) {
                    var a = u.plotY,
                        f = u.graphic;
                    a !== I && !isNaN(a) && u.y !== null ? (o = u.shapeArgs, f ? (tn(f), f[n.pointCount < s ? "animate" : "attr"](t(o))) : u.graphic = i[u.shapeType](o).attr(u.pointAttr[u.selected ? "select" : ""]).add(e.group).shadow(r.shadow, null, r.stacking && !r.borderRadius)) : f && (u.graphic = f.destroy())
                })
            },
            drawTracker: Ut.drawTrackerPoint,
            animate: function(e) {
                var t = this.yAxis,
                    n = this.options,
                    r = this.chart.inverted,
                    i = {};
                ut && (e ? (i.scaleY = .001, e = $(t.pos + t.len, V(t.pos, t.toPixels(n.threshold))), r ? i.translateX = e - t.len : i.translateY = e, this.group.attr(i)) : (i.scaleY = 1, i[r ? "translateX" : "translateY"] = t.pos, this.group.animate(i, this.options.animation), this.animate = null))
            },
            remove: function() {
                var e = this,
                    t = e.chart;
                t.hasRendered && Vt(t.series, function(t) {
                    t.type === e.type && (t.isDirty = !0)
                }), gn.prototype.remove.apply(e, arguments)
            }
        }), qt.column = yn, nn.bar = t(nn.column), yn = m(yn, {
            type: "bar",
            inverted: !0
        }), qt.bar = yn, nn.scatter = t(Rt, {
            lineWidth: 0,
            tooltip: {
                headerFormat: '<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',
                pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",
                followPointer: !0
            },
            stickyTracking: !1
        }), yn = m(gn, {
            type: "scatter",
            sorted: !1,
            requireSorting: !1,
            noSharedTooltip: !0,
            trackerGroups: ["markerGroup"],
            takeOrdinalPosition: !1,
            drawTracker: Ut.drawTrackerPoint,
            drawGraph: function() {
                this.options.lineWidth && gn.prototype.drawGraph.call(this)
            },
            setTooltipPoints: wt
        }), qt.scatter = yn, nn.pie = t(Rt, {
            borderColor: "#FFFFFF",
            borderWidth: 1,
            center: [null, null],
            clip: !1,
            colorByPoint: !0,
            dataLabels: {
                distance: 30,
                enabled: !0,
                formatter: function() {
                    return this.point.name
                }
            },
            ignoreHiddenPoint: !0,
            legendType: "point",
            marker: null,
            size: null,
            showInLegend: !1,
            slicedOffset: 10,
            states: {
                hover: {
                    brightness: .1,
                    shadow: !1
                }
            },
            stickyTracking: !1,
            tooltip: {
                followPointer: !0
            }
        }), Rt = {
            type: "pie",
            isCartesian: !1,
            pointClass: m(mn, {
                init: function() {
                    mn.prototype.init.apply(this, arguments);
                    var t = this,
                        n;
                    return t.y < 0 && (t.y = null), e(t, {
                        visible: t.visible !== !1,
                        name: p(t.name, "Slice")
                    }), n = function(e) {
                        t.slice(e.type === "select")
                    }, Qt(t, "select", n), Qt(t, "unselect", n), t
                },
                setVisible: function(e) {
                    var t = this,
                        n = t.series,
                        r = n.chart,
                        i;
                    t.visible = t.options.visible = e = e === I ? !t.visible : e, n.options.data[Xt(t, n.data)] = t.options, i = e ? "show" : "hide", Vt(["graphic", "dataLabel", "connector", "shadowGroup"], function(e) {
                        t[e] && t[e][i]()
                    }), t.legendItem && r.legend.colorizeItem(t, e), !n.isDirty && n.options.ignoreHiddenPoint && (n.isDirty = !0, r.redraw())
                },
                slice: function(e, t, n) {
                    var r = this.series;
                    M(n, r.chart), p(t, !0), this.sliced = this.options.sliced = e = l(e) ? e : !this.sliced, r.options.data[Xt(this, r.data)] = this.options, e = e ? this.slicedTranslation : {
                        translateX: 0,
                        translateY: 0
                    }, this.graphic.animate(e), this.shadowGroup && this.shadowGroup.animate(e)
                }
            }),
            requireSorting: !1,
            noSharedTooltip: !0,
            trackerGroups: ["group", "dataLabelsGroup"],
            axisTypes: [],
            pointAttrToOptions: {
                stroke: "borderColor",
                "stroke-width": "borderWidth",
                fill: "color"
            },
            getColor: wt,
            animate: function(e) {
                var t = this,
                    n = t.points,
                    r = t.startAngleRad;
                e || (Vt(n, function(e) {
                    var n = e.graphic,
                        e = e.shapeArgs;
                    n && (n.attr({
                        r: t.center[3] / 2,
                        start: r,
                        end: r
                    }), n.animate({
                        r: e.r,
                        start: e.start,
                        end: e.end
                    }, t.options.animation))
                }), t.animate = null)
            },
            setData: function(e, t) {
                gn.prototype.setData.call(this, e, !1), this.processData(), this.generatePoints(), p(t, !0) && this.chart.redraw()
            },
            generatePoints: function() {
                var e, t = 0,
                    n, r, i, s = this.options.ignoreHiddenPoint;
                gn.prototype.generatePoints.call(this), n = this.points, r = n.length;
                for (e = 0; e < r; e++) i = n[e], t += s && !i.visible ? 0 : i.y;
                this.total = t;
                for (e = 0; e < r; e++) i = n[e], i.percentage = t > 0 ? i.y / t * 100 : 0, i.total = t
            },
            translate: function(e) {
                this.generatePoints();
                var t = 0,
                    n = this.options,
                    r = n.slicedOffset,
                    i = r + n.borderWidth,
                    s, o, u, a = n.startAngle || 0,
                    f = this.startAngleRad = G / 180 * (a - 90),
                    a = (this.endAngleRad = G / 180 * ((n.endAngle || a + 360) - 90)) - f,
                    l = this.points,
                    c = n.dataLabels.distance,
                    n = n.ignoreHiddenPoint,
                    h, p = l.length,
                    d;
                e || (this.center = e = this.getCenter()), this.getX = function(t, n) {
                    return u = U.asin((t - e[1]) / (e[2] / 2 + c)), e[0] + (n ? -1 : 1) * K(u) * (e[2] / 2 + c)
                };
                for (h = 0; h < p; h++) {
                    d = l[h], s = f + t * a;
                    if (!n || d.visible) t += d.percentage / 100;
                    o = f + t * a, d.shapeType = "arc", d.shapeArgs = {
                        x: e[0],
                        y: e[1],
                        r: e[2] / 2,
                        innerR: e[3] / 2,
                        start: z(s * 1e3) / 1e3,
                        end: z(o * 1e3) / 1e3
                    }, u = (o + s) / 2, u > .75 * a && (u -= 2 * G), d.slicedTranslation = {
                        translateX: z(K(u) * r),
                        translateY: z(Q(u) * r)
                    }, s = K(u) * e[2] / 2, o = Q(u) * e[2] / 2, d.tooltipPos = [e[0] + s * .7, e[1] + o * .7], d.half = u < -G / 2 || u > G / 2 ? 1 : 0, d.angle = u, i = $(i, c / 2), d.labelPos = [e[0] + s + K(u) * c, e[1] + o + Q(u) * c, e[0] + s + K(u) * i, e[1] + o + Q(u) * i, e[0] + s, e[1] + o, c < 0 ? "center" : d.half ? "right" : "left", u]
                }
            },
            setTooltipPoints: wt,
            drawGraph: null,
            drawPoints: function() {
                var t = this,
                    n = t.chart.renderer,
                    r, i, s = t.options.shadow,
                    o, u;
                s && !t.shadowGroup && (t.shadowGroup = n.g("shadow").add(t.group)), Vt(t.points, function(a) {
                    i = a.graphic, u = a.shapeArgs, o = a.shadowGroup, s && !o && (o = a.shadowGroup = n.g("shadow").add(t.shadowGroup)), r = a.sliced ? a.slicedTranslation : {
                        translateX: 0,
                        translateY: 0
                    }, o && o.attr(r), i ? i.animate(e(u, r)) : a.graphic = i = n.arc(u).setRadialReference(t.center).attr(a.pointAttr[a.selected ? "select" : ""]).attr({
                        "stroke-linejoin": "round"
                    }).attr(r).add(t.group).shadow(s, o), a.visible !== void 0 && a.setVisible(a.visible)
                })
            },
            sortByAngle: function(e, t) {
                e.sort(function(e, n) {
                    return e.angle !== void 0 && (n.angle - e.angle) * t
                })
            },
            drawTracker: Ut.drawTrackerPoint,
            drawLegendSymbol: fn.drawRectangle,
            getCenter: ln.getCenter,
            getSymbol: wt
        }, Rt = m(gn, Rt), qt.pie = Rt, gn.prototype.drawDataLabels = function() {
            var n = this,
                r = n.options,
                i = r.cursor,
                s = r.dataLabels,
                r = n.points,
                o, u, a, f;
            if (s.enabled || n._hasPointLabels) n.dlProcessOptions && n.dlProcessOptions(s), f = n.plotGroup("dataLabelsGroup", "data-labels", n.visible ? "visible" : "hidden", s.zIndex || 6), u = s, Vt(r, function(r) {
                var c, h = r.dataLabel,
                    d, v, m = r.connector,
                    g = !0;
                o = r.options && r.options.dataLabels, c = p(o && o.enabled, u.enabled);
                if (h && !c) r.dataLabel = h.destroy();
                else if (c) {
                    s = t(u, o), c = s.rotation, d = r.getLabelConfig(), a = s.format ? w(s.format, d) : s.formatter.call(d, s), s.style.color = p(s.color, s.style.color, n.color, "black");
                    if (h) {
                        if (l(a)) h.attr({
                            text: a
                        }), g = !1;
                        else if (r.dataLabel = h = h.destroy(), m) r.connector = m.destroy()
                    } else if (l(a)) {
                        h = {
                            fill: s.backgroundColor,
                            stroke: s.borderColor,
                            "stroke-width": s.borderWidth,
                            r: s.borderRadius || 0,
                            rotation: c,
                            padding: s.padding,
                            zIndex: 1
                        };
                        for (v in h) h[v] === I && delete h[v];
                        h = r.dataLabel = n.chart.renderer[c ? "text" : "label"](a, 0, -999, null, null, null, s.useHTML).attr(h).css(e(s.style, i && {
                            cursor: i
                        })).add(f).shadow(s.shadow)
                    }
                    h && n.alignDataLabel(r, h, s, null, g)
                }
            })
        }, gn.prototype.alignDataLabel = function(t, n, r, i, s) {
            var o = this.chart,
                u = o.inverted,
                a = p(t.plotX, -999),
                f = p(t.plotY, -999),
                l = n.getBBox();
            if (t = this.visible && (t.series.forceDL || o.isInsidePlot(t.plotX, t.plotY, u))) i = e({
                x: u ? o.plotWidth - f : a,
                y: z(u ? o.plotHeight - a : f),
                width: 0,
                height: 0
            }, i), e(r, {
                width: l.width,
                height: l.height
            }), r.rotation ? (u = {
                align: r.align,
                x: i.x + r.x + i.width / 2,
                y: i.y + r.y + i.height / 2
            }, n[s ? "attr" : "animate"](u)) : (n.align(r, null, i), u = n.alignAttr, p(r.overflow, "justify") === "justify" ? this.justifyDataLabel(n, r, u, l, i, s) : p(r.crop, !0) && (t = o.isInsidePlot(u.x, u.y) && o.isInsidePlot(u.x + l.width, u.y + l.height)));
            t || (n.attr({
                y: -999
            }), n.placed = !1)
        }, gn.prototype.justifyDataLabel = function(e, t, n, r, i, s) {
            var o = this.chart,
                u = t.align,
                a = t.verticalAlign,
                f, l;
            f = n.x, f < 0 && (u === "right" ? t.align = "left" : t.x = -f, l = !0), f = n.x + r.width, f > o.plotWidth && (u === "left" ? t.align = "right" : t.x = o.plotWidth - f, l = !0), f = n.y, f < 0 && (a === "bottom" ? t.verticalAlign = "top" : t.y = -f, l = !0), f = n.y + r.height, f > o.plotHeight && (a === "top" ? t.verticalAlign = "bottom" : t.y = o.plotHeight - f, l = !0), l && (e.placed = !s, e.align(t, null, i))
        }, qt.pie && (qt.pie.prototype.drawDataLabels = function() {
            var e = this,
                t = e.data,
                n, r = e.chart,
                i = e.options.dataLabels,
                s = p(i.connectorPadding, 10),
                o = p(i.connectorWidth, 1),
                u = r.plotWidth,
                r = r.plotHeight,
                a, f, l = p(i.softConnector, !0),
                c = i.distance,
                h = e.center,
                d = h[2] / 2,
                v = h[1],
                m = c > 0,
                g, y, b, w, E = [
                    [],
                    []
                ],
                S, x, T, N, k, L = [0, 0, 0, 0],
                A = function(e, t) {
                    return t.y - e.y
                };
            if (e.visible && (i.enabled || e._hasPointLabels)) {
                gn.prototype.drawDataLabels.apply(e), Vt(t, function(e) {
                    e.dataLabel && e.visible && E[e.half].push(e)
                });
                for (N = 0; !w && t[N];) w = t[N] && t[N].dataLabel && (t[N].dataLabel.getBBox().height || 21), N++;
                for (N = 2; N--;) {
                    var t = [],
                        O = [],
                        M = E[N],
                        _ = M.length,
                        D;
                    e.sortByAngle(M, N - .5);
                    if (c > 0) {
                        for (k = v - d - c; k <= v + d + c; k += w) t.push(k);
                        y = t.length;
                        if (_ > y) {
                            n = [].concat(M), n.sort(A);
                            for (k = _; k--;) n[k].rank = k;
                            for (k = _; k--;) M[k].rank >= y && M.splice(k, 1);
                            _ = M.length
                        }
                        for (k = 0; k < _; k++) {
                            n = M[k], b = n.labelPos, n = 9999;
                            var P, H;
                            for (H = 0; H < y; H++) P = J(t[H] - b[1]), P < n && (n = P, D = H);
                            if (D < k && t[k] !== null) D = k;
                            else
                                for (y < _ - k + D && t[k] !== null && (D = y - _ + k); t[D] === null;) D++;
                            O.push({
                                i: D,
                                y: t[D]
                            }), t[D] = null
                        }
                        O.sort(A)
                    }
                    for (k = 0; k < _; k++) {
                        n = M[k], b = n.labelPos, g = n.dataLabel, T = n.visible === !1 ? "hidden" : "visible", n = b[1];
                        if (c > 0) {
                            if (y = O.pop(), D = y.i, x = y.y, n > x && t[D + 1] !== null || n < x && t[D - 1] !== null) x = n
                        } else x = n;
                        S = i.justify ? h[0] + (N ? -1 : 1) * (d + c) : e.getX(D === 0 || D === t.length - 1 ? n : x, N), g._attr = {
                            visibility: T,
                            align: b[6]
                        }, g._pos = {
                            x: S + i.x + ({
                                left: s,
                                right: -s
                            }[b[6]] || 0),
                            y: x + i.y - 10
                        }, g.connX = S, g.connY = x, this.options.size === null && (y = g.width, S - y < s ? L[3] = V(z(y - S + s), L[3]) : S + y > u - s && (L[1] = V(z(S + y - u + s), L[1])), x - w / 2 < 0 ? L[0] = V(z(-x + w / 2), L[0]) : x + w / 2 > r && (L[2] = V(z(x + w / 2 - r), L[2])))
                    }
                }
                if (C(L) === 0 || this.verifyDataLabelOverflow(L)) this.placeDataLabels(), m && o && Vt(this.points, function(t) {
                    a = t.connector, b = t.labelPos, (g = t.dataLabel) && g._pos ? (T = g._attr.visibility, S = g.connX, x = g.connY, f = l ? ["M", S + (b[6] === "left" ? 5 : -5), x, "C", S, x, 2 * b[2] - b[4], 2 * b[3] - b[5], b[2], b[3], "L", b[4], b[5]] : ["M", S + (b[6] === "left" ? 5 : -5), x, "L", b[2], b[3], "L", b[4], b[5]], a ? (a.animate({
                        d: f
                    }), a.attr("visibility", T)) : t.connector = a = e.chart.renderer.path(f).attr({
                        "stroke-width": o,
                        stroke: i.connectorColor || t.color || "#606060",
                        visibility: T
                    }).add(e.group)) : a && (t.connector = a.destroy())
                })
            }
        }, qt.pie.prototype.placeDataLabels = function() {
            Vt(this.points, function(e) {
                var e = e.dataLabel,
                    t;
                e && ((t = e._pos) ? (e.attr(e._attr), e[e.moved ? "animate" : "attr"](t), e.moved = !0) : e && e.attr({
                    y: -999
                }))
            })
        }, qt.pie.prototype.alignDataLabel = wt, qt.pie.prototype.verifyDataLabelOverflow = function(e) {
            var t = this.center,
                n = this.options,
                r = n.center,
                i = n = n.minSize || 80,
                s;
            return r[0] !== null ? i = V(t[2] - V(e[1], e[3]), n) : (i = V(t[2] - e[1] - e[3], n), t[0] += (e[3] - e[1]) / 2), r[1] !== null ? i = V($(i, t[2] - V(e[0], e[2])), n) : (i = V($(i, t[2] - e[0] - e[2]), n), t[1] += (e[0] - e[2]) / 2), i < t[2] ? (t[2] = i, this.translate(t), Vt(this.points, function(e) {
                e.dataLabel && (e.dataLabel._pos = null)
            }), this.drawDataLabels && this.drawDataLabels()) : s = !0, s
        }), qt.column && (qt.column.prototype.alignDataLabel = function(e, n, r, i, s) {
            var o = this.chart,
                u = o.inverted,
                a = e.dlBox || e.shapeArgs,
                f = e.below || e.plotY > p(this.translatedThreshold, o.plotSizeY),
                l = p(r.inside, !!this.options.stacking);
            a && (i = t(a), u && (i = {
                x: o.plotWidth - i.y - i.height,
                y: o.plotHeight - i.x - i.width,
                width: i.height,
                height: i.width
            }), !l) && (u ? (i.x += f ? 0 : i.width, i.width = 0) : (i.y += f ? i.height : 0, i.height = 0)), r.align = p(r.align, !u || l ? "center" : f ? "right" : "left"), r.verticalAlign = p(r.verticalAlign, u || l ? "middle" : f ? "top" : "bottom"), gn.prototype.alignDataLabel.call(this, e, n, r, i, s)
        }), e(Highcharts, {
            Axis: H,
            Chart: F,
            Color: un,
            Point: mn,
            Tick: P,
            Tooltip: j,
            Renderer: lt,
            Series: gn,
            SVGElement: D,
            SVGRenderer: an,
            arrayMin: N,
            arrayMax: C,
            charts: Et,
            dateFormat: mt,
            format: w,
            pathAnim: yt,
            getOptions: function() {
                return vt
            },
            hasBidiBug: at,
            isTouchDevice: st,
            numberFormat: g,
            seriesTypes: qt,
            setOptions: function(e) {
                return vt = t(!0, vt, e), _(), vt
            },
            addEvent: Qt,
            removeEvent: Gt,
            createElement: v,
            discardElement: L,
            css: d,
            each: Vt,
            extend: e,
            map: Kt,
            merge: t,
            pick: p,
            splat: h,
            extendClass: m,
            pInt: n,
            wrap: b,
            svg: ut,
            canvas: ft,
            vml: !ut && !ft,
            product: "Highcharts",
            version: "3.0.9"
        })
    }(),
    function(e) {
        var t = e.each,
            n = function(e, t) {
                this.init(e, t)
            };
        e.extend(n.prototype, {
            init: function(e, t) {
                this.options = e, this.chartOptions = t, this.columns = e.columns || this.rowsToColumns(e.rows) || [], this.columns.length ? this.dataFound() : (this.parseCSV(), this.parseTable(), this.parseGoogleSpreadsheet())
            },
            getColumnDistribution: function() {
                var n = this.chartOptions,
                    r = n && n.chart && n.chart.type,
                    i = [];
                t(n && n.series || [], function(t) {
                    i.push((e.seriesTypes[t.type || r || "line"].prototype.pointArrayMap || [0]).length)
                }), this.valueCount = {
                    global: (e.seriesTypes[r || "line"].prototype.pointArrayMap || [0]).length,
                    individual: i
                }
            },
            dataFound: function() {
                this.options.switchRowsAndColumns && (this.columns = this.rowsToColumns(this.columns)), this.parseTypes(), this.findHeaderRow(), this.parsed(), this.complete()
            },
            parseCSV: function() {
                var e = this,
                    n = this.options,
                    r = n.csv,
                    i = this.columns,
                    s = n.startRow || 0,
                    o = n.endRow || Number.MAX_VALUE,
                    u = n.startColumn || 0,
                    a = n.endColumn || Number.MAX_VALUE,
                    f, l, c = 0;
                r && (l = r.replace(/\r\n/g, "\n").replace(/\r/g, "\n").split(n.lineDelimiter || "\n"), f = n.itemDelimiter || (r.indexOf("	") !== -1 ? "	" : ","), t(l, function(n, r) {
                    var l = e.trim(n),
                        p = l.indexOf("#") === 0;
                    r >= s && r <= o && !p && l !== "" && (l = n.split(f), t(l, function(e, t) {
                        t >= u && t <= a && (i[t - u] || (i[t - u] = []), i[t - u][c] = e)
                    }), c += 1)
                }), this.dataFound())
            },
            parseTable: function() {
                var e = this.options,
                    n = e.table,
                    r = this.columns,
                    i = e.startRow || 0,
                    s = e.endRow || Number.MAX_VALUE,
                    o = e.startColumn || 0,
                    u = e.endColumn || Number.MAX_VALUE,
                    a;
                n && (typeof n == "string" && (n = document.getElementById(n)), t(n.getElementsByTagName("tr"), function(e, n) {
                    a = 0, n >= i && n <= s && t(e.childNodes, function(e) {
                        (e.tagName === "TD" || e.tagName === "TH") && a >= o && a <= u && (r[a] || (r[a] = []), r[a][n - i] = e.innerHTML, a += 1)
                    })
                }), this.dataFound())
            },
            parseGoogleSpreadsheet: function() {
                var e = this,
                    t = this.options,
                    n = t.googleSpreadsheetKey,
                    r = this.columns,
                    i = t.startRow || 0,
                    s = t.endRow || Number.MAX_VALUE,
                    o = t.startColumn || 0,
                    u = t.endColumn || Number.MAX_VALUE,
                    a, f;
                n && jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/" + n + "/" + (t.googleSpreadsheetWorksheet || "od6") + "/public/values?alt=json-in-script&callback=?", function(t) {
                    var t = t.feed.entry,
                        n, l = t.length,
                        c = 0,
                        p = 0,
                        v;
                    for (v = 0; v < l; v++) n = t[v], c = Math.max(c, n.gs$cell.col), p = Math.max(p, n.gs$cell.row);
                    for (v = 0; v < c; v++) v >= o && v <= u && (r[v - o] = [], r[v - o].length = Math.min(p, s - i));
                    for (v = 0; v < l; v++)
                        if (n = t[v], a = n.gs$cell.row - 1, f = n.gs$cell.col - 1, f >= o && f <= u && a >= i && a <= s) r[f - o][a - i] = n.content.$t;
                    e.dataFound()
                })
            },
            findHeaderRow: function() {
                t(this.columns, function() {}), this.headerRow = 0
            },
            trim: function(e) {
                return typeof e == "string" ? e.replace(/^\s+|\s+$/g, "") : e
            },
            parseTypes: function() {
                for (var e = this.columns, t = e.length, n, r, i, s; t--;)
                    for (n = e[t].length; n--;) r = e[t][n], i = parseFloat(r), s = this.trim(r), s == i ? (e[t][n] = i, i > 31536e6 ? e[t].isDatetime = !0 : e[t].isNumeric = !0) : (r = this.parseDate(r), t === 0 && typeof r == "number" && !isNaN(r) ? (e[t][n] = r, e[t].isDatetime = !0) : e[t][n] = s === "" ? null : s)
            },
            dateFormats: {
                "YYYY-mm-dd": {
                    regex: "^([0-9]{4})-([0-9]{2})-([0-9]{2})$",
                    parser: function(e) {
                        return Date.UTC(+e[1], e[2] - 1, +e[3])
                    }
                }
            },
            parseDate: function(e) {
                var t = this.options.parseDate,
                    n, r, i;
                t && (n = t(e));
                if (typeof e == "string")
                    for (r in this.dateFormats) t = this.dateFormats[r], (i = e.match(t.regex)) && (n = t.parser(i));
                return n
            },
            rowsToColumns: function(e) {
                var t, n, r, i, s;
                if (e) {
                    s = [], n = e.length;
                    for (t = 0; t < n; t++) {
                        i = e[t].length;
                        for (r = 0; r < i; r++) s[r] || (s[r] = []), s[r][t] = e[t][r]
                    }
                }
                return s
            },
            parsed: function() {
                this.options.parsed && this.options.parsed.call(this, this.columns)
            },
            complete: function() {
                var t = this.columns,
                    n, r, i = this.options,
                    s, o, u, a, f, l;
                if (i.complete) {
                    this.getColumnDistribution(), t.length > 1 && (n = t.shift(), this.headerRow === 0 && n.shift(), n.isDatetime ? r = "datetime" : n.isNumeric || (r = "category"));
                    for (a = 0; a < t.length; a++) this.headerRow === 0 && (t[a].name = t[a].shift());
                    o = [];
                    for (a = 0, l = 0; a < t.length; l++) {
                        s = e.pick(this.valueCount.individual[l], this.valueCount.global), u = [];
                        for (f = 0; f < t[a].length; f++) u[f] = [n[f], t[a][f] !== void 0 ? t[a][f] : null], s > 1 && u[f].push(t[a + 1][f] !== void 0 ? t[a + 1][f] : null), s > 2 && u[f].push(t[a + 2][f] !== void 0 ? t[a + 2][f] : null), s > 3 && u[f].push(t[a + 3][f] !== void 0 ? t[a + 3][f] : null), s > 4 && u[f].push(t[a + 4][f] !== void 0 ? t[a + 4][f] : null);
                        o[l] = {
                            name: t[a].name,
                            data: u
                        }, a += s
                    }
                    i.complete({
                        xAxis: {
                            type: r
                        },
                        series: o
                    })
                }
            }
        }), e.Data = n, e.data = function(e, t) {
            return new n(e, t)
        }, e.wrap(e.Chart.prototype, "init", function(n, r, i) {
            var s = this;
            r && r.data ? e.data(e.extend(r.data, {
                complete: function(o) {
                    r.series && t(r.series, function(t, n) {
                        r.series[n] = e.merge(t, o.series[n])
                    }), r = e.merge(o, r), n.call(s, r, i)
                }
            }), r) : n.call(s, r, i)
        })
    }(Highcharts),
    function() {
        $(function() {
            var e, t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T;
            a = '"Trebuchet MS", Trebuchet, Arial, Helvetica, Garuda, FreeSans, sans-serif', f = "10px", u = "#666666", s = 33, o = 0, r = function(e) {
                return $(e.id).highcharts({
                    chart: {
                        height: e.height,
                        marginBottom: e.marginBottom,
                        marginTop: e.marginTop,
                        spacingLeft: e.spacingLeft,
                        spacingRight: 35,
                        type: "bar",
                        width: e.width,
                        style: {
                            fontFamily: a,
                            fontSize: f,
                            color: u,
                            textTransform: "none"
                        }
                    },
                    colors: [e.color],
                    credits: {
                        enabled: !1
                    },
                    data: {
                        table: document.getElementById(e.table)
                    },
                    exporting: {
                        enabled: !1
                    },
                    legend: {
                        enabled: !1
                    },
                    plotOptions: {
                        bar: {
                            dataLabels: {
                                enabled: !0,
                                format: "{y}%",
                                style: {
                                    fontFamily: a,
                                    fontSize: f,
                                    color: u
                                }
                            },
                            pointWidth: 12,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        },
                        series: {
                            dataLabels: {
                                crop: !1,
                                overflow: "none"
                            }
                        }
                    },
                    series: [{
                        animation: !1
                    }],
                    title: {
                        text: null
                    },
                    tooltip: {
                        enabled: !1
                    },
                    xAxis: {
                        alternateGridColor: "#F0F0F0",
                        labels: {
                            align: "left",
                            overflow: "justify",
                            style: {
                                fontFamily: a,
                                fontSize: f,
                                color: u,
                                whiteSpace: "nowrap",
                                textTransform: "none"
                            },
                            useHTML: !0,
                            x: -e.spacingLeft
                        },
                        tickWidth: 0
                    },
                    yAxis: {
                        gridLineWidth: 0,
                        labels: {
                            overflow: "justify",
                            format: "{value}%",
                            style: {
                                fontFamily: a,
                                fontSize: f,
                                color: u,
                                textTransform: "none"
                            }
                        },
                        lineWidth: 1,
                        min: 0,
                        minTickInterval: 100,
                        max: 100,
                        tickWidth: 1,
                        title: {
                            text: e.title,
                            style: {
                                fontFamily: a,
                                fontSize: f,
                                color: u,
                                textTransform: "uppercase"
                            }
                        }
                    }
                })
            }, n = [l = {
                id: "#home-value-chart",
                color: "#775E95",
                height: 250,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 120,
                table: "home-values",
                title: "% of homes",
                width: 310
            }, e = {
                id: "#home-age-chart",
                color: "#3B7CBA",
                height: 185,
                marginBottom: s + 30,
                marginTop: o,
                spacingLeft: 90,
                table: "home-age",
                title: "% of Homes",
                width: 250
            }, E = {
                id: "#home-type-chart",
                color: "#3B7CBA",
                height: 185,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 115,
                table: "home-type",
                title: "% of Homes",
                width: 240
            }, w = {
                id: "#home-size-chart",
                color: "#3B7CBA",
                height: 115,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 80,
                table: "home-size",
                title: "% of Homes",
                width: 240
            }, y = {
                id: "#home-purpose-chart",
                color: "#3B7CBA",
                height: 145,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 95,
                table: "home-purpose",
                title: "% of Homes",
                width: 240
            }, c = {
                id: "#homeownership-rate-chart",
                color: "#775E95",
                height: 135,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 110,
                table: "homeownership-rate",
                title: "% of Homes",
                width: 506
            }, v = {
                id: "#military-college-chart",
                color: "#479DB4",
                height: 85,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 105,
                table: "military-college",
                title: "% of Residents",
                width: 506
            }, m = {
                id: "#occupations-chart",
                color: "#479DB4",
                height: 175,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 215,
                table: "occupations",
                title: "% of Employed Residents 16 or Older",
                width: 506
            }, h = {
                id: "#industries-sectors-chart",
                color: "#B2484D",
                height: 520,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 235,
                table: "industries-sectors",
                title: "% of Residents",
                width: 506
            }, i = {
                id: "#commute-time-chart",
                color: "#765D94",
                height: 155,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 120,
                table: "commute-time",
                title: "% of Residents",
                width: 506
            }, d = {
                id: "#migrate-mobile-chart",
                color: "#489DB4",
                height: 105,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 120,
                table: "migrate-mobile",
                title: "% of Residents",
                width: 506
            }, b = {
                id: "#diversity-chart",
                color: "#F39D3F",
                height: 215,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 190,
                table: "diversity",
                title: "% of Residents",
                width: 506
            }, t = {
                id: "#ancestry-chart",
                color: "#8EAA55",
                height: 520,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 100,
                table: "ancestry",
                title: "% of Residents",
                width: 235
            }, p = {
                id: "#language-chart",
                color: "#775D94",
                height: 520,
                marginBottom: s,
                marginTop: o,
                spacingLeft: 100,
                table: "language",
                title: "% of Residents",
                width: 235
            }], T = [];
            for (S = 0, x = n.length; S < x; S++) g = n[S], T.push(r(g));
            return T
        })
    }.call(this),
    function() {
        $(function() {
            var e, t, n, r, i, s, o, u, a, f;
            r = '"Trebuchet MS", Trebuchet, Arial, Helvetica, Garuda, FreeSans, sans-serif', i = "10px", n = "#666666", e = function(e) {
                return $(e.id).highcharts({
                    chart: {
                        height: e.height,
                        spacing: [5, 1, 2, 15],
                        type: "column",
                        width: e.width,
                        style: {
                            textTransform: "uppercase"
                        }
                    },
                    colors: [e.color],
                    credits: {
                        enabled: !1
                    },
                    data: {
                        table: document.getElementById(e.table)
                    },
                    exporting: {
                        enabled: !1
                    },
                    legend: {
                        enabled: !1
                    },
                    plotOptions: {
                        column: {
                            dataLabels: {
                                enabled: !0,
                                format: "${y}",
                                style: {
                                    fontFamily: r,
                                    fontSize: i,
                                    colors: n
                                }
                            },
                            pointWidth: 12,
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        }
                    },
                    series: [{
                        animation: !1
                    }],
                    title: {
                        text: null
                    },
                    tooltip: {
                        enabled: !1
                    },
                    xAxis: {
                        alternateGridColor: "#F0F0F0",
                        labels: {
                            y: 20,
                            overflow: "justify",
                            style: {
                                fontFamily: r,
                                fontSize: "9px",
                                color: n,
                                textTransform: "none"
                            }
                        },
                        title: {
                            text: " ",
                            offset: 45
                        },
                        tickWidth: 0
                    },
                    yAxis: {
                        gridLineWidth: 0,
                        labels: {
                            x: -6,
                            overflow: "justify",
                            format: "${value}",
                            style: {
                                fontFamily: r,
                                fontSize: i,
                                color: n,
                                width: "100px"
                            }
                        },
                        lineWidth: 1,
                        maxPadding: .1,
                        min: 0,
                        tickPixelInterval: e.height,
                        tickWidth: 1,
                        title: {
                            text: e.title,
                            offset: 10,
                            style: {
                                fontFamily: r,
                                fontSize: i,
                                color: n
                            }
                        }
                    }
                })
            }, t = [o = {
                id: "#rental-market-chart",
                color: "#B2484D",
                height: 210,
                table: "rental-markets",
                title: "Monthly Rent",
                width: 245
            }], f = [];
            for (u = 0, a = t.length; u < a; u++) s = t[u], f.push(e(s));
            return f
        })
    }.call(this),
    function() {
        $(function() {
            var e, t, n, r, i, s, o, u, a, f, l;
            n = '"Trebuchet MS", Trebuchet, Arial, Helvetica, Garuda, FreeSans, sans-serif', r = "9px", t = "white", e = function(e) {
                return $(e.id).highcharts({
                    chart: {
                        backgroundColor: "transparent",
                        height: 200,
                        margin: [10, 10, 20, 20],
                        spacing: [5, 5, 0, 0],
                        type: "scatter",
                        width: 200,
                        style: {
                            fontColor: t,
                            fontFamily: n,
                            fontSize: r
                        }
                    },
                    credits: {
                        enabled: !1
                    },
                    data: {
                        table: document.getElementById(e.table)
                    },
                    legend: {
                        enabled: !1
                    },
                    plotOptions: {
                        scatter: {
                            animation: !1,
                            marker: {
                                radius: 10
                            },
                            states: {
                                hover: {
                                    enabled: !1
                                }
                            }
                        }
                    },
                    series: [{
                        color: e.seriesColor
                    }],
                    title: {
                        text: null
                    },
                    tooltip: {
                        backgroundColor: "#F0F0F0",
                        hideDelay: 0,
                        formatter: function() {
                            return "<span style='text-align: center;'>" + e.tooltipText + "</span>"
                        },
                        style: {
                            fontColor: t,
                            fontFamily: n,
                            fontSize: r
                        },
                        useHTML: !0
                    },
                    xAxis: {
                        gridLineColor: e.axisColor,
                        gridLineWidth: 1,
                        labels: {
                            enabled: !1
                        },
                        lineColor: e.axisColor,
                        lineWidth: 1,
                        max: 100,
                        min: 0,
                        minorGridLineWidth: 1,
                        minorGridLineColor: e.gridColor,
                        minorTickInterval: 50,
                        reversed: !0,
                        tickInterval: 100,
                        tickWidth: 0,
                        title: {
                            enabled: !0,
                            margin: 3,
                            style: {
                                color: t,
                                fontFamily: n,
                                fontSize: r,
                                textTransform: "uppercase"
                            },
                            text: e.xTitle
                        }
                    },
                    yAxis: {
                        gridLineColor: e.axisColor,
                        gridLineWidth: 1,
                        labels: {
                            enabled: !1
                        },
                        lineColor: e.axisColor,
                        lineWidth: 1,
                        max: 100,
                        min: 0,
                        minorGridLineWidth: 1,
                        minorGridLineColor: e.gridColor,
                        minorTickInterval: 50,
                        reversed: !0,
                        tickInterval: 100,
                        title: {
                            enabled: !0,
                            margin: 5,
                            style: {
                                color: t,
                                fontFamily: n,
                                fontSize: r,
                                textTransform: "uppercase"
                            },
                            text: e.yTitle
                        }
                    }
                })
            }, u = [i = {
                id: "#home-value-comparison-chart",
                table: "home-value-comparison",
                gridColor: "#D6CEDF",
                axisColor: "#775E95",
                seriesColor: "#775E95",
                tooltipText: $("#home-value-tooltip").html(),
                xTitle: "Value Relative to Nation",
                yTitle: "Value Relative to State"
            }, o = {
                id: "#rental-market-comparison-chart",
                table: "rental-market-comparison",
                gridColor: "#E8C8C9",
                axisColor: "#B2484D",
                seriesColor: "#B2484D",
                tooltipText: $("#rental-market-tooltip").html(),
                xTitle: "Rent Relative to Nation",
                yTitle: "Rent Relative to State"
            }], l = [];
            for (a = 0, f = u.length; a < f; a++) s = u[a], l.push(e(s));
            return l
        })
    }.call(this),
    function() {
        $(function() {
            var e, t, n, r, i, s, o, u, a, f, l, c, h;
            r = '"Trebuchet MS", Trebuchet, Arial, Helvetica, sans-serif', i = "10px", n = "#666666", t = function(e) {
                return $(e.id).highcharts({
                    chart: {
                        height: e.height,
                        spacingBottom: 0,
                        plotShadow: !1,
                        type: "pie",
                        width: e.width
                    },
                    colors: ["#3B7CBA", "#775E95", "#B2494D", "#479DB4", "#8EAA55", "#DD8A44", "#E6DF1A", "#f37528"],
                    credits: {
                        enabled: !1
                    },
                    data: {
                        table: document.getElementById(e.table)
                    },
                    exporting: {
                        enabled: !1
                    },
                    legend: {
                        borderWidth: 0,
                        itemWidth: e.itemWidth,
                        layout: e.legendLayout,
                        padding: 0,
                        itemHoverStyle: {
                            cursor: null
                        },
                        itemMarginBottom: 3,
                        itemStyle: {
                            color: n,
                            fontFamily: r,
                            fontSize: i
                        },
                        symbolHeight: 10,
                        y: e.yOffset
                    },
                    plotOptions: {
                        pie: {
                            center: ["50%", e.width / 3],
                            dataLabels: {
                                distance: 7,
                                format: "{y:.1f}%",
                                style: {
                                    color: n,
                                    fontFamily: r,
                                    fontSize: i
                                }
                            },
                            point: {
                                events: {
                                    legendItemClick: function(e) {
                                        return e.preventDefault()
                                    }
                                }
                            },
                            showInLegend: !0,
                            size: 7 * e.width / 12,
                            shadow: !0
                        }
                    },
                    series: [{
                        animation: !1
                    }],
                    title: {
                        text: null
                    },
                    tooltip: {
                        enabled: !1
                    }
                })
            }, a = [e = {
                id: "#age-chart",
                table: "ages",
                height: 280,
                width: 235,
                itemWidth: 80,
                legendLayout: "horizontal",
                yOffset: -15
            }, o = {
                id: "#marital-status-chart",
                table: "marital-status",
                height: 280,
                width: 235,
                itemWidth: 100,
                legendLayout: "vertical",
                yOffset: -5
            }, f = {
                id: "#transportation-means-chart",
                table: "transportation-means",
                height: 280,
                width: 235,
                itemWidth: 90,
                legendLayout: "horizontal",
                yOffset: -5
            }, s = {
                id: "#household-vehicles-chart",
                table: "household-vehicles",
                height: 280,
                width: 235,
                itemWidth: 100,
                legendLayout: "vertical",
                yOffset: -15
            }], h = [];
            for (l = 0, c = a.length; l < c; l++) u = a[l], h.push(t(u));
            return h
        })
    }.call(this),
    function() {
        this.NScout = this.NScout || {}, this.NScout.SignUpSource = {
            set: function(e) {
                return $("#sign-up-popup form input.sign_up_source").remove(), $("#sign-up-popup form").append("<input type=hidden class='sign_up_source' name='user[sign_up_source_attributes][value]' value='" + e + "'>")
            }
        }
    }.call(this);
var NScout = NScout || {};
NScout.Calculator = {
    award: null,
    price1: null,
    price2: null,
    percent1: null,
    percent2: null,
    fee: .375,
    clark_calc: !1,
    init: function() {
        var e = this;
        $('form[name="calculator"] a.calculate, button#calcbutton').click(function() {
            return e.calculate(), !1
        }), e.calculate()
    },
    calculate: function() {
        $("form[name='calculator']").hasClass("clarkhomebenefits") && (this.clark_calc = !0), this.price1 = this._strip($("#price1").val() || 0), this.price2 = this._strip($("#price2").val() || 0), this.percent1 = this._getPercent(this.price1), this.percent2 = this._getPercent(this.price2), this.award = this._calcAward(), this.award > 15e3 && (this.award = 15e3), $("#award").get(0) && $("#award").get(0).tagName.toLowerCase() == "input" ? $("#award").val(this._formatCurrency(this.award)) : $("#award").html("$" + this._formatCurrency(this.award))
    },
    _getPercent: function(e) {
        if (this.clark_calc) return e < 1e5 ? 0 : .5;
        var t;
        return e < 1e5 ? t = 0 : e < 25e4 ? t = .2 : e < 5e5 ? t = .25 : e < 7e5 ? t = .35 : e < 1e6 ? t = .4 : t = .5, t
    },
    _calcAward: function() {
        return this.price1 * .03 * this.fee * this.percent1 + this.price2 * .03 * this.fee * this.percent2
    },
    _formatCurrency: function(e) {
        e = e.toString().replace(/\$|\,/g, ""), isNaN(e) && (e = "0");
        var t = e == (e = Math.abs(e));
        e = Math.round(e * 100 + .50000000001);
        var n = e % 100;
        e = Math.round(e / 100).toString(), n < 10 && (n = "0" + n);
        for (var r = 0; r < Math.floor((e.length - (1 + r)) / 3); r++) e = e.substring(0, e.length - (4 * r + 3)) + "," + e.substring(e.length - (4 * r + 3));
        return (t ? "" : "-") + e
    },
    _strip: function(e) {
        e = "" + e;
        if ("" == e) return;
        var t = "";
        for (var n = 0; n < e.length; n++) {
            var r = e.charAt(n);
            "0123456789".indexOf(r) != -1 && (t += r)
        }
        return t
    }
}, jQuery(document).ready(function() {
    NScout.Calculator.init()
}), $(".custom-tab-open").on("click", function() {
    var e = $(this).attr("href");
    return $(".tabs-content>div.active").removeClass("active"), $(".tabs-content>div" + e).addClass("active"), !1
}), jQuery(document).ready(function(e) {
    e(".has-dropdown > a").on("click", function(e) {
        e.stopPropagation(), e.preventDefault()
    }), e(".dropdown li a").on("mouseenter", function(t) {
        parentMenu = e(t.target.closest(".has-dropdown")).children(), e(parentMenu).css("background-color", "#222")
    }), e(".dropdown li a").on("mouseleave", function(t) {
        parentMenu = e(t.target.closest(".has-dropdown")).children(), e(parentMenu).css("background-color", "")
    }), e("#login-menu-item").on("click", function(t) {
        e("#myModal").foundation("reveal", "open"), t.stopPropagation(), t.preventDefault()
    })
}(jQuery));
var NScout;
Foundation.set_namespace = function() {
    this.global.namespace = []
}, $(function() {
    ($("body").hasClass("page-search") || $("body").hasClass("search-result")) && $("select").foundationSelect(), $(document).foundation()
}), NScout = NScout || {};